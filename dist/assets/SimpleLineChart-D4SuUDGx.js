import{_ as e}from"./index-Dur0lEaU.js";import{r as l,c as a,o as t,a as s,e as u,f as i,B as o,F as v,C as n,L as r,x as d,k as c}from"./vue-vendor-BY5hdAT7.js";import"./utils-vendor-COuxBHZ0.js";const x={class:"simple-line-chart"},y={class:"chart-header"},h={class:"chart-title"},b={class:"chart-legend"},m={class:"legend-label"},p=["width","height"],f={class:"grid"},g=["x1","y1","x2","y2"],k=["x1","y1","x2","y2"],$={class:"data-lines"},w=["d","stroke","stroke-width"],L={class:"data-points"},M=["cx","cy","r","fill","onMouseover"],C={class:"axes"},E=["x1","y1","x2","y2"],_=["x1","y1","x2","y2"],A={class:"axis-labels"},I=["x","y"],S=["x","y"],j={class:"tooltip-title"},B={class:"tooltip-value"},q=e({__name:"SimpleLineChart",props:{title:{type:String,default:"GrÃ¡fico de Linha"},datasets:{type:Array,required:!0,validator:e=>e.every(e=>e.label&&e.data&&Array.isArray(e.data)&&e.color)},labels:{type:Array,required:!0},width:{type:Number,default:600},height:{type:Number,default:300}},setup(e){const q=e,z=l(null),N=l(q.width),R=l(q.height),F=l({top:20,right:20,bottom:40,left:60}),G=l({visible:!1,x:0,y:0,label:"",value:""}),W=a(()=>{const e=q.datasets.flatMap(e=>e.data);return{min:Math.min(...e),max:Math.max(...e)}}),X=a(()=>(N.value-F.value.left-F.value.right)/(q.labels.length-1)),Y=a(()=>(R.value-F.value.top-F.value.bottom)/(W.value.max-W.value.min)),D=a(()=>{const e=[],l=(W.value.max-W.value.min)/5;for(let a=0;a<=5;a++){const t=W.value.min+l*a,s=R.value-F.value.bottom-(t-W.value.min)*Y.value;e.push({y:s,value:t})}return e}),H=a(()=>{const e=[];return q.labels.forEach((l,a)=>{const t=F.value.left+a*X.value;e.push({x:t,label:l})}),e}),J=a(()=>q.labels.map((e,l)=>({x:F.value.left+l*X.value,text:e}))),K=a(()=>D.value.map(e=>({y:e.y,text:Math.round(e.value).toLocaleString()}))),O=a(()=>{const e=[];return q.datasets.forEach((l,a)=>{l.data.forEach((t,s)=>{const u=F.value.left+s*X.value,i=R.value-F.value.bottom-(t-W.value.min)*Y.value;e.push({x:u,y:i,value:t,label:q.labels[s],color:l.color,datasetIndex:a,pointIndex:s,datasetLabel:l.label})})}),e}),P=e=>{let l="";return e.forEach((e,a)=>{const t=F.value.left+a*X.value,s=R.value-F.value.bottom-(e-W.value.min)*Y.value;l+=0===a?`M ${t} ${s}`:` L ${t} ${s}`}),l},Q=()=>{G.value.visible=!1},T=()=>{if(z.value){const e=z.value.getBoundingClientRect();N.value=Math.max(300,e.width)}};return t(()=>{T(),window.addEventListener("resize",T)}),s(()=>{window.removeEventListener("resize",T)}),(l,a)=>(c(),u("div",x,[i("div",y,[i("h3",h,o(e.title),1),i("div",b,[(c(!0),u(v,null,n(e.datasets,e=>(c(),u("div",{key:e.label,class:"legend-item"},[i("div",{class:"legend-color",style:r({backgroundColor:e.color})},null,4),i("span",m,o(e.label),1)]))),128))])]),i("div",{class:"chart-container",ref_key:"chartContainer",ref:z},[(c(),u("svg",{width:N.value,height:R.value,class:"chart-svg"},[i("g",f,[(c(!0),u(v,null,n(D.value,(e,l)=>(c(),u("line",{key:`h-${l}`,x1:F.value.left,y1:e.y,x2:N.value-F.value.right,y2:e.y,class:"grid-line"},null,8,g))),128)),(c(!0),u(v,null,n(H.value,(e,l)=>(c(),u("line",{key:`v-${l}`,x1:e.x,y1:F.value.top,x2:e.x,y2:R.value-F.value.bottom,class:"grid-line"},null,8,k))),128))]),i("g",$,[(c(!0),u(v,null,n(e.datasets,e=>(c(),u("path",{key:e.label,d:P(e.data),stroke:e.color,"stroke-width":e.strokeWidth||2,fill:"none",class:"data-line"},null,8,w))),128))]),i("g",L,[(c(!0),u(v,null,n(O.value,(e,l)=>(c(),u("circle",{key:`${e.datasetIndex}-${l}`,cx:e.x,cy:e.y,r:e.radius||4,fill:e.color,class:"data-point",onMouseover:l=>((e,l)=>{const a=z.value.getBoundingClientRect();G.value={visible:!0,x:e.clientX-a.left+10,y:e.clientY-a.top-10,label:`${l.datasetLabel} - ${l.label}`,value:l.value.toLocaleString()}})(l,e),onMouseout:Q},null,40,M))),128))]),i("g",C,[i("line",{x1:F.value.left,y1:R.value-F.value.bottom,x2:N.value-F.value.right,y2:R.value-F.value.bottom,class:"axis-line"},null,8,E),i("line",{x1:F.value.left,y1:F.value.top,x2:F.value.left,y2:R.value-F.value.bottom,class:"axis-line"},null,8,_)]),i("g",A,[(c(!0),u(v,null,n(J.value,(e,l)=>(c(),u("text",{key:`x-${l}`,x:e.x,y:R.value-F.value.bottom+20,class:"axis-label","text-anchor":"middle"},o(e.text),9,I))),128)),(c(!0),u(v,null,n(K.value,(e,l)=>(c(),u("text",{key:`y-${l}`,x:F.value.left-10,y:e.y,class:"axis-label","text-anchor":"end","dominant-baseline":"middle"},o(e.text),9,S))),128))])],8,p)),G.value.visible?(c(),u("div",{key:0,class:"chart-tooltip",style:r({left:G.value.x+"px",top:G.value.y+"px"})},[i("div",j,o(G.value.label),1),i("div",B,o(G.value.value),1)],4)):d("",!0)],512)]))}},[["__scopeId","data-v-35c6d778"]]);export{q as default};
//# sourceMappingURL=SimpleLineChart-D4SuUDGx.js.map
