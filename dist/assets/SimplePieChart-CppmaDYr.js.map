{"version":3,"file":"SimplePieChart-CppmaDYr.js","sources":["../../src/components/charts/SimplePieChart.vue"],"sourcesContent":["<template>\n  <div class=\"simple-pie-chart\">\n    <div class=\"chart-header\">\n      <h3 class=\"chart-title\">{{ title }}</h3>\n    </div>\n    \n    <div class=\"chart-container\">\n      <div class=\"chart-content\">\n        <svg :width=\"size\" :height=\"size\" class=\"pie-svg\">\n          <!-- Pie slices -->\n          <g class=\"pie-slices\" :transform=\"`translate(${center}, ${center})`\">\n            <path\n              v-for=\"(slice, index) in pieSlices\"\n              :key=\"index\"\n              :d=\"slice.path\"\n              :fill=\"slice.color\"\n              :stroke=\"strokeColor\"\n              :stroke-width=\"strokeWidth\"\n              class=\"pie-slice\"\n              @mouseover=\"showTooltip($event, slice)\"\n              @mouseout=\"hideTooltip\"\n            />\n          </g>\n          \n          <!-- Center circle (for donut style) -->\n          <circle\n            v-if=\"donut\"\n            :cx=\"center\"\n            :cy=\"center\"\n            :r=\"innerRadius\"\n            :fill=\"centerFill\"\n            class=\"center-circle\"\n          />\n          \n          <!-- Center text -->\n          <g v-if=\"showCenterText\" class=\"center-text\" :transform=\"`translate(${center}, ${center})`\">\n            <text\n              y=\"-5\"\n              text-anchor=\"middle\"\n              dominant-baseline=\"middle\"\n              class=\"center-value\"\n            >\n              {{ totalValue.toLocaleString() }}\n            </text>\n            <text\n              y=\"15\"\n              text-anchor=\"middle\"\n              dominant-baseline=\"middle\"\n              class=\"center-label\"\n            >\n              Total\n            </text>\n          </g>\n        </svg>\n        \n        <!-- Legend -->\n        <div class=\"chart-legend\">\n          <div\n            v-for=\"(item, index) in data\"\n            :key=\"index\"\n            class=\"legend-item\"\n            @mouseover=\"highlightSlice(index)\"\n            @mouseout=\"unhighlightSlice\"\n          >\n            <div class=\"legend-color\" :style=\"{ backgroundColor: item.color }\"></div>\n            <div class=\"legend-content\">\n              <div class=\"legend-label\">{{ item.label }}</div>\n              <div class=\"legend-value\">\n                {{ item.value.toLocaleString() }} ({{ getPercentage(item.value) }}%)\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Tooltip -->\n      <div\n        v-if=\"tooltip.visible\"\n        class=\"chart-tooltip\"\n        :style=\"{ left: tooltip.x + 'px', top: tooltip.y + 'px' }\"\n      >\n        <div class=\"tooltip-title\">{{ tooltip.label }}</div>\n        <div class=\"tooltip-value\">{{ tooltip.value }} ({{ tooltip.percentage }}%)</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\n// Props\nconst props = defineProps({\n  title: {\n    type: String,\n    default: 'GrÃ¡fico de Pizza'\n  },\n  data: {\n    type: Array,\n    required: true,\n    validator: (data) => {\n      return data.every(item => \n        item.label && \n        typeof item.value === 'number' &&\n        item.color\n      )\n    }\n  },\n  size: {\n    type: Number,\n    default: 300\n  },\n  donut: {\n    type: Boolean,\n    default: false\n  },\n  showCenterText: {\n    type: Boolean,\n    default: false\n  },\n  strokeColor: {\n    type: String,\n    default: '#ffffff'\n  },\n  strokeWidth: {\n    type: Number,\n    default: 2\n  },\n  centerFill: {\n    type: String,\n    default: '#ffffff'\n  }\n})\n\n// State\nconst tooltip = ref({\n  visible: false,\n  x: 0,\n  y: 0,\n  label: '',\n  value: '',\n  percentage: ''\n})\n\nconst highlightedSlice = ref(-1)\n\n// Computed properties\nconst center = computed(() => props.size / 2)\nconst radius = computed(() => (props.size / 2) - 10)\nconst innerRadius = computed(() => props.donut ? radius.value * 0.6 : 0)\n\nconst totalValue = computed(() => {\n  return props.data.reduce((sum, item) => sum + item.value, 0)\n})\n\nconst pieSlices = computed(() => {\n  let currentAngle = -Math.PI / 2 // Start at top\n  \n  return props.data.map((item, index) => {\n    const percentage = item.value / totalValue.value\n    const sliceAngle = percentage * 2 * Math.PI\n    \n    const startAngle = currentAngle\n    const endAngle = currentAngle + sliceAngle\n    \n    const x1 = Math.cos(startAngle) * radius.value\n    const y1 = Math.sin(startAngle) * radius.value\n    const x2 = Math.cos(endAngle) * radius.value\n    const y2 = Math.sin(endAngle) * radius.value\n    \n    const largeArcFlag = sliceAngle > Math.PI ? 1 : 0\n    \n    let path\n    if (props.donut) {\n      const innerX1 = Math.cos(startAngle) * innerRadius.value\n      const innerY1 = Math.sin(startAngle) * innerRadius.value\n      const innerX2 = Math.cos(endAngle) * innerRadius.value\n      const innerY2 = Math.sin(endAngle) * innerRadius.value\n      \n      path = [\n        `M ${x1} ${y1}`,\n        `A ${radius.value} ${radius.value} 0 ${largeArcFlag} 1 ${x2} ${y2}`,\n        `L ${innerX2} ${innerY2}`,\n        `A ${innerRadius.value} ${innerRadius.value} 0 ${largeArcFlag} 0 ${innerX1} ${innerY1}`,\n        'Z'\n      ].join(' ')\n    } else {\n      path = [\n        'M 0 0',\n        `L ${x1} ${y1}`,\n        `A ${radius.value} ${radius.value} 0 ${largeArcFlag} 1 ${x2} ${y2}`,\n        'Z'\n      ].join(' ')\n    }\n    \n    currentAngle = endAngle\n    \n    return {\n      path,\n      color: item.color,\n      label: item.label,\n      value: item.value,\n      percentage: Math.round(percentage * 100),\n      index\n    }\n  })\n})\n\n// Methods\nconst getPercentage = (value) => {\n  return Math.round((value / totalValue.value) * 100)\n}\n\nconst showTooltip = (event, slice) => {\n  const rect = event.target.closest('.chart-container').getBoundingClientRect()\n  tooltip.value = {\n    visible: true,\n    x: event.clientX - rect.left + 10,\n    y: event.clientY - rect.top - 10,\n    label: slice.label,\n    value: slice.value.toLocaleString(),\n    percentage: slice.percentage\n  }\n}\n\nconst hideTooltip = () => {\n  tooltip.value.visible = false\n}\n\nconst highlightSlice = (index) => {\n  highlightedSlice.value = index\n}\n\nconst unhighlightSlice = () => {\n  highlightedSlice.value = -1\n}\n</script>\n\n<style scoped>\n.simple-pie-chart {\n  background-color: var(--bg-primary);\n  border-radius: var(--radius-lg);\n  padding: var(--spacing-lg);\n  box-shadow: var(--shadow-sm);\n}\n\n.chart-header {\n  margin-bottom: var(--spacing-lg);\n}\n\n.chart-title {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin: 0;\n  text-align: center;\n}\n\n.chart-container {\n  position: relative;\n}\n\n.chart-content {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xl);\n}\n\n.pie-svg {\n  flex-shrink: 0;\n}\n\n.pie-slice {\n  cursor: pointer;\n  transition: opacity 0.2s ease;\n}\n\n.pie-slice:hover {\n  opacity: 0.8;\n}\n\n.center-value {\n  font-size: 1.25rem;\n  font-weight: 700;\n  fill: var(--text-primary);\n  font-family: inherit;\n}\n\n.center-label {\n  font-size: 0.875rem;\n  fill: var(--text-secondary);\n  font-family: inherit;\n}\n\n.chart-legend {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-sm);\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.legend-item:hover {\n  background-color: var(--bg-secondary);\n}\n\n.legend-color {\n  width: 16px;\n  height: 16px;\n  border-radius: var(--radius-sm);\n  flex-shrink: 0;\n}\n\n.legend-content {\n  flex: 1;\n}\n\n.legend-label {\n  font-size: 0.875rem;\n  font-weight: 500;\n  color: var(--text-primary);\n  margin-bottom: 2px;\n}\n\n.legend-value {\n  font-size: 0.75rem;\n  color: var(--text-secondary);\n}\n\n.chart-tooltip {\n  position: absolute;\n  background-color: var(--bg-dark);\n  color: white;\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-md);\n  font-size: 0.75rem;\n  pointer-events: none;\n  z-index: 1000;\n  box-shadow: var(--shadow-lg);\n}\n\n.tooltip-title {\n  font-weight: 600;\n  margin-bottom: var(--spacing-xs);\n}\n\n.tooltip-value {\n  font-size: 0.875rem;\n}\n\n@media (max-width: 768px) {\n  .chart-content {\n    flex-direction: column;\n    gap: var(--spacing-lg);\n  }\n  \n  .chart-legend {\n    width: 100%;\n  }\n}\n</style>"],"names":["props","__props","tooltip","ref","visible","x","y","label","value","percentage","highlightedSlice","center","computed","size","radius","innerRadius","donut","totalValue","data","reduce","sum","item","pieSlices","currentAngle","Math","PI","map","index","sliceAngle","startAngle","endAngle","x1","cos","y1","sin","x2","y2","largeArcFlag","path","innerX1","innerY1","innerX2","innerY2","join","color","round","hideTooltip","unhighlightSlice","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","title","_hoisted_4","_hoisted_5","width","height","class","transform","_Fragment","_renderList","slice","key","d","fill","stroke","strokeColor","strokeWidth","onMouseover","$event","event","rect","target","closest","getBoundingClientRect","clientX","left","clientY","top","toLocaleString","showTooltip","onMouseout","cx","cy","r","centerFill","showCenterText","_hoisted_11","_hoisted_12","highlightSlice","style","_normalizeStyle","backgroundColor","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18"],"mappings":"smCA4FA,MAAMA,EAAQC,EA2CRC,EAAUC,EAAI,CAClBC,SAAS,EACTC,EAAG,EACHC,EAAG,EACHC,MAAO,GACPC,MAAO,GACPC,WAAY,KAGRC,EAAmBP,GAAI,GAGvBQ,EAASC,EAAS,IAAMZ,EAAMa,KAAO,GACrCC,EAASF,EAAS,IAAOZ,EAAMa,KAAO,EAAK,IAC3CE,EAAcH,EAAS,IAAMZ,EAAMgB,MAAuB,GAAfF,EAAON,MAAc,GAEhES,EAAaL,EAAS,IACnBZ,EAAMkB,KAAKC,OAAO,CAACC,EAAKC,IAASD,EAAMC,EAAKb,MAAO,IAGtDc,EAAYV,EAAS,KACzB,IAAIW,GAAgBC,KAAKC,GAAK,EAE9B,OAAOzB,EAAMkB,KAAKQ,IAAI,CAACL,EAAMM,KAC3B,MAAMlB,EAAaY,EAAKb,MAAQS,EAAWT,MACrCoB,EAA0B,EAAbnB,EAAiBe,KAAKC,GAEnCI,EAAaN,EACbO,EAAWP,EAAeK,EAE1BG,EAAKP,KAAKQ,IAAIH,GAAcf,EAAON,MACnCyB,EAAKT,KAAKU,IAAIL,GAAcf,EAAON,MACnC2B,EAAKX,KAAKQ,IAAIF,GAAYhB,EAAON,MACjC4B,EAAKZ,KAAKU,IAAIJ,GAAYhB,EAAON,MAEjC6B,EAAeT,EAAaJ,KAAKC,GAAK,EAAI,EAEhD,IAAIa,EACJ,GAAItC,EAAMgB,MAAO,CACf,MAAMuB,EAAUf,KAAKQ,IAAIH,GAAcd,EAAYP,MAC7CgC,EAAUhB,KAAKU,IAAIL,GAAcd,EAAYP,MAC7CiC,EAAUjB,KAAKQ,IAAIF,GAAYf,EAAYP,MAC3CkC,EAAUlB,KAAKU,IAAIJ,GAAYf,EAAYP,MAEjD8B,EAAO,CACL,KAAKP,KAAME,IACX,KAAKnB,EAAON,SAASM,EAAON,WAAW6B,OAAkBF,KAAMC,IAC/D,KAAKK,KAAWC,IAChB,KAAK3B,EAAYP,SAASO,EAAYP,WAAW6B,OAAkBE,KAAWC,IAC9E,KACAG,KAAK,IACT,MACEL,EAAO,CACL,QACA,KAAKP,KAAME,IACX,KAAKnB,EAAON,SAASM,EAAON,WAAW6B,OAAkBF,KAAMC,IAC/D,KACAO,KAAK,KAKT,OAFApB,EAAeO,EAER,CACLQ,OACAM,MAAOvB,EAAKuB,MACZrC,MAAOc,EAAKd,MACZC,MAAOa,EAAKb,MACZC,WAAYe,KAAKqB,MAAmB,IAAbpC,GACvBkB,aAsBAmB,EAAc,KAClB5C,EAAQM,MAAMJ,SAAU,GAOpB2C,EAAmB,KACvBrC,EAAiBF,OAAQ,iBAzOzBwC,IAAAC,EAoFM,MApFNC,EAoFM,CAnFJC,EAEM,MAFNC,EAEM,CADJD,EAAwC,KAAxCE,EAAwCC,EAAbrD,EAAAsD,OAAK,KAGlCJ,EA8EM,MA9ENK,EA8EM,CA7EJL,EAkEM,MAlENM,EAkEM,MAjEJR,EA6CM,MAAA,CA7CAS,MAAOzD,EAAAY,KAAO8C,OAAQ1D,EAAAY,KAAM+C,MAAM,YAEtCT,EAYI,IAAA,CAZDS,MAAM,aAAcC,UAAS,aAAelD,EAAAH,UAAWG,EAAAH,YACxDwC,GAAA,GAAAC,EAUEa,EAAA,KAAAC,EATyBzC,EAAAd,MAAS,CAA1BwD,EAAOrC,SADjBsB,EAUE,OAAA,CARCgB,IAAKtC,EACLuC,EAAGF,EAAM1B,KACT6B,KAAMH,EAAMpB,MACZwB,OAAQnE,EAAAoE,YACR,eAAcpE,EAAAqE,YACfV,MAAM,YACLW,YAASC,GAkMJ,EAACC,EAAOT,KAC1B,MAAMU,EAAOD,EAAME,OAAOC,QAAQ,oBAAoBC,wBACtD3E,EAAQM,MAAQ,CACdJ,SAAS,EACTC,EAAGoE,EAAMK,QAAUJ,EAAKK,KAAO,GAC/BzE,EAAGmE,EAAMO,QAAUN,EAAKO,IAAM,GAC9B1E,MAAOyD,EAAMzD,MACbC,MAAOwD,EAAMxD,MAAM0E,iBACnBzE,WAAYuD,EAAMvD,aA1MI0E,CAAYX,EAAQR,GAC/BoB,WAAUtC,4BAMP7C,EAAAe,WADRiC,EAOE,SAAA,OALCoC,GAAI1E,EAAAH,MACJ8E,GAAI3E,EAAAH,MACJ+E,EAAGxE,EAAAP,MACH2D,KAAMlE,EAAAuF,WACP5B,MAAM,qCAIC3D,EAAAwF,oBAATxC,EAiBI,IAAA,OAjBqBW,MAAM,cAAeC,UAAS,aAAelD,EAAAH,UAAWG,EAAAH,WAC/E2C,EAOO,OAPPuC,EAOOpC,EADFrC,EAAAT,MAAW0E,kBAAc,eAE9B/B,EAOO,OAAA,CANL7C,EAAE,KACF,cAAY,SACZ,oBAAkB,SAClBsD,MAAM,gBACP,WAED,2BAKJT,EAgBM,MAhBNwC,EAgBM,EAfJ3C,GAAA,GAAAC,EAcMa,EAAA,KAAAC,EAboB9D,EAAAiB,KAAI,CAApBG,EAAMM,gBADhBsB,EAcM,MAAA,CAZHgB,IAAKtC,EACNiC,MAAM,cACLW,YAASC,GAwKC,CAAC7C,IACtBjB,EAAiBF,MAAQmB,GAzKHiE,CAAejE,GAC1ByD,WAAUrC,IAEXI,EAAyE,MAAA,CAApES,MAAM,eAAgBiC,MAAKC,EAAA,CAAAC,gBAAqB1E,EAAKuB,iBAC1DO,EAKM,MALN6C,EAKM,CAJJ7C,EAAgD,MAAhD8C,EAAgD3C,EAAnBjC,EAAKd,OAAK,GACvC4C,EAEM,MAFN+C,EAEM5C,EADDjC,EAAKb,MAAM0E,kBAAmB,QA6I1B1E,EA7I6Ca,EAAKb,MA8IhEgB,KAAKqB,MAAOrC,EAAQS,EAAWT,MAAS,OA9IiC,MACpE,YA4IQ,IAACA,cApITN,EAAAM,MAAQJ,aADhB6C,EAOM,MAAA,OALJW,MAAM,gBACLiC,cAAe3F,EAAAM,MAAQH,EAAC,KAAA4E,IAAc/E,EAAAM,MAAQF,EAAC,SAEhD6C,EAAoD,MAApDgD,EAAoD7C,EAAtBpD,EAAAM,MAAQD,OAAK,GAC3C4C,EAAgF,MAAhFiD,EAAgF9C,EAAlDpD,EAAAM,MAAQA,OAAQ,KAAE8C,EAAGpD,EAAAM,MAAQC,YAAa,KAAE"}