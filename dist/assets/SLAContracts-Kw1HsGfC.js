import{b as e,r as a,c as t,w as l,o as i,e as o,f as s,x as n,D as r,B as c,F as d,C as u,m as v,K as p,an as m,a9 as y,y as b,u as C,k as g}from"./vue-vendor-BY5hdAT7.js";import{l as f,_ as T}from"./index-Dur0lEaU.js";import"./utils-vendor-COuxBHZ0.js";const h=e("slaContracts",()=>{const e=a([{id:"SLA-001",title:"Contrato de Manutenção Preventiva - Equipamentos Críticos",description:"Contrato para manutenção preventiva de equipamentos críticos da produção",client:"Departamento de Produção",provider:"Manutenção Interna",type:"preventive",status:"active",priority:"high",startDate:"2024-01-01",endDate:"2024-12-31",responseTime:2,resolutionTime:8,availability:99.5,penaltyRate:5,cost:15e4,currency:"BRL",assets:["EQ-001","EQ-002","EQ-005"],technicians:["TEC-001","TEC-003"],metrics:{responseTimeCompliance:95.2,resolutionTimeCompliance:92.8,availabilityAchieved:99.2,totalIncidents:24,resolvedIncidents:23,overdueIncidents:1,averageResponseTime:1.8,averageResolutionTime:7.2,costToDate:87500,penaltiesApplied:250},terms:["Manutenção preventiva mensal obrigatória","Disponibilidade 24/7 para emergências","Relatórios mensais de performance","Peças de reposição incluídas no contrato"],escalation:[{level:1,time:2,contact:"Supervisor de Manutenção"},{level:2,time:4,contact:"Gerente de Manutenção"},{level:3,time:8,contact:"Diretor de Operações"}],createdAt:"2024-01-01T08:00:00Z",updatedAt:"2024-01-15T14:30:00Z"},{id:"SLA-002",title:"Contrato de Suporte Técnico - Sistemas de Automação",description:"Suporte técnico especializado para sistemas de automação industrial",client:"Departamento de TI Industrial",provider:"TechSupport Solutions",type:"corrective",status:"active",priority:"medium",startDate:"2024-02-01",endDate:"2025-01-31",responseTime:4,resolutionTime:24,availability:98,penaltyRate:3,cost:85e3,currency:"BRL",assets:["SYS-001","SYS-002","SYS-003"],technicians:["TEC-002","TEC-004"],metrics:{responseTimeCompliance:88.5,resolutionTimeCompliance:91.2,availabilityAchieved:97.8,totalIncidents:18,resolvedIncidents:17,overdueIncidents:1,averageResponseTime:3.2,averageResolutionTime:22.5,costToDate:42500,penaltiesApplied:150},terms:["Suporte remoto prioritário","Visita técnica em até 24h se necessário","Atualizações de software incluídas","Treinamento trimestral da equipe"],escalation:[{level:1,time:4,contact:"Analista Sênior"},{level:2,time:8,contact:"Coordenador Técnico"},{level:3,time:12,contact:"Gerente de Contas"}],createdAt:"2024-02-01T09:00:00Z",updatedAt:"2024-01-10T16:45:00Z"},{id:"SLA-003",title:"Contrato de Manutenção Corretiva - Infraestrutura",description:"Manutenção corretiva para infraestrutura predial e utilidades",client:"Departamento de Facilities",provider:"Manutenção Terceirizada Ltda",type:"corrective",status:"pending",priority:"low",startDate:"2024-03-01",endDate:"2024-08-31",responseTime:8,resolutionTime:48,availability:95,penaltyRate:2,cost:45e3,currency:"BRL",assets:["INF-001","INF-002","INF-003"],technicians:["TEC-005"],metrics:{responseTimeCompliance:0,resolutionTimeCompliance:0,availabilityAchieved:0,totalIncidents:0,resolvedIncidents:0,overdueIncidents:0,averageResponseTime:0,averageResolutionTime:0,costToDate:0,penaltiesApplied:0},terms:["Atendimento em horário comercial","Materiais por conta do contratante","Relatório mensal de atividades","Garantia de 90 dias nos serviços"],escalation:[{level:1,time:8,contact:"Técnico Responsável"},{level:2,time:16,contact:"Supervisor de Campo"},{level:3,time:24,contact:"Gerente Comercial"}],createdAt:"2024-02-15T10:30:00Z",updatedAt:"2024-02-15T10:30:00Z"},{id:"SLA-004",title:"Contrato de Manutenção Preditiva - Motores Elétricos",description:"Manutenção preditiva com análise de vibração e termografia",client:"Departamento de Engenharia",provider:"PredictMaint Tech",type:"predictive",status:"expired",priority:"medium",startDate:"2023-06-01",endDate:"2024-01-31",responseTime:6,resolutionTime:16,availability:97.5,penaltyRate:4,cost:12e4,currency:"BRL",assets:["MOT-001","MOT-002","MOT-003","MOT-004"],technicians:["TEC-006","TEC-007"],metrics:{responseTimeCompliance:94.8,resolutionTimeCompliance:96.2,availabilityAchieved:98.1,totalIncidents:12,resolvedIncidents:12,overdueIncidents:0,averageResponseTime:5.2,averageResolutionTime:14.8,costToDate:12e4,penaltiesApplied:0},terms:["Análise preditiva mensal","Relatórios técnicos detalhados","Recomendações de manutenção","Treinamento em análise preditiva"],escalation:[{level:1,time:6,contact:"Especialista em Preditiva"},{level:2,time:12,contact:"Engenheiro Sênior"},{level:3,time:18,contact:"Diretor Técnico"}],createdAt:"2023-06-01T08:00:00Z",updatedAt:"2024-01-31T17:00:00Z"}]),l=a([{id:"CLI-001",name:"Departamento de Produção",contact:"João Silva",email:"joao.silva@empresa.com"},{id:"CLI-002",name:"Departamento de TI Industrial",contact:"Maria Santos",email:"maria.santos@empresa.com"},{id:"CLI-003",name:"Departamento de Facilities",contact:"Pedro Costa",email:"pedro.costa@empresa.com"},{id:"CLI-004",name:"Departamento de Engenharia",contact:"Ana Oliveira",email:"ana.oliveira@empresa.com"}]),i=a([{id:"PRO-001",name:"Manutenção Interna",contact:"Carlos Mendes",email:"carlos.mendes@empresa.com"},{id:"PRO-002",name:"TechSupport Solutions",contact:"Roberto Lima",email:"roberto@techsupport.com"},{id:"PRO-003",name:"Manutenção Terceirizada Ltda",contact:"Fernanda Rocha",email:"fernanda@terceirizada.com"},{id:"PRO-004",name:"PredictMaint Tech",contact:"Lucas Ferreira",email:"lucas@predictmaint.com"}]),o=a([{code:"EQ-001",name:"Compressor Principal",category:"Equipamento"},{code:"EQ-002",name:"Bomba Centrífuga A",category:"Equipamento"},{code:"EQ-005",name:"Caldeira Industrial",category:"Equipamento"},{code:"SYS-001",name:"Sistema SCADA",category:"Sistema"},{code:"SYS-002",name:"CLP Principal",category:"Sistema"},{code:"SYS-003",name:"Interface HMI",category:"Sistema"},{code:"INF-001",name:"Sistema Elétrico",category:"Infraestrutura"},{code:"INF-002",name:"Sistema Hidráulico",category:"Infraestrutura"},{code:"INF-003",name:"Sistema de Climatização",category:"Infraestrutura"},{code:"MOT-001",name:"Motor Principal 1",category:"Motor"},{code:"MOT-002",name:"Motor Principal 2",category:"Motor"},{code:"MOT-003",name:"Motor Auxiliar 1",category:"Motor"},{code:"MOT-004",name:"Motor Auxiliar 2",category:"Motor"}]),s=a([{id:"TEC-001",name:"Carlos Silva",specialty:"Mecânica Industrial"},{id:"TEC-002",name:"Ana Costa",specialty:"Automação"},{id:"TEC-003",name:"Pedro Santos",specialty:"Elétrica"},{id:"TEC-004",name:"Maria Oliveira",specialty:"Sistemas"},{id:"TEC-005",name:"João Ferreira",specialty:"Predial"},{id:"TEC-006",name:"Lucas Mendes",specialty:"Análise Preditiva"},{id:"TEC-007",name:"Fernanda Lima",specialty:"Vibração"}]),n=a({status:"",type:"",priority:"",client:"",provider:""}),r=a(""),c=a(!1),d=a(null),u=t(()=>({total:e.value.length,active:e.value.filter(e=>"active"===e.status).length,pending:e.value.filter(e=>"pending"===e.status).length,expired:e.value.filter(e=>"expired"===e.status).length,totalCost:e.value.filter(e=>"active"===e.status).reduce((e,a)=>e+a.cost,0),avgCompliance:e.value.filter(e=>"active"===e.status).reduce((e,a)=>e+a.metrics.responseTimeCompliance,0)/(e.value.filter(e=>"active"===e.status).length||1),byType:e.value.reduce((e,a)=>(e[a.type]=(e[a.type]||0)+1,e),{}),byPriority:e.value.reduce((e,a)=>(e[a.priority]=(e[a.priority]||0)+1,e),{})})),v=t(()=>{let a=e.value;if(r.value){const e=r.value.toLowerCase();a=a.filter(a=>a.title.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)||a.client.toLowerCase().includes(e)||a.provider.toLowerCase().includes(e)||a.id.toLowerCase().includes(e))}return n.value.status&&(a=a.filter(e=>e.status===n.value.status)),n.value.type&&(a=a.filter(e=>e.type===n.value.type)),n.value.priority&&(a=a.filter(e=>e.priority===n.value.priority)),n.value.client&&(a=a.filter(e=>e.client===n.value.client)),n.value.provider&&(a=a.filter(e=>e.provider===n.value.provider)),a}),p=t(()=>{const a=new Date,t=new Date(a.getTime()+2592e6);return e.value.filter(e=>{const l=new Date(e.endDate);return"active"===e.status&&l<=t&&l>=a}).sort((e,a)=>new Date(e.endDate)-new Date(a.endDate))}),m=e=>({active:"Ativo",pending:"Pendente",expired:"Expirado",suspended:"Suspenso"}[e]||e),y=e=>({preventive:"Preventiva",corrective:"Corretiva",predictive:"Preditiva",emergency:"Emergencial"}[e]||e),b=e=>({low:"Baixa",medium:"Média",high:"Alta",urgent:"Urgente"}[e]||e),C=e=>new Date(e).toLocaleDateString("pt-BR");return{contracts:e,clients:l,providers:i,availableAssets:o,technicians:s,filters:n,searchTerm:r,loading:c,error:d,stats:u,filteredContracts:v,expiringContracts:p,fetchContracts:async()=>{c.value=!0,d.value=null;try{await new Promise(e=>setTimeout(e,1e3))}catch(e){d.value="Erro ao carregar contratos SLA",f.error("Error fetching contracts:",e)}finally{c.value=!1}},createContract:async a=>{c.value=!0,d.value=null;try{await new Promise(e=>setTimeout(e,500));const t={...a,id:`SLA-${String(e.value.length+1).padStart(3,"0")}`,metrics:{responseTimeCompliance:0,resolutionTimeCompliance:0,availabilityAchieved:0,totalIncidents:0,resolvedIncidents:0,overdueIncidents:0,averageResponseTime:0,averageResolutionTime:0,costToDate:0,penaltiesApplied:0},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return e.value.push(t),t}catch(t){throw d.value="Erro ao criar contrato SLA",f.error("Error creating contract:",t),t}finally{c.value=!1}},updateContract:async(a,t)=>{c.value=!0,d.value=null;try{await new Promise(e=>setTimeout(e,500));const l=e.value.findIndex(e=>e.id===a);if(-1!==l)return e.value[l]={...e.value[l],...t,updatedAt:(new Date).toISOString()},e.value[l];throw new Error("Contrato não encontrado")}catch(l){throw d.value="Erro ao atualizar contrato SLA",f.error("Error updating contract:",l),l}finally{c.value=!1}},deleteContract:async a=>{c.value=!0,d.value=null;try{await new Promise(e=>setTimeout(e,500));const t=e.value.findIndex(e=>e.id===a);if(-1!==t)return e.value.splice(t,1),!0;throw new Error("Contrato não encontrado")}catch(t){throw d.value="Erro ao excluir contrato SLA",f.error("Error deleting contract:",t),t}finally{c.value=!1}},renewContract:async(a,t)=>{c.value=!0,d.value=null;try{await new Promise(e=>setTimeout(e,500));const l=e.value.findIndex(e=>e.id===a);if(-1!==l)return e.value[l].endDate=t,e.value[l].status="active",e.value[l].updatedAt=(new Date).toISOString(),e.value[l];throw new Error("Contrato não encontrado")}catch(l){throw d.value="Erro ao renovar contrato SLA",f.error("Error renewing contract:",l),l}finally{c.value=!1}},exportContracts:async(e="csv")=>{try{const a=v.value.map(e=>({ID:e.id,"Título":e.title,Cliente:e.client,Fornecedor:e.provider,Tipo:y(e.type),Status:m(e.status),Prioridade:b(e.priority),"Data Início":C(e.startDate),"Data Fim":C(e.endDate),"Tempo Resposta (h)":e.responseTime,"Tempo Resolução (h)":e.resolutionTime,"Disponibilidade (%)":e.availability,Custo:e.cost,"Compliance Resposta (%)":e.metrics.responseTimeCompliance,"Compliance Resolução (%)":e.metrics.resolutionTimeCompliance,"Disponibilidade Atingida (%)":e.metrics.availabilityAchieved}));if("csv"===e){const e=[Object.keys(a[0]).join(","),...a.map(e=>Object.values(e).join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),l=window.URL.createObjectURL(t),i=document.createElement("a");i.href=l,i.download=`contratos-sla-${(new Date).toISOString().split("T")[0]}.csv`,i.click(),window.URL.revokeObjectURL(l)}return a}catch(a){throw d.value="Erro ao exportar contratos SLA",f.error("Error exporting contracts:",a),a}},setFilters:e=>{n.value={...n.value,...e}},clearFilters:()=>{n.value={status:"",type:"",priority:"",client:"",provider:""},r.value=""},getStatusLabel:m,getTypeLabel:y,getPriorityLabel:b,formatDate:C,formatCurrency:e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),calculateDaysUntilExpiry:e=>{const a=new Date,t=new Date(e)-a;return Math.ceil(t/864e5)}}}),D={class:"sla-contracts-page"},S={class:"stats-grid"},w={class:"stat-card"},A={class:"stat-content"},E={class:"stat-value"},R={class:"stat-card"},I={class:"stat-content"},x={class:"stat-value"},k={class:"stat-card"},L={class:"stat-content"},P={class:"stat-value"},M={class:"stat-card"},F={class:"stat-content"},U={class:"stat-value"},V={key:0,class:"expiring-alert"},O={class:"expiring-list"},q={class:"contract-title"},B={class:"expiry-date"},N=["onClick"],j={class:"filters-section"},z={class:"filters-row"},$={class:"filter-group"},Z={class:"filter-group"},Q={class:"filter-group"},Y={class:"filter-group"},G={class:"table-section"},_={key:0,class:"loading-state"},H={key:1,class:"empty-state"},J={key:2,class:"table-container"},K={class:"data-table"},W={class:"contract-code"},X={class:"contract-title"},ee={class:"title"},ae={class:"description"},te={class:"date-info"},le={class:"start-date"},ie={class:"end-date"},oe={class:"sla-info"},se={class:"response-time"},ne={class:"resolution-time"},re={class:"availability"},ce={class:"compliance-info"},de={class:"response-compliance"},ue={class:"resolution-compliance"},ve={class:"action-buttons"},pe=["onClick"],me=["onClick"],ye=["onClick"],be=["onClick"],Ce={class:"modal-header"},ge={class:"modal-body"},fe={class:"form-row"},Te={class:"form-group"},he={class:"form-group"},De={class:"form-group"},Se={class:"form-row"},we={class:"form-group"},Ae={class:"form-group"},Ee={class:"form-row"},Re={class:"form-group"},Ie={class:"form-group"},xe={class:"form-row"},ke={class:"form-group"},Le={class:"form-group"},Pe={class:"form-row"},Me={class:"form-group"},Fe={class:"form-group"},Ue={class:"form-row"},Ve={class:"form-group"},Oe={class:"form-group"},qe={class:"form-group"},Be={class:"modal-footer"},Ne={class:"modal-body"},je={key:0,class:"contract-details"},ze={class:"details-grid"},$e={class:"detail-item"},Ze={class:"detail-item"},Qe={class:"detail-item"},Ye={class:"detail-item"},Ge={class:"detail-item"},_e={class:"detail-item"},He={class:"detail-item"},Je={class:"detail-item"},Ke={class:"detail-section"},We={class:"detail-section"},Xe={class:"metrics-grid"},ea={class:"metric-item"},aa={class:"metric-value"},ta={class:"metric-item"},la={class:"metric-value"},ia={class:"metric-item"},oa={class:"metric-value"},sa={class:"metric-item"},na={class:"metric-value"},ra={class:"metric-item"},ca={class:"metric-value"},da={class:"metric-item"},ua={class:"metric-value"},va={class:"detail-section"},pa={class:"terms-list"},ma={class:"detail-section"},ya={class:"escalation-list"},ba={class:"escalation-level"},Ca={class:"escalation-time"},ga={class:"escalation-contact"},fa={class:"modal-footer"},Ta={class:"modal-body"},ha={key:0},Da={class:"form-group"},Sa={key:4,class:"alert alert-success"},wa={key:5,class:"alert alert-error"},Aa=T({__name:"SLAContracts",setup(e){const f=h(),T=a(!1),Aa=a(!1),Ea=a(!1),Ra=a(null),Ia=a(null),xa=a(null),ka=a(""),La=a(""),Pa=a({title:"",description:"",type:"",client:"",provider:"",priority:"",status:"",startDate:"",endDate:"",responseTime:4,resolutionTime:24,availability:99.5,penaltyRate:.1,cost:0}),Ma=a({endDate:""}),Fa=t(()=>f.loading),Ua=t(()=>f.error);t(()=>f.contracts);const Va=t(()=>f.filteredContracts),Oa=t(()=>f.expiringContracts),qa=t(()=>f.stats),Ba=t({get:()=>f.searchTerm,set:e=>f.setFilters({searchTerm:e})}),Na=t({get:()=>f.filters,set:e=>f.setFilters(e)}),ja=()=>{Ra.value=null,Ya(),T.value=!0},za=()=>{T.value=!1,Ra.value=null,Ya()},$a=()=>{Aa.value=!1,Ia.value=null},Za=e=>{xa.value=e,Ma.value.endDate="",Ea.value=!0},Qa=()=>{Ea.value=!1,xa.value=null,Ma.value.endDate=""},Ya=()=>{Pa.value={title:"",description:"",type:"",client:"",provider:"",priority:"",status:"",startDate:"",endDate:"",responseTime:4,resolutionTime:24,availability:99.5,penaltyRate:.1,cost:0}},Ga=e=>{(e=>{Ia.value=e,Aa.value=!0})(e)},_a=e=>{$a(),(e=>{Ra.value=e,Pa.value={title:e.title,description:e.description,type:e.type,client:e.client,provider:e.provider,priority:e.priority,status:e.status,startDate:e.startDate,endDate:e.endDate,responseTime:e.responseTime,resolutionTime:e.resolutionTime,availability:e.availability,penaltyRate:e.penaltyRate,cost:e.cost},T.value=!0})(e)},Ha=async()=>{try{Ra.value?(await f.updateContract(Ra.value.id,Pa.value),ka.value="Contrato atualizado com sucesso!"):(await f.createContract(Pa.value),ka.value="Contrato criado com sucesso!"),za(),setTimeout(()=>{ka.value=""},3e3)}catch(e){La.value="Erro ao salvar contrato: "+e.message,setTimeout(()=>{La.value=""},5e3)}},Ja=async()=>{try{await f.renewContract(xa.value.id,Ma.value.endDate),ka.value="Contrato renovado com sucesso!",Qa(),setTimeout(()=>{ka.value=""},3e3)}catch(e){La.value="Erro ao renovar contrato: "+e.message,setTimeout(()=>{La.value=""},5e3)}},Ka=()=>{f.exportContracts(),ka.value="Dados exportados com sucesso!",setTimeout(()=>{ka.value=""},3e3)},Wa=()=>{f.clearFilters()},Xa=e=>f.getStatusLabel(e),et=e=>f.getTypeLabel(e),at=e=>f.getPriorityLabel(e),tt=e=>{if(!e)return"";return new Date(e).toLocaleDateString("pt-BR")},lt=e=>{const a=new Date,t=new Date(e)-a;return Math.ceil(t/864e5)};return l(Ua,e=>{e&&(La.value=e,setTimeout(()=>{La.value=""},5e3))}),i(()=>{f.fetchContracts()}),(e,a)=>{return g(),o("div",D,[s("div",{class:"page-header"},[s("div",{class:"header-content"},[a[25]||(a[25]=s("div",{class:"header-text"},[s("h1",null,"Contratos SLA"),s("p",null,"Gerenciamento de contratos de nível de serviço")],-1)),s("div",{class:"header-actions"},[s("button",{class:"btn btn-secondary",onClick:Ka},[...a[23]||(a[23]=[s("i",{class:"fas fa-download"},null,-1),r(" Exportar ",-1)])]),s("button",{class:"btn btn-primary",onClick:ja},[...a[24]||(a[24]=[s("i",{class:"fas fa-plus"},null,-1),r(" Novo Contrato ",-1)])])])])]),s("div",S,[s("div",w,[a[27]||(a[27]=s("div",{class:"stat-icon primary"},[s("i",{class:"fas fa-file-contract"})],-1)),s("div",A,[s("div",E,c(qa.value.total),1),a[26]||(a[26]=s("div",{class:"stat-label"},"Total de Contratos",-1))])]),s("div",R,[a[29]||(a[29]=s("div",{class:"stat-icon success"},[s("i",{class:"fas fa-check-circle"})],-1)),s("div",I,[s("div",x,c(qa.value.active),1),a[28]||(a[28]=s("div",{class:"stat-label"},"Contratos Ativos",-1))])]),s("div",k,[a[31]||(a[31]=s("div",{class:"stat-icon warning"},[s("i",{class:"fas fa-clock"})],-1)),s("div",L,[s("div",P,c(qa.value.pending),1),a[30]||(a[30]=s("div",{class:"stat-label"},"Pendentes",-1))])]),s("div",M,[a[33]||(a[33]=s("div",{class:"stat-icon danger"},[s("i",{class:"fas fa-times-circle"})],-1)),s("div",F,[s("div",U,c(qa.value.expired),1),a[32]||(a[32]=s("div",{class:"stat-label"},"Expirados",-1))])])]),Oa.value.length>0?(g(),o("div",V,[a[34]||(a[34]=s("div",{class:"alert-header"},[s("i",{class:"fas fa-exclamation-triangle"}),s("span",null,"Contratos próximos ao vencimento")],-1)),s("div",O,[(g(!0),o(d,null,u(Oa.value,e=>(g(),o("div",{key:e.id,class:"expiring-item"},[s("span",q,c(e.title),1),s("span",B,"Vence em "+c(lt(e.endDate))+" dias",1),s("button",{class:"btn btn-sm btn-primary",onClick:a=>Za(e)}," Renovar ",8,N)]))),128))])])):n("",!0),s("div",j,[s("div",z,[s("div",$,[v(s("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>Ba.value=e),type:"text",placeholder:"Buscar contratos...",class:"search-input"},null,512),[[p,Ba.value]])]),s("div",Z,[v(s("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>Na.value.status=e),class:"filter-select"},[...a[35]||(a[35]=[y('<option value="" data-v-9a96828e>Todos os Status</option><option value="active" data-v-9a96828e>Ativo</option><option value="pending" data-v-9a96828e>Pendente</option><option value="expired" data-v-9a96828e>Expirado</option><option value="suspended" data-v-9a96828e>Suspenso</option>',5)])],512),[[m,Na.value.status]])]),s("div",Q,[v(s("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>Na.value.type=e),class:"filter-select"},[...a[36]||(a[36]=[y('<option value="" data-v-9a96828e>Todos os Tipos</option><option value="preventive" data-v-9a96828e>Preventiva</option><option value="corrective" data-v-9a96828e>Corretiva</option><option value="predictive" data-v-9a96828e>Preditiva</option><option value="emergency" data-v-9a96828e>Emergencial</option>',5)])],512),[[m,Na.value.type]])]),s("div",Y,[v(s("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>Na.value.priority=e),class:"filter-select"},[...a[37]||(a[37]=[y('<option value="" data-v-9a96828e>Todas as Prioridades</option><option value="low" data-v-9a96828e>Baixa</option><option value="medium" data-v-9a96828e>Média</option><option value="high" data-v-9a96828e>Alta</option><option value="urgent" data-v-9a96828e>Urgente</option>',5)])],512),[[m,Na.value.priority]])]),s("button",{class:"btn btn-secondary",onClick:Wa},[...a[38]||(a[38]=[s("i",{class:"fas fa-times"},null,-1),r(" Limpar ",-1)])])])]),s("div",G,[Fa.value?(g(),o("div",_,[...a[39]||(a[39]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"Carregando contratos...",-1)])])):0===Va.value.length?(g(),o("div",H,[...a[40]||(a[40]=[s("div",{class:"empty-icon"},[s("i",{class:"fas fa-file-contract"})],-1),s("h3",null,"Nenhum contrato encontrado",-1),s("p",null,"Não há contratos que correspondam aos filtros aplicados.",-1)])])):(g(),o("div",J,[s("table",K,[a[45]||(a[45]=s("thead",null,[s("tr",null,[s("th",null,"Código"),s("th",null,"Título"),s("th",null,"Cliente"),s("th",null,"Fornecedor"),s("th",null,"Tipo"),s("th",null,"Status"),s("th",null,"Prioridade"),s("th",null,"Vigência"),s("th",null,"SLA"),s("th",null,"Compliance"),s("th",null,"Ações")])],-1)),s("tbody",null,[(g(!0),o(d,null,u(Va.value,e=>(g(),o("tr",{key:e.id},[s("td",null,[s("span",W,c(e.id),1)]),s("td",null,[s("div",X,[s("div",ee,c(e.title),1),s("div",ae,c(e.description),1)])]),s("td",null,c(e.client),1),s("td",null,c(e.provider),1),s("td",null,[s("span",{class:b(`badge badge-${e.type}`)},c(et(e.type)),3)]),s("td",null,[s("span",{class:b(`badge badge-${e.status}`)},c(Xa(e.status)),3)]),s("td",null,[s("span",{class:b(`badge badge-${e.priority}`)},c(at(e.priority)),3)]),s("td",null,[s("div",te,[s("div",le,c(tt(e.startDate)),1),s("div",ie,"até "+c(tt(e.endDate)),1)])]),s("td",null,[s("div",oe,[s("div",se,"Resp: "+c(e.responseTime)+"h",1),s("div",ne,"Res: "+c(e.resolutionTime)+"h",1),s("div",re,"Disp: "+c(e.availability)+"%",1)])]),s("td",null,[s("div",ce,[s("div",de,c(e.metrics.responseTimeCompliance.toFixed(1))+"% ",1),s("div",ue,c(e.metrics.resolutionTimeCompliance.toFixed(1))+"% ",1)])]),s("td",null,[s("div",ve,[s("button",{class:"btn btn-sm btn-secondary",onClick:a=>Ga(e),title:"Visualizar"},[...a[41]||(a[41]=[s("i",{class:"fas fa-eye"},null,-1)])],8,pe),s("button",{class:"btn btn-sm btn-primary",onClick:a=>_a(e),title:"Editar"},[...a[42]||(a[42]=[s("i",{class:"fas fa-edit"},null,-1)])],8,me),"active"===e.status?(g(),o("button",{key:0,class:"btn btn-sm btn-success",onClick:a=>Za(e),title:"Renovar"},[...a[43]||(a[43]=[s("i",{class:"fas fa-redo"},null,-1)])],8,ye)):n("",!0),s("button",{class:"btn btn-sm btn-danger",onClick:a=>(async e=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{await f.deleteContract(e),ka.value="Contrato excluído com sucesso!",setTimeout(()=>{ka.value=""},3e3)}catch(a){La.value="Erro ao excluir contrato: "+a.message,setTimeout(()=>{La.value=""},5e3)}})(e.id),title:"Excluir"},[...a[44]||(a[44]=[s("i",{class:"fas fa-trash"},null,-1)])],8,be)])])]))),128))])])]))]),T.value?(g(),o("div",{key:1,class:"modal-overlay",onClick:za},[s("div",{class:"modal-content modal-large",onClick:a[18]||(a[18]=C(()=>{},["stop"]))},[s("div",Ce,[s("h3",null,c(Ra.value?"Editar Contrato":"Novo Contrato"),1),s("button",{class:"modal-close",onClick:za},[...a[46]||(a[46]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",ge,[s("form",{onSubmit:C(Ha,["prevent"])},[s("div",fe,[s("div",Te,[a[47]||(a[47]=s("label",null,"Título *",-1)),v(s("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>Pa.value.title=e),type:"text",class:"form-input",required:""},null,512),[[p,Pa.value.title]])]),s("div",he,[a[49]||(a[49]=s("label",null,"Tipo *",-1)),v(s("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>Pa.value.type=e),class:"form-select",required:""},[...a[48]||(a[48]=[y('<option value="" data-v-9a96828e>Selecione o tipo</option><option value="preventive" data-v-9a96828e>Preventiva</option><option value="corrective" data-v-9a96828e>Corretiva</option><option value="predictive" data-v-9a96828e>Preditiva</option><option value="emergency" data-v-9a96828e>Emergencial</option>',5)])],512),[[m,Pa.value.type]])])]),s("div",De,[a[50]||(a[50]=s("label",null,"Descrição",-1)),v(s("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>Pa.value.description=e),class:"form-textarea",rows:"3"},null,512),[[p,Pa.value.description]])]),s("div",Se,[s("div",we,[a[51]||(a[51]=s("label",null,"Cliente *",-1)),v(s("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>Pa.value.client=e),type:"text",class:"form-input",required:""},null,512),[[p,Pa.value.client]])]),s("div",Ae,[a[52]||(a[52]=s("label",null,"Fornecedor *",-1)),v(s("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>Pa.value.provider=e),type:"text",class:"form-input",required:""},null,512),[[p,Pa.value.provider]])])]),s("div",Ee,[s("div",Re,[a[54]||(a[54]=s("label",null,"Prioridade *",-1)),v(s("select",{"onUpdate:modelValue":a[9]||(a[9]=e=>Pa.value.priority=e),class:"form-select",required:""},[...a[53]||(a[53]=[y('<option value="" data-v-9a96828e>Selecione a prioridade</option><option value="low" data-v-9a96828e>Baixa</option><option value="medium" data-v-9a96828e>Média</option><option value="high" data-v-9a96828e>Alta</option><option value="urgent" data-v-9a96828e>Urgente</option>',5)])],512),[[m,Pa.value.priority]])]),s("div",Ie,[a[56]||(a[56]=s("label",null,"Status *",-1)),v(s("select",{"onUpdate:modelValue":a[10]||(a[10]=e=>Pa.value.status=e),class:"form-select",required:""},[...a[55]||(a[55]=[s("option",{value:""},"Selecione o status",-1),s("option",{value:"active"},"Ativo",-1),s("option",{value:"pending"},"Pendente",-1),s("option",{value:"suspended"},"Suspenso",-1)])],512),[[m,Pa.value.status]])])]),s("div",xe,[s("div",ke,[a[57]||(a[57]=s("label",null,"Data de Início *",-1)),v(s("input",{"onUpdate:modelValue":a[11]||(a[11]=e=>Pa.value.startDate=e),type:"date",class:"form-input",required:""},null,512),[[p,Pa.value.startDate]])]),s("div",Le,[a[58]||(a[58]=s("label",null,"Data de Fim *",-1)),v(s("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>Pa.value.endDate=e),type:"date",class:"form-input",required:""},null,512),[[p,Pa.value.endDate]])])]),s("div",Pe,[s("div",Me,[a[59]||(a[59]=s("label",null,"Tempo de Resposta (horas) *",-1)),v(s("input",{"onUpdate:modelValue":a[13]||(a[13]=e=>Pa.value.responseTime=e),type:"number",class:"form-input",min:"1",required:""},null,512),[[p,Pa.value.responseTime,void 0,{number:!0}]])]),s("div",Fe,[a[60]||(a[60]=s("label",null,"Tempo de Resolução (horas) *",-1)),v(s("input",{"onUpdate:modelValue":a[14]||(a[14]=e=>Pa.value.resolutionTime=e),type:"number",class:"form-input",min:"1",required:""},null,512),[[p,Pa.value.resolutionTime,void 0,{number:!0}]])])]),s("div",Ue,[s("div",Ve,[a[61]||(a[61]=s("label",null,"Disponibilidade (%) *",-1)),v(s("input",{"onUpdate:modelValue":a[15]||(a[15]=e=>Pa.value.availability=e),type:"number",class:"form-input",min:"0",max:"100",step:"0.1",required:""},null,512),[[p,Pa.value.availability,void 0,{number:!0}]])]),s("div",Oe,[a[62]||(a[62]=s("label",null,"Taxa de Penalidade (%) *",-1)),v(s("input",{"onUpdate:modelValue":a[16]||(a[16]=e=>Pa.value.penaltyRate=e),type:"number",class:"form-input",min:"0",step:"0.1",required:""},null,512),[[p,Pa.value.penaltyRate,void 0,{number:!0}]])])]),s("div",qe,[a[63]||(a[63]=s("label",null,"Custo (R$) *",-1)),v(s("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>Pa.value.cost=e),type:"number",class:"form-input",min:"0",step:"0.01",required:""},null,512),[[p,Pa.value.cost,void 0,{number:!0}]])])],32)]),s("div",Be,[s("button",{type:"button",class:"btn btn-secondary",onClick:za}," Cancelar "),s("button",{type:"submit",class:"btn btn-primary",onClick:Ha},c(Ra.value?"Atualizar":"Criar")+" Contrato ",1)])])])):n("",!0),Aa.value?(g(),o("div",{key:2,class:"modal-overlay",onClick:$a},[s("div",{class:"modal-content modal-large",onClick:a[20]||(a[20]=C(()=>{},["stop"]))},[s("div",{class:"modal-header"},[a[65]||(a[65]=s("h3",null,"Detalhes do Contrato",-1)),s("button",{class:"modal-close",onClick:$a},[...a[64]||(a[64]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",Ne,[Ia.value?(g(),o("div",je,[s("div",ze,[s("div",$e,[a[66]||(a[66]=s("label",null,"Código",-1)),s("span",null,c(Ia.value.id),1)]),s("div",Ze,[a[67]||(a[67]=s("label",null,"Status",-1)),s("span",{class:b(`badge badge-${Ia.value.status}`)},c(Xa(Ia.value.status)),3)]),s("div",Qe,[a[68]||(a[68]=s("label",null,"Tipo",-1)),s("span",{class:b(`badge badge-${Ia.value.type}`)},c(et(Ia.value.type)),3)]),s("div",Ye,[a[69]||(a[69]=s("label",null,"Prioridade",-1)),s("span",{class:b(`badge badge-${Ia.value.priority}`)},c(at(Ia.value.priority)),3)]),s("div",Ge,[a[70]||(a[70]=s("label",null,"Cliente",-1)),s("span",null,c(Ia.value.client),1)]),s("div",_e,[a[71]||(a[71]=s("label",null,"Fornecedor",-1)),s("span",null,c(Ia.value.provider),1)]),s("div",He,[a[72]||(a[72]=s("label",null,"Data de Início",-1)),s("span",null,c(tt(Ia.value.startDate)),1)]),s("div",Je,[a[73]||(a[73]=s("label",null,"Data de Fim",-1)),s("span",null,c(tt(Ia.value.endDate)),1)])]),s("div",Ke,[a[74]||(a[74]=s("label",null,"Descrição",-1)),s("p",null,c(Ia.value.description),1)]),s("div",We,[a[81]||(a[81]=s("label",null,"Métricas de Performance",-1)),s("div",Xe,[s("div",ea,[a[75]||(a[75]=s("span",{class:"metric-label"},"Compliance Tempo Resposta",-1)),s("span",aa,c(Ia.value.metrics.responseTimeCompliance.toFixed(1))+"%",1)]),s("div",ta,[a[76]||(a[76]=s("span",{class:"metric-label"},"Compliance Tempo Resolução",-1)),s("span",la,c(Ia.value.metrics.resolutionTimeCompliance.toFixed(1))+"%",1)]),s("div",ia,[a[77]||(a[77]=s("span",{class:"metric-label"},"Disponibilidade Atingida",-1)),s("span",oa,c(Ia.value.metrics.availabilityAchieved.toFixed(1))+"%",1)]),s("div",sa,[a[78]||(a[78]=s("span",{class:"metric-label"},"Total de Incidentes",-1)),s("span",na,c(Ia.value.metrics.totalIncidents),1)]),s("div",ra,[a[79]||(a[79]=s("span",{class:"metric-label"},"Incidentes Resolvidos",-1)),s("span",ca,c(Ia.value.metrics.resolvedIncidents),1)]),s("div",da,[a[80]||(a[80]=s("span",{class:"metric-label"},"Penalidades Aplicadas",-1)),s("span",ua,c((t=Ia.value.metrics.penaltiesApplied,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t))),1)])])]),s("div",va,[a[82]||(a[82]=s("label",null,"Termos do Contrato",-1)),s("ul",pa,[(g(!0),o(d,null,u(Ia.value.terms,e=>(g(),o("li",{key:e},c(e),1))),128))])]),s("div",ma,[a[83]||(a[83]=s("label",null,"Escalação",-1)),s("div",ya,[(g(!0),o(d,null,u(Ia.value.escalation,e=>(g(),o("div",{key:e.level,class:"escalation-item"},[s("span",ba,"Nível "+c(e.level),1),s("span",Ca,c(e.time)+"h",1),s("span",ga,c(e.contact),1)]))),128))])])])):n("",!0)]),s("div",fa,[s("button",{type:"button",class:"btn btn-secondary",onClick:$a}," Fechar "),s("button",{type:"button",class:"btn btn-primary",onClick:a[19]||(a[19]=e=>_a(Ia.value))}," Editar Contrato ")])])])):n("",!0),Ea.value?(g(),o("div",{key:3,class:"modal-overlay",onClick:Qa},[s("div",{class:"modal-content",onClick:a[22]||(a[22]=C(()=>{},["stop"]))},[s("div",{class:"modal-header"},[a[85]||(a[85]=s("h3",null,"Renovar Contrato",-1)),s("button",{class:"modal-close",onClick:Qa},[...a[84]||(a[84]=[s("i",{class:"fas fa-times"},null,-1)])])]),s("div",Ta,[xa.value?(g(),o("div",ha,[s("p",null,[a[86]||(a[86]=s("strong",null,"Contrato:",-1)),r(" "+c(xa.value.title),1)]),s("p",null,[a[87]||(a[87]=s("strong",null,"Vencimento Atual:",-1)),r(" "+c(tt(xa.value.endDate)),1)]),s("div",Da,[a[88]||(a[88]=s("label",null,"Nova Data de Vencimento *",-1)),v(s("input",{"onUpdate:modelValue":a[21]||(a[21]=e=>Ma.value.endDate=e),type:"date",class:"form-input",required:""},null,512),[[p,Ma.value.endDate]])])])):n("",!0)]),s("div",{class:"modal-footer"},[s("button",{type:"button",class:"btn btn-secondary",onClick:Qa}," Cancelar "),s("button",{type:"button",class:"btn btn-primary",onClick:Ja}," Renovar Contrato ")])])])):n("",!0),ka.value?(g(),o("div",Sa,c(ka.value),1)):n("",!0),La.value?(g(),o("div",wa,c(La.value),1)):n("",!0)]);var t}}},[["__scopeId","data-v-9a96828e"]]);export{Aa as default};
//# sourceMappingURL=SLAContracts-Kw1HsGfC.js.map
