import{H as e,r as a,c as l,o as t,n as s,a as o,e as n,k as r,J as i,w as u,x as c,f as d,g as v,m,K as p,z as f,A as g,L as b,F as y,C as h,q as k,u as w,G as x,B as C,l as I,T as A,D as T,an as S,a9 as V,I as D,y as M,ao as E}from"./vue-vendor-BY5hdAT7.js";import{l as H,_ as N,u as U,S as L,a as _}from"./index-Dur0lEaU.js";import{u as q,L as z}from"./LoadingState-Bai_lHj2.js";import{f as B}from"./utils-vendor-COuxBHZ0.js";import{p as j}from"./pt-BR-DyUPfqrK.js";function R(e){return null!=e&&""!==String(e).trim()}function P(e,a){return null!=e&&String(e).trim().length>=a}function F(){const a=e({tag:"",name:"",category:"",location:"",value:""});function l(){a.tag="",a.name="",a.category="",a.location="",a.value=""}return{validationErrors:a,validateAsset:function(e){var t;return l(),R(e.tag)?P(e.tag,2)||(a.tag="Código muito curto."):a.tag="Código é obrigatório.",R(e.name)?P(e.name,2)||(a.name="Nome muito curto."):a.name="Nome é obrigatório.",R(e.category)||(a.category="Categoria é obrigatória."),R(e.location)||(a.location="Localização é obrigatória."),R(e.value)&&(null!=(t=e.value)&&""!==t&&!isNaN(Number(String(t).replace(/\./g,"").replace(",","."))))||(a.value="Valor inválido."),!(a.tag||a.name||a.category||a.location||a.value)},clearErrors:l}}function $(e={}){const{itemHeight:n=50,containerHeight:r=400,buffer:i=5,threshold:u=.8}=e,c=a(0),d=a(null),v=a([]),m=a(!1),p=a(!0),f=l(()=>Math.ceil(r/n)),g=l(()=>v.value.length*n),b=l(()=>{const e=Math.floor(c.value/n)-i;return Math.max(0,e)}),y=l(()=>{const e=b.value+f.value+2*i;return Math.min(v.value.length,e)}),h=l(()=>v.value.slice(b.value,y.value).map((e,a)=>({...e,index:b.value+a,top:(b.value+a)*n}))),k=l(()=>b.value*n),w=async()=>{if(!m.value&&p.value){m.value=!0;try{if(e.onLoadMore){const a=await e.onLoadMore();a&&a.length>0?v.value.push(...a):p.value=!1}}catch(a){H.error("Error loading more items:",a)}finally{m.value=!1}}},x=e=>{if(!d.value)return;const a=e*n;d.value.scrollTop=a,c.value=a},C=()=>{x(0)},I=a(null);t(()=>{s(()=>{window.IntersectionObserver&&(I.value=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting){const l=parseInt(a.target.dataset.index);e.onItemVisible&&e.onItemVisible(l,v.value[l])}})},{root:d.value,rootMargin:"50px",threshold:.1}))})}),o(()=>{I.value&&I.value.disconnect()});const A=a(""),T=l(()=>{if(!A.value)return v.value;const e=A.value.toLowerCase();return v.value.filter(a=>"string"==typeof a?a.toLowerCase().includes(e):Object.values(a).some(a=>String(a).toLowerCase().includes(e)))}),S=a({renderTime:0,scrollEvents:0,lastRenderTime:0});let V=null;return{containerRef:d,scrollTop:c,items:v,loading:m,hasMore:p,searchQuery:A,visibleItems:h,filteredItems:T,totalHeight:g,offsetY:k,startIndex:b,endIndex:y,visibleCount:f,performanceMetrics:S,handleScroll:e=>{S.value.scrollEvents++,V&&clearTimeout(V),V=setTimeout(()=>{(e=>{c.value=e.target.scrollTop;const a=e.target.scrollHeight,l=e.target.clientHeight;c.value+l>=a*u&&p.value&&!m.value&&w()})(e)},16)},loadMore:w,scrollToIndex:x,scrollToTop:C,scrollToBottom:()=>{d.value&&(d.value.scrollTop=d.value.scrollHeight)},setItems:e=>{v.value=e,p.value=!0,C()},addItems:e=>{v.value.push(...e)},removeItem:e=>{v.value.splice(e,1)},updateItem:(e,a)=>{e>=0&&e<v.value.length&&(v.value[e]={...v.value[e],...a})},reset:()=>{v.value=[],c.value=0,m.value=!1,p.value=!0},setSearchQuery:e=>{A.value=e,C()},observeItem:(e,a)=>{I.value&&e&&(e.dataset.index=a,I.value.observe(e))},unobserveItem:e=>{I.value&&e&&I.value.unobserve(e)},measureRenderTime:e=>{const a=performance.now();e();const l=performance.now();S.value.renderTime=l-a,S.value.lastRenderTime=Date.now()}}}const O={mounted(e,a){const{observeItem:l}=a.value,t=e.dataset.index;l&&void 0!==t&&l(e,parseInt(t))},unmounted(e,a){const{unobserveItem:l}=a.value;l&&l(e)}},G=N({__name:"Icon",props:{name:{type:String,required:!0},size:{type:[Number,String],default:null},color:{type:String,default:null},weight:{type:String,default:"solid"}},setup(e){const a=e,t={search:"fa-magnifying-glass",x:"fa-xmark",inbox:"fa-inbox","search-x":"fa-magnifying-glass","arrow-up":"fa-arrow-up","chevrons-left":"fa-angles-left","chevron-left":"fa-chevron-left","chevron-right":"fa-chevron-right","chevrons-right":"fa-angles-right"},s=l(()=>{switch(a.weight){case"regular":return"fa-regular";case"brands":return"fa-brands";default:return"fa-solid"}}),o=l(()=>t[a.name]||null),u=l(()=>{const e={};return a.size&&(e.fontSize="number"==typeof a.size?`${a.size}px`:a.size),a.color&&(e.color=a.color),e});return(e,a)=>o.value?(r(),n("span",i({key:0,class:[s.value,o.value],style:u.value},e.$attrs),null,16)):(r(),n("span",i({key:1,class:"icon-fallback",style:u.value},e.$attrs),"?",16))}},[["__scopeId","data-v-27e71007"]]),K={class:"virtual-list-container"},Q={key:0,class:"virtual-list-search"},Y={class:"search-input-wrapper"},J=["placeholder","aria-label"],W=["aria-label","aria-busy"],X=["data-index","aria-selected","aria-posinset","aria-setsize","onClick","onKeydown"],Z={class:"default-item"},ee={key:0,class:"virtual-list-loading",role:"status","aria-label":"Carregando mais itens"},ae={class:"loading-text"},le={key:1,class:"virtual-list-empty",role:"status"},te={class:"empty-content"},se={class:"empty-text"},oe={key:2,class:"virtual-list-no-results",role:"status"},ne={class:"no-results-content"},re={class:"no-results-text"},ie={key:1,class:"virtual-list-metrics",role:"status","aria-label":"Métricas de performance"},ue=N({__name:"VirtualList",props:{items:{type:Array,default:()=>[]},itemHeight:{type:Number,default:50},containerHeight:{type:Number,default:400},buffer:{type:Number,default:5},threshold:{type:Number,default:.8},searchable:{type:Boolean,default:!1},searchPlaceholder:{type:String,default:"Pesquisar..."},loadingText:{type:String,default:"Carregando..."},emptyText:{type:String,default:"Nenhum item encontrado"},ariaLabel:{type:String,default:"Lista de itens"},keyField:{type:String,default:"id"},labelField:{type:String,default:"name"},selectedItems:{type:Array,default:()=>[]},showScrollToTop:{type:Boolean,default:!0},showMetrics:{type:Boolean,default:!1}},emits:["load-more","item-click","selection-change","search","scroll"],setup(e,{expose:a,emit:t}){const o=e,i=t,{containerRef:T,scrollTop:S,loading:V,searchQuery:D,visibleItems:M,filteredItems:E,totalHeight:H,offsetY:N,performanceMetrics:U,handleScroll:L,scrollToTop:_,setItems:q,setSearchQuery:z,observeItem:B,unobserveItem:j,measureRenderTime:R}=$({itemHeight:o.itemHeight,containerHeight:o.containerHeight,buffer:o.buffer,threshold:o.threshold,onLoadMore:async()=>await new Promise(e=>{i("load-more",e)})}),P=l(()=>E.value.length),F=l(()=>!1),ue=e=>"object"==typeof e&&null!==e?e[o.keyField]||e.id||JSON.stringify(e):e,ce=e=>"string"==typeof e?e:"object"==typeof e&&null!==e&&(e[o.labelField]||e.name||e.title)||String(e),de=e=>{const a=ue(e);return o.selectedItems.some(e=>ue(e)===a)},ve=e=>{i("item-click",e)},me=()=>{i("search",D.value)},pe=()=>{D.value="",z(""),i("search","")},fe=e=>{R(()=>{L(e)}),i("scroll",{scrollTop:S.value,scrollHeight:e.target.scrollHeight,clientHeight:e.target.clientHeight})},ge=e=>{const{key:a}=e,l=parseInt(e.target.dataset.index)||0;switch(a){case"ArrowDown":e.preventDefault(),be(l+1);break;case"ArrowUp":e.preventDefault(),be(l-1);break;case"Home":e.preventDefault(),be(0);break;case"End":e.preventDefault(),be(P.value-1);break;case"PageDown":e.preventDefault(),be(Math.min(l+10,P.value-1));break;case"PageUp":e.preventDefault(),be(Math.max(l-10,0))}},be=e=>{e<0||e>=P.value||s(()=>{var a;const l=null==(a=T.value)?void 0:a.querySelector(`[data-index="${e}"]`);if(l){l.focus();const a=e*o.itemHeight,t=S.value,s=t+o.containerHeight;a<t?T.value.scrollTop=a:a+o.itemHeight>s&&(T.value.scrollTop=a-o.containerHeight+o.itemHeight)}})};return u(()=>o.items,e=>{q(e)},{immediate:!0}),u(D,e=>{z(e)}),a({scrollToTop:_,scrollToIndex:e=>be(e),refresh:()=>q(o.items),clearSearch:pe,focusFirst:()=>be(0)}),(a,l)=>(r(),n("div",K,[e.searchable?(r(),n("div",Q,[d("div",Y,[v(G,{name:"search",class:"search-icon","aria-hidden":"true"}),m(d("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>g(D)?D.value=e:null),type:"text",placeholder:e.searchPlaceholder,class:"search-input","aria-label":e.searchPlaceholder,onInput:me},null,40,J),[[p,f(D)]]),f(D)?(r(),n("button",{key:0,onClick:pe,class:"clear-search-btn",type:"button","aria-label":"Limpar pesquisa"},[v(G,{name:"x","aria-hidden":"true"})])):c("",!0)])])):c("",!0),d("div",{ref_key:"containerRef",ref:T,class:"virtual-list-viewport",style:b({height:e.containerHeight+"px"}),onScroll:fe,role:"listbox","aria-label":e.ariaLabel,"aria-busy":f(V),tabindex:"0",onKeydown:ge},[d("div",{class:"virtual-list-spacer",style:b({height:f(H)+"px"})},[d("div",{class:"virtual-list-items",style:b({transform:`translateY(${f(N)}px)`})},[(r(!0),n(y,null,h(f(M),l=>m((r(),n("div",{key:ue(l),"data-index":l.index,class:"virtual-list-item",style:b({height:e.itemHeight+"px"}),role:"option","aria-selected":de(l),"aria-posinset":l.index+1,"aria-setsize":P.value,onClick:e=>ve(l),onKeydown:[k(e=>ve(l),["enter"]),k(w(e=>ve(l),["prevent"]),["space"])],tabindex:"-1"},[x(a.$slots,"item",{item:l,index:l.index,selected:de(l)},()=>[d("div",Z,C(ce(l)),1)])],44,X)),[[f(O),{observeItem:f(B),unobserveItem:f(j)}]])),128))],4)],4),f(V)?(r(),n("div",ee,[l[2]||(l[2]=d("div",{class:"loading-spinner","aria-hidden":"true"},null,-1)),d("span",ae,C(e.loadingText),1)])):c("",!0),f(V)||0!==f(E).length?c("",!0):(r(),n("div",le,[x(a.$slots,"empty",{},()=>[d("div",te,[v(G,{name:"inbox",class:"empty-icon","aria-hidden":"true"}),d("p",se,C(e.emptyText),1)])])])),!f(V)&&f(D)&&0===f(E).length&&e.items.length>0?(r(),n("div",oe,[x(a.$slots,"no-results",{},()=>[d("div",ne,[v(G,{name:"search-x",class:"no-results-icon","aria-hidden":"true"}),d("p",re,' Nenhum resultado encontrado para "'+C(f(D))+'" ',1),d("button",{onClick:pe,class:"clear-search-link",type:"button"}," Limpar pesquisa ")])])])):c("",!0)],44,W),v(A,{name:"fade"},{default:I(()=>[e.showScrollToTop&&f(S)>e.containerHeight?(r(),n("button",{key:0,onClick:l[1]||(l[1]=(...e)=>f(_)&&f(_)(...e)),class:"scroll-to-top-btn",type:"button","aria-label":"Voltar ao topo",title:"Voltar ao topo"},[v(G,{name:"arrow-up","aria-hidden":"true"})])):c("",!0)]),_:1}),e.showMetrics&&F.value?(r(),n("div",ie,[d("small",null," Itens: "+C(f(M).length)+"/"+C(P.value)+" | Render: "+C(f(U).renderTime.toFixed(2))+"ms | Scroll: "+C(f(U).scrollEvents),1)])):c("",!0)]))}},[["__scopeId","data-v-a6ebbec4"]]),ce={class:"assets"},de={class:"page-header"},ve={class:"page-actions"},me={class:"filters-section"},pe={class:"filters-row"},fe={class:"filter-group"},ge={class:"search-input"},be={class:"filter-group"},ye=["value"],he={class:"filter-group"},ke={class:"filter-group"},we=["value"],xe={class:"filter-group"},Ce=["value"],Ie={class:"table-container"},Ae={class:"table-header"},Te={class:"table-info"},Se={class:"results-count"},Ve={class:"table-actions"},De={class:"view-toggle"},Me={key:2,class:"table-wrapper"},Ee={class:"table-header-fixed"},He={class:"table"},Ne={class:"virtual-table-cell checkbox-cell"},Ue=["value"],Le={class:"virtual-table-cell code-cell"},_e={class:"asset-code"},qe={class:"virtual-table-cell asset-cell"},ze={class:"asset-info"},Be={class:"asset-name"},je={class:"asset-description"},Re={key:0,class:"asset-serial"},Pe={key:1,class:"asset-mac"},Fe={key:2,class:"asset-entry"},$e={class:"virtual-table-cell category-cell"},Oe={class:"badge badge-outline"},Ge={class:"subcategory"},Ke={class:"virtual-table-cell location-cell"},Qe={class:"location-info"},Ye={class:"virtual-table-cell responsible-cell"},Je={class:"virtual-table-cell date-cell"},We={class:"date-info"},Xe={class:"virtual-table-cell warranty-cell"},Ze={class:"warranty-info"},ea={key:0},aa={class:"virtual-table-cell value-cell"},la={class:"value-info"},ta={class:"current-value"},sa={key:0,class:"original-value"},oa={class:"virtual-table-cell status-cell"},na={class:"virtual-table-cell actions-cell"},ra={class:"action-buttons"},ia=["onClick"],ua=["onClick"],ca=["onClick"],da=["onClick"],va={key:3,class:"grid-view"},ma={class:"asset-card-header"},pa=["value"],fa={class:"asset-card-body"},ga={class:"asset-icon"},ba={class:"asset-details"},ya={class:"asset-name"},ha={class:"asset-code"},ka={class:"asset-brand"},wa={class:"asset-serial"},xa={class:"asset-meta"},Ca={class:"meta-item"},Ia={class:"meta-item"},Aa={class:"meta-item"},Ta={class:"meta-item"},Sa={class:"meta-item"},Va={class:"meta-item"},Da={key:0},Ma={class:"meta-item"},Ea={key:0,class:"original-value"},Ha={key:0,class:"meta-item"},Na={class:"asset-card-footer"},Ua=["onClick"],La={class:"card-actions"},_a=["onClick"],qa=["onClick"],za={key:4,class:"virtual-info"},Ba={class:"results-summary"},ja={key:0},Ra={class:"modal-header"},Pa={class:"modal-body"},Fa={class:"form-row"},$a={class:"form-group"},Oa={key:0,class:"form-error"},Ga={class:"form-group"},Ka={key:0,class:"form-error"},Qa={class:"form-group"},Ya={class:"form-row"},Ja={class:"form-group"},Wa=["value"],Xa={key:0,class:"form-error"},Za={class:"form-group"},el={key:0,class:"form-error"},al={class:"form-row"},ll={class:"form-group"},tl={key:0,class:"form-error"},sl={class:"form-group"},ol={class:"modal-actions"},nl={class:"modal-body"},rl={class:"form-row"},il={class:"form-group"},ul={key:0,class:"form-error"},cl={class:"form-group"},dl={key:0,class:"form-error"},vl={class:"form-group"},ml={class:"form-row"},pl={class:"form-group"},fl=["value"],gl={key:0,class:"form-error"},bl={class:"form-group"},yl={key:0,class:"form-error"},hl={class:"form-row"},kl={class:"form-group"},wl={key:0,class:"form-error"},xl={class:"form-group"},Cl=N({__name:"Assets",setup(e){const s=U(),{isLoading:o,loadPage:i}=q(),{success:u,error:g}=_(),b=a(""),k=a(""),x=a(""),A=a(""),N=a(""),R=a("table"),P=a([]),$=a(!1),O=a(!1),G=a(!1),K=a({id:null,tag:"",name:"",description:"",category:"",location:"",value:0,status:"Ativo"}),Q=l(()=>[...new Set(s.assets.map(e=>e.category).filter(Boolean))].sort()),Y=l(()=>[...new Set(s.assets.map(e=>e.location).filter(Boolean))].sort()),J=l(()=>[...new Set(s.assets.map(e=>e.department).filter(Boolean))].sort()),W=a({tag:"",name:"",description:"",category:"",location:"",value:0,status:"Ativo"}),{validationErrors:X,validateAsset:Z,clearErrors:ee}=F(),ae=l(()=>s.filteredAssets),le=()=>{s.setFilters({search:b.value,category:k.value,status:x.value,location:A.value,department:N.value})},te=()=>{b.value="",k.value="",x.value="",A.value="",N.value="",s.clearFilters()},se=()=>{$.value?P.value=ae.value.map(e=>e.id):P.value=[]},oe=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),ne=e=>B(new Date(e),"dd/MM/yyyy",{locale:j}),re=e=>({Ativo:"badge-success","Manutenção":"badge-warning",Inativo:"badge-danger",Emprestado:"badge-info"}[e]||"badge-secondary"),ie=e=>{if(!e||!e.endDate)return"warranty-none";const a=new Date,l=new Date(e.endDate),t=new Date(a.getTime()+2592e6);return l<a?"warranty-expired":l<=t?"warranty-expiring":"warranty-active"},Cl=e=>{H.userAction("view_asset",{id:e.id,name:e.name})},Il=e=>{K.value={id:e.id,tag:e.tag||"",name:e.name||"",description:e.description||"",category:e.category||"",location:e.location||"",value:"number"==typeof e.value?e.value:Number(e.value||0),status:e.status||"Ativo"},G.value=!0},Al=()=>{G.value=!1},Tl=async()=>{try{if(!Z(K.value))return void g("Por favor corrija os erros no formulário antes de salvar.");await s.updateAsset(K.value.id,{tag:K.value.tag,name:K.value.name,description:K.value.description,category:K.value.category,location:K.value.location,value:K.value.value,status:K.value.status,updatedAt:new Date}),G.value=!1,ee(),u("Ativo atualizado com sucesso")}catch(e){H.error("Error updating asset:",e),g("Erro ao atualizar ativo")}},Sl=e=>{H.userAction("move_asset",{id:e.id,name:e.name})},Vl=async()=>{try{if(!Z(W.value))return void g("Por favor corrija os erros no formulário antes de salvar.");await s.addAsset({...W.value,id:Date.now(),createdAt:new Date,updatedAt:new Date}),W.value={tag:"",name:"",description:"",category:"",location:"",value:0,status:"Ativo"},O.value=!1,ee(),u("Ativo criado com sucesso")}catch(e){H.error("Error adding asset:",e),g("Erro ao adicionar ativo")}},Dl=()=>{H.userAction("export_assets",{count:ae.value.length})},Ml=async()=>{await s.loadMoreAssets()};return t(async()=>{await i(async()=>{await s.fetchAssets()})}),(e,a)=>(r(),n("div",ce,[d("div",de,[a[32]||(a[32]=d("div",{class:"page-header-content"},[d("h1",{class:"page-title"},"Gestão de Ativos"),d("p",{class:"page-subtitle"},"Controle e monitoramento de todos os ativos da empresa")],-1)),d("div",ve,[d("button",{class:"btn btn-secondary",onClick:Dl},[...a[30]||(a[30]=[d("i",{class:"fas fa-download"},null,-1),T(" Exportar ",-1)])]),d("button",{class:"btn btn-primary",onClick:a[0]||(a[0]=e=>O.value=!0)},[...a[31]||(a[31]=[d("i",{class:"fas fa-plus"},null,-1),T(" Novo Ativo ",-1)])])])]),d("div",me,[d("div",pe,[d("div",fe,[a[34]||(a[34]=d("label",null,"Buscar",-1)),d("div",ge,[a[33]||(a[33]=d("i",{class:"fas fa-search"},null,-1)),m(d("input",{type:"text",placeholder:"Buscar por código, nome ou descrição...","onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),onInput:le},null,544),[[p,b.value]])])]),d("div",be,[a[36]||(a[36]=d("label",null,"Categoria",-1)),m(d("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>k.value=e),onChange:le},[a[35]||(a[35]=d("option",{value:""},"Todas as categorias",-1)),(r(!0),n(y,null,h(Q.value,e=>(r(),n("option",{key:e,value:e},C(e),9,ye))),128))],544),[[S,k.value]])]),d("div",he,[a[38]||(a[38]=d("label",null,"Status",-1)),m(d("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>x.value=e),onChange:le},[...a[37]||(a[37]=[V('<option value="" data-v-d71f4cd4>Todos os status</option><option value="Ativo" data-v-d71f4cd4>Ativo</option><option value="Manutenção" data-v-d71f4cd4>Manutenção</option><option value="Inativo" data-v-d71f4cd4>Inativo</option><option value="Emprestado" data-v-d71f4cd4>Emprestado</option>',5)])],544),[[S,x.value]])]),d("div",ke,[a[40]||(a[40]=d("label",null,"Localização",-1)),m(d("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>A.value=e),onChange:le},[a[39]||(a[39]=d("option",{value:""},"Todas as localizações",-1)),(r(!0),n(y,null,h(Y.value,e=>(r(),n("option",{key:e,value:e},C(e),9,we))),128))],544),[[S,A.value]])]),d("div",xe,[a[42]||(a[42]=d("label",null,"Departamento",-1)),m(d("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>N.value=e),onChange:le},[a[41]||(a[41]=d("option",{value:""},"Todos os departamentos",-1)),(r(!0),n(y,null,h(J.value,e=>(r(),n("option",{key:e,value:e},C(e),9,Ce))),128))],544),[[S,N.value]])]),d("button",{class:"btn btn-outline",onClick:te},[...a[43]||(a[43]=[d("i",{class:"fas fa-times"},null,-1),T(" Limpar ",-1)])])])]),d("div",Ie,[f(o)&&0===f(s).assets.length?(r(),D(L,{key:0,rows:6,columns:"grid"===R.value?2:1,rowHeight:120,rowWidth:"100%"},null,8,["columns"])):c("",!0),f(o)?(r(),D(z,{key:1,message:"Carregando ativos...",overlay:!0})):c("",!0),d("div",Ae,[d("div",Te,[d("span",Se,C(ae.value.length)+" de "+C(f(s).totalAssets)+" ativos ",1)]),d("div",Ve,[d("div",De,[d("button",{class:M(["btn-icon",{active:"table"===R.value}]),onClick:a[6]||(a[6]=e=>R.value="table")},[...a[44]||(a[44]=[d("i",{class:"fas fa-list"},null,-1)])],2),d("button",{class:M(["btn-icon",{active:"grid"===R.value}]),onClick:a[7]||(a[7]=e=>R.value="grid")},[...a[45]||(a[45]=[d("i",{class:"fas fa-th"},null,-1)])],2)])])]),"table"===R.value?(r(),n("div",Me,[d("div",Ee,[d("table",He,[d("thead",null,[d("tr",null,[d("th",null,[m(d("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>$.value=e),onChange:se},null,544),[[E,$.value]])]),a[46]||(a[46]=d("th",null,"Código",-1)),a[47]||(a[47]=d("th",null,"Ativo",-1)),a[48]||(a[48]=d("th",null,"Categoria",-1)),a[49]||(a[49]=d("th",null,"Localização",-1)),a[50]||(a[50]=d("th",null,"Responsável",-1)),a[51]||(a[51]=d("th",null,"Data Entrada",-1)),a[52]||(a[52]=d("th",null,"Garantia",-1)),a[53]||(a[53]=d("th",null,"Valor",-1)),a[54]||(a[54]=d("th",null,"Status",-1)),a[55]||(a[55]=d("th",null,"Ações",-1))])])])]),v(ue,{items:ae.value,"item-height":80,"container-height":600,buffer:5,"show-search":!1,"show-back-to-top":!0,"show-performance-metrics":!1,"item-key":"id",onItemClick:Cl,onLoadMore:Ml,class:"assets-virtual-list"},{item:I(({item:e,index:l})=>{var t,o,i,v;return[d("div",{class:M(["virtual-table-row",{selected:P.value.includes(e.id)}])},[d("div",Ne,[m(d("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":a[9]||(a[9]=e=>P.value=e)},null,8,Ue),[[E,P.value]])]),d("div",Le,[d("span",_e,C(e.tag),1)]),d("div",qe,[d("div",ze,[d("span",Be,C(e.name),1),d("span",je,C(e.brand)+" "+C(e.model),1),e.serialNumber?(r(),n("span",Re,"S/N: "+C(e.serialNumber),1)):c("",!0),"Informática"===e.category&&e.mac?(r(),n("span",Pe,"MAC: "+C(e.mac),1)):c("",!0),e.entryDate?(r(),n("span",Fe,"Entrada: "+C(ne(e.entryDate)),1)):c("",!0)])]),d("div",$e,[d("span",Oe,C(e.category),1),d("small",Ge,C(e.subcategory),1)]),d("div",Ke,[d("div",Qe,[d("span",null,C(e.location),1),d("small",null,C(e.department),1)])]),d("div",Ye,C(e.responsible),1),d("div",Je,[d("span",We,C(ne(e.entryDate)),1)]),d("div",Xe,[d("div",Ze,[d("span",{class:M(["warranty-status",ie(e.warranty)])},C((null==(t=e.warranty)?void 0:t.status)||"N/A"),3),(null==(o=e.warranty)?void 0:o.endDate)?(r(),n("small",ea,C(ne(e.warranty.endDate)),1)):c("",!0)])]),d("div",aa,[d("div",la,[d("span",ta,C(oe((null==(i=e.depreciation)?void 0:i.currentValue)||e.value)),1),(null==(v=e.depreciation)?void 0:v.currentValue)!==e.value?(r(),n("small",sa," Original: "+C(oe(e.value)),1)):c("",!0)])]),d("div",oa,[d("span",{class:M(["badge",re(e.status)])},C(e.status),3)]),d("div",na,[d("div",ra,[d("button",{class:"btn-icon",onClick:w(a=>Cl(e),["stop"]),title:"Ver Detalhes"},[...a[56]||(a[56]=[d("i",{class:"fas fa-eye"},null,-1)])],8,ia),d("button",{class:"btn-icon",onClick:w(a=>Il(e),["stop"]),title:"Editar"},[...a[57]||(a[57]=[d("i",{class:"fas fa-edit"},null,-1)])],8,ua),d("button",{class:"btn-icon",onClick:w(a=>Sl(e),["stop"]),title:"Movimentar"},[...a[58]||(a[58]=[d("i",{class:"fas fa-exchange-alt"},null,-1)])],8,ca),d("button",{class:"btn-icon danger",onClick:w(a=>(e=>{confirm(`Tem certeza que deseja excluir o ativo ${e.name}?`)&&(s.deleteAsset(e.id),u("Ativo excluído com sucesso"))})(e),["stop"]),title:"Excluir"},[...a[59]||(a[59]=[d("i",{class:"fas fa-trash"},null,-1)])],8,da)])])],2)]}),loading:I(()=>[...a[60]||(a[60]=[d("div",{class:"virtual-loading"},[d("i",{class:"fas fa-spinner fa-spin"}),T(" Carregando mais ativos... ")],-1)])]),empty:I(()=>[...a[61]||(a[61]=[d("div",{class:"virtual-empty"},[d("i",{class:"fas fa-inbox"}),d("p",null,"Nenhum ativo encontrado"),d("p",{class:"text-muted"},"Tente ajustar os filtros ou adicionar novos ativos")],-1)])]),_:1},8,["items"])])):(r(),n("div",va,[(r(!0),n(y,null,h(e.paginatedAssets,e=>{var l,t,s,o,i,u;return r(),n("div",{key:e.id,class:"asset-card"},[d("div",ma,[m(d("input",{type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=e=>P.value=e),value:e.id},null,8,pa),[[E,P.value]]),d("span",{class:M(["badge",re(e.status)])},C(e.status),3)]),d("div",fa,[d("div",ga,[d("i",{class:M((u=e.category,{"Informática":"fas fa-laptop","Móveis":"fas fa-chair",Equipamentos:"fas fa-tools","Veículos":"fas fa-car",Telefonia:"fas fa-mobile-alt","Mobiliário":"fas fa-couch"}[u]||"fas fa-box"))},null,2)]),d("div",ba,[d("h3",ya,C(e.name),1),d("p",ha,C(e.tag),1),d("p",ka,C(e.brand)+" "+C(e.model),1),d("p",wa,"S/N: "+C(e.serialNumber),1),d("div",xa,[d("div",Ca,[a[62]||(a[62]=d("i",{class:"fas fa-tag"},null,-1)),d("span",null,C(e.category)+" - "+C(e.subcategory),1)]),d("div",Ia,[a[63]||(a[63]=d("i",{class:"fas fa-map-marker-alt"},null,-1)),d("span",null,C(e.location),1)]),d("div",Aa,[a[64]||(a[64]=d("i",{class:"fas fa-building"},null,-1)),d("span",null,C(e.department),1)]),d("div",Ta,[a[65]||(a[65]=d("i",{class:"fas fa-user"},null,-1)),d("span",null,C(e.responsible),1)]),d("div",Sa,[a[66]||(a[66]=d("i",{class:"fas fa-calendar-plus"},null,-1)),d("span",null,"Entrada: "+C(ne(e.entryDate)),1)]),d("div",Va,[a[67]||(a[67]=d("i",{class:"fas fa-shield-alt"},null,-1)),d("span",{class:M(["warranty-status",ie(e.warranty)])},[T(" Garantia: "+C((null==(l=e.warranty)?void 0:l.status)||"N/A")+" ",1),(null==(t=e.warranty)?void 0:t.endDate)?(r(),n("span",Da," - "+C(ne(e.warranty.endDate)),1)):c("",!0)],2)]),d("div",Ma,[a[68]||(a[68]=d("i",{class:"fas fa-dollar-sign"},null,-1)),d("span",null,[T(C(oe((null==(s=e.depreciation)?void 0:s.currentValue)||e.value))+" ",1),(null==(o=e.depreciation)?void 0:o.currentValue)!==e.value?(r(),n("small",Ea," (Original: "+C(oe(e.value))+") ",1)):c("",!0)])]),(null==(i=e.maintenance)?void 0:i.nextDate)?(r(),n("div",Ha,[a[69]||(a[69]=d("i",{class:"fas fa-wrench"},null,-1)),d("span",null,"Próxima Manutenção: "+C(ne(e.maintenance.nextDate)),1)])):c("",!0)])])]),d("div",Na,[d("button",{class:"btn btn-sm btn-outline",onClick:a=>Cl(e)},[...a[70]||(a[70]=[d("i",{class:"fas fa-eye"},null,-1),T(" Ver Detalhes ",-1)])],8,Ua),d("div",La,[d("button",{class:"btn-icon",onClick:a=>Il(e),title:"Editar"},[...a[71]||(a[71]=[d("i",{class:"fas fa-edit"},null,-1)])],8,_a),d("button",{class:"btn-icon",onClick:a=>Sl(e),title:"Movimentar"},[...a[72]||(a[72]=[d("i",{class:"fas fa-exchange-alt"},null,-1)])],8,qa)])])])}),128))])),"table"===R.value?(r(),n("div",za,[d("div",Ba,[d("span",null,[T(" Total de "+C(ae.value.length)+" ativos ",1),P.value.length>0?(r(),n("span",ja," ("+C(P.value.length)+" selecionados) ",1)):c("",!0)])])])):c("",!0)]),O.value?(r(),n("div",{key:0,class:"modal-overlay",onClick:a[21]||(a[21]=e=>O.value=!1)},[d("div",{class:"modal",onClick:a[20]||(a[20]=w(()=>{},["stop"]))},[d("div",Ra,[a[74]||(a[74]=d("h2",null,"Novo Ativo",-1)),d("button",{class:"btn-icon",onClick:a[11]||(a[11]=e=>O.value=!1)},[...a[73]||(a[73]=[d("i",{class:"fas fa-times"},null,-1)])])]),d("div",Pa,[d("form",{onSubmit:w(Vl,["prevent"])},[d("div",Fa,[d("div",$a,[a[75]||(a[75]=d("label",null,"Código *",-1)),m(d("input",{type:"text","onUpdate:modelValue":a[12]||(a[12]=e=>W.value.tag=e),required:""},null,512),[[p,W.value.tag]]),f(X).tag?(r(),n("small",Oa,C(f(X).tag),1)):c("",!0)]),d("div",Ga,[a[76]||(a[76]=d("label",null,"Nome *",-1)),m(d("input",{type:"text","onUpdate:modelValue":a[13]||(a[13]=e=>W.value.name=e),required:""},null,512),[[p,W.value.name]]),f(X).name?(r(),n("small",Ka,C(f(X).name),1)):c("",!0)])]),d("div",Qa,[a[77]||(a[77]=d("label",null,"Descrição",-1)),m(d("textarea",{"onUpdate:modelValue":a[14]||(a[14]=e=>W.value.description=e),rows:"3"},null,512),[[p,W.value.description]])]),d("div",Ya,[d("div",Ja,[a[79]||(a[79]=d("label",null,"Categoria *",-1)),m(d("select",{"onUpdate:modelValue":a[15]||(a[15]=e=>W.value.category=e),required:""},[a[78]||(a[78]=d("option",{value:""},"Selecione uma categoria",-1)),(r(!0),n(y,null,h(Q.value,e=>(r(),n("option",{key:e,value:e},C(e),9,Wa))),128))],512),[[S,W.value.category]]),f(X).category?(r(),n("small",Xa,C(f(X).category),1)):c("",!0)]),d("div",Za,[a[80]||(a[80]=d("label",null,"Localização *",-1)),m(d("input",{type:"text","onUpdate:modelValue":a[16]||(a[16]=e=>W.value.location=e),required:""},null,512),[[p,W.value.location]]),f(X).location?(r(),n("small",el,C(f(X).location),1)):c("",!0)])]),d("div",al,[d("div",ll,[a[81]||(a[81]=d("label",null,"Valor *",-1)),m(d("input",{type:"number",step:"0.01","onUpdate:modelValue":a[17]||(a[17]=e=>W.value.value=e),required:""},null,512),[[p,W.value.value,void 0,{number:!0}]]),f(X).value?(r(),n("small",tl,C(f(X).value),1)):c("",!0)]),d("div",sl,[a[83]||(a[83]=d("label",null,"Status",-1)),m(d("select",{"onUpdate:modelValue":a[18]||(a[18]=e=>W.value.status=e)},[...a[82]||(a[82]=[d("option",{value:"Ativo"},"Ativo",-1),d("option",{value:"Manutenção"},"Manutenção",-1),d("option",{value:"Inativo"},"Inativo",-1),d("option",{value:"Emprestado"},"Emprestado",-1)])],512),[[S,W.value.status]])])]),d("div",ol,[d("button",{type:"button",class:"btn btn-secondary",onClick:a[19]||(a[19]=e=>O.value=!1)}," Cancelar "),a[84]||(a[84]=d("button",{type:"submit",class:"btn btn-primary"},[d("i",{class:"fas fa-save"}),T(" Salvar Ativo ")],-1))])],32)])])])):c("",!0),G.value?(r(),n("div",{key:1,class:"modal-overlay",onClick:Al},[d("div",{class:"modal",onClick:a[29]||(a[29]=w(()=>{},["stop"]))},[d("div",{class:"modal-header"},[a[86]||(a[86]=d("h2",null,"Editar Ativo",-1)),d("button",{class:"btn-icon",onClick:Al},[...a[85]||(a[85]=[d("i",{class:"fas fa-times"},null,-1)])])]),d("div",nl,[d("form",{onSubmit:w(Tl,["prevent"])},[d("div",rl,[d("div",il,[a[87]||(a[87]=d("label",null,"Código *",-1)),m(d("input",{type:"text","onUpdate:modelValue":a[22]||(a[22]=e=>K.value.tag=e),required:""},null,512),[[p,K.value.tag]]),f(X).tag?(r(),n("small",ul,C(f(X).tag),1)):c("",!0)]),d("div",cl,[a[88]||(a[88]=d("label",null,"Nome *",-1)),m(d("input",{type:"text","onUpdate:modelValue":a[23]||(a[23]=e=>K.value.name=e),required:""},null,512),[[p,K.value.name]]),f(X).name?(r(),n("small",dl,C(f(X).name),1)):c("",!0)])]),d("div",vl,[a[89]||(a[89]=d("label",null,"Descrição",-1)),m(d("textarea",{"onUpdate:modelValue":a[24]||(a[24]=e=>K.value.description=e),rows:"3"},null,512),[[p,K.value.description]])]),d("div",ml,[d("div",pl,[a[90]||(a[90]=d("label",null,"Categoria *",-1)),m(d("select",{"onUpdate:modelValue":a[25]||(a[25]=e=>K.value.category=e),required:""},[(r(!0),n(y,null,h(Q.value,e=>(r(),n("option",{key:e,value:e},C(e),9,fl))),128))],512),[[S,K.value.category]]),f(X).category?(r(),n("small",gl,C(f(X).category),1)):c("",!0)]),d("div",bl,[a[91]||(a[91]=d("label",null,"Localização *",-1)),m(d("input",{type:"text","onUpdate:modelValue":a[26]||(a[26]=e=>K.value.location=e),required:""},null,512),[[p,K.value.location]]),f(X).location?(r(),n("small",yl,C(f(X).location),1)):c("",!0)])]),d("div",hl,[d("div",kl,[a[92]||(a[92]=d("label",null,"Valor *",-1)),m(d("input",{type:"number",step:"0.01","onUpdate:modelValue":a[27]||(a[27]=e=>K.value.value=e),required:""},null,512),[[p,K.value.value,void 0,{number:!0}]]),f(X).value?(r(),n("small",wl,C(f(X).value),1)):c("",!0)]),d("div",xl,[a[94]||(a[94]=d("label",null,"Status",-1)),m(d("select",{"onUpdate:modelValue":a[28]||(a[28]=e=>K.value.status=e)},[...a[93]||(a[93]=[d("option",{value:"Ativo"},"Ativo",-1),d("option",{value:"Manutenção"},"Manutenção",-1),d("option",{value:"Inativo"},"Inativo",-1),d("option",{value:"Emprestado"},"Emprestado",-1)])],512),[[S,K.value.status]])])]),d("div",{class:"modal-actions"},[d("button",{type:"button",class:"btn btn-secondary",onClick:Al}," Cancelar "),a[95]||(a[95]=d("button",{type:"submit",class:"btn btn-primary"},[d("i",{class:"fas fa-save"}),T(" Salvar Alterações ")],-1))])],32)])])])):c("",!0)]))}},[["__scopeId","data-v-d71f4cd4"]]);export{Cl as default};
//# sourceMappingURL=Assets-CyOFxCJX.js.map
