import{_ as s}from"./index-Dur0lEaU.js";import{c as a,j as e,I as t,k as l,l as i,g as d,f as c,D as n,B as r,e as o,x as u,F as v,C as m}from"./vue-vendor-BY5hdAT7.js";import"./utils-vendor-COuxBHZ0.js";const p={class:"metrics-content"},f={key:0,class:"total-stats"},_={class:"stat-item"},g={class:"stat-value"},k={class:"stat-item"},b={class:"stat-value"},h={class:"stat-item"},y={class:"stat-value"},D={class:"total-percentage"},z={class:"text-caption"},x={class:"disks-list"},w={class:"disk-header"},B={class:"disk-info"},A={class:"disk-name"},G={class:"disk-usage"},C={class:"disk-details"},j={key:0,class:"disk-path"},L={class:"text-caption"},S={class:"disk-space"},M={class:"space-info"},$={class:"space-used"},I={class:"space-total"},E={class:"space-free"},N={class:"text-caption"},O={key:1,class:"disk-alert"},F={key:2,class:"disk-alert"},P={key:2,class:"io-stats"},R={class:"io-header"},T={class:"io-item"},U={class:"io-value"},q={class:"io-item"},H={class:"io-value"},J={class:"timestamp mt-3"},K={class:"text-caption"},Q=s({__name:"DiskMetricsCard",props:{diskData:{type:Array,default:()=>[]},ioStats:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["refresh","cleanup","view-details"],setup(s,{emit:Q}){const V=s,W=a(()=>{if(!V.diskData||0===V.diskData.length)return null;const s=V.diskData.reduce((s,a)=>(s.total_gb+=a.total_gb||0,s.used_gb+=a.used_gb||0,s.free_gb+=a.free_gb||0,s),{total_gb:0,used_gb:0,free_gb:0});return s.usage_percent=s.total_gb>0?Math.round(s.used_gb/s.total_gb*100):0,s}),X=a(()=>{if(!V.diskData||0===V.diskData.length)return null;return V.diskData.map(s=>s.timestamp).filter(Boolean).sort((s,a)=>new Date(a)-new Date(s))[0]||null}),Y=s=>s>90?"error":s>80?"warning":s>70?"info":"success",Z=()=>{if(!W.value)return"surface-variant";const s=V.diskData.filter(s=>s.usage_percent>90).length,a=V.diskData.filter(s=>s.usage_percent>80).length;return s>0?"error":a>0?"warning":"success"},ss=s=>{if(!s)return"mdi-harddisk";const a=s.toLowerCase();return a.includes("ntfs")||a.includes("fat")?"mdi-microsoft-windows":a.includes("ext")||a.includes("xfs")||a.includes("btrfs")?"mdi-linux":a.includes("hfs")||a.includes("apfs")?"mdi-apple":a.includes("cd")||a.includes("dvd")?"mdi-disc":a.includes("usb")||a.includes("removable")?"mdi-usb":"mdi-harddisk"},as=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(a){return"N/A"}};return(a,Q)=>{const V=e("v-icon"),es=e("v-spacer"),ts=e("v-chip"),ls=e("v-card-title"),is=e("v-col"),ds=e("v-row"),cs=e("v-progress-linear"),ns=e("v-divider"),rs=e("v-alert"),os=e("v-card-text"),us=e("v-btn"),vs=e("v-card-actions"),ms=e("v-card");return l(),t(ms,{class:"disk-metrics-card",elevation:"2"},{default:i(()=>[d(ls,{class:"d-flex align-center"},{default:i(()=>[d(V,{icon:"mdi-harddisk",color:"secondary",class:"mr-2"}),Q[3]||(Q[3]=c("span",null,"Armazenamento",-1)),d(es),d(ts,{color:Z(),size:"small",variant:"flat"},{default:i(()=>[n(r(s.diskData.length)+" "+r(1===s.diskData.length?"Disco":"Discos"),1)]),_:1},8,["color"])]),_:1}),d(os,null,{default:i(()=>[c("div",p,[W.value?(l(),o("div",f,[d(ds,{dense:""},{default:i(()=>[d(is,{cols:"4"},{default:i(()=>[c("div",_,[c("div",g,r(W.value.total_gb)+" GB",1),Q[4]||(Q[4]=c("div",{class:"stat-label"},"Total",-1))])]),_:1}),d(is,{cols:"4"},{default:i(()=>[c("div",k,[c("div",b,r(W.value.used_gb)+" GB",1),Q[5]||(Q[5]=c("div",{class:"stat-label"},"Usado",-1))])]),_:1}),d(is,{cols:"4"},{default:i(()=>[c("div",h,[c("div",y,r(W.value.free_gb)+" GB",1),Q[6]||(Q[6]=c("div",{class:"stat-label"},"Livre",-1))])]),_:1})]),_:1}),d(cs,{"model-value":W.value.usage_percent,color:Y(W.value.usage_percent),height:"8",rounded:"",class:"total-usage-bar mt-2"},null,8,["model-value","color"]),c("div",D,[c("span",z,r(W.value.usage_percent)+"% do espaço total utilizado",1)])])):u("",!0),s.diskData.length>0?(l(),t(ns,{key:1,class:"my-3"})):u("",!0),c("div",x,[(l(!0),o(v,null,m(s.diskData,(a,e)=>(l(),o("div",{key:a.device||e,class:"disk-item"},[c("div",w,[c("div",B,[d(V,{icon:ss(a.fstype),size:"small",class:"mr-2"},null,8,["icon"]),c("span",A,r(a.device||`Disco ${e+1}`),1),a.fstype?(l(),t(ts,{key:0,size:"x-small",variant:"outlined",class:"ml-2"},{default:i(()=>[n(r(a.fstype),1)]),_:2},1024)):u("",!0)]),c("div",G,[d(ts,{color:Y(a.usage_percent),size:"small",variant:"flat"},{default:i(()=>[n(r(a.usage_percent)+"% ",1)]),_:2},1032,["color"])])]),c("div",C,[a.mountpoint?(l(),o("div",j,[d(V,{icon:"mdi-folder",size:"x-small",class:"mr-1"}),c("span",L,r(a.mountpoint),1)])):u("",!0),c("div",S,[c("div",M,[c("span",$,r(a.used_gb)+" GB usado",1),c("span",I,"de "+r(a.total_gb)+" GB",1)]),d(cs,{"model-value":a.usage_percent,color:Y(a.usage_percent),height:"6",rounded:"",class:"disk-bar"},null,8,["model-value","color"]),c("div",E,[c("span",N,r(a.free_gb)+" GB disponível",1)])]),a.usage_percent>90?(l(),o("div",O,[d(rs,{type:"error",variant:"tonal",density:"compact",class:"mt-2"},{prepend:i(()=>[d(V,{icon:"mdi-alert",size:"small"})]),default:i(()=>[n(" Espaço crítico ("+r(a.free_gb)+" GB restante) ",1)]),_:2},1024)])):a.usage_percent>80?(l(),o("div",F,[d(rs,{type:"warning",variant:"tonal",density:"compact",class:"mt-2"},{prepend:i(()=>[d(V,{icon:"mdi-alert-outline",size:"small"})]),default:i(()=>[Q[7]||(Q[7]=n(" Pouco espaço disponível ",-1))]),_:1})])):u("",!0)]),e<s.diskData.length-1?(l(),t(ns,{key:0,class:"my-3"})):u("",!0)]))),128))]),s.ioStats?(l(),o("div",P,[d(ns,{class:"my-3"}),c("div",R,[d(V,{icon:"mdi-swap-horizontal",size:"small",class:"mr-1"}),Q[8]||(Q[8]=c("span",{class:"io-title"},"Atividade de I/O",-1))]),d(ds,{dense:"",class:"mt-2"},{default:i(()=>[d(is,{cols:"6"},{default:i(()=>[c("div",T,[c("div",U,r(s.ioStats.read_mb_s)+" MB/s",1),Q[9]||(Q[9]=c("div",{class:"io-label"},"Leitura",-1))])]),_:1}),d(is,{cols:"6"},{default:i(()=>[c("div",q,[c("div",H,r(s.ioStats.write_mb_s)+" MB/s",1),Q[10]||(Q[10]=c("div",{class:"io-label"},"Escrita",-1))])]),_:1})]),_:1})])):u("",!0),c("div",J,[d(V,{icon:"mdi-clock-outline",size:"small",class:"mr-1"}),c("span",K," Atualizado: "+r(as(X.value)),1)])])]),_:1}),d(vs,null,{default:i(()=>[d(us,{variant:"text",size:"small",onClick:Q[0]||(Q[0]=s=>a.$emit("refresh")),loading:s.loading},{default:i(()=>[d(V,{icon:"mdi-refresh",class:"mr-1"}),Q[11]||(Q[11]=n(" Atualizar ",-1))]),_:1},8,["loading"]),d(es),d(us,{variant:"text",size:"small",onClick:Q[1]||(Q[1]=s=>a.$emit("cleanup"))},{default:i(()=>[d(V,{icon:"mdi-broom",class:"mr-1"}),Q[12]||(Q[12]=n(" Limpeza ",-1))]),_:1}),d(us,{variant:"text",size:"small",onClick:Q[2]||(Q[2]=s=>a.$emit("view-details"))},{default:i(()=>[d(V,{icon:"mdi-chart-line",class:"mr-1"}),Q[13]||(Q[13]=n(" Detalhes ",-1))]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-5230322c"]]);export{Q as default};
//# sourceMappingURL=DiskMetricsCard-Dq5zQ6Za.js.map
