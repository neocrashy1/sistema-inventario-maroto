import{_ as s,u as a,i as e}from"./index-Dur0lEaU.js";import{r as t,o as l,e as o,f as n,a9 as r,D as d,y as c,B as i,z as u,g as v,l as m,j as g,F as h,C as b,k as A}from"./vue-vendor-BY5hdAT7.js";import"./utils-vendor-COuxBHZ0.js";const p={class:"test-page"},f={class:"test-sections"},y={class:"test-section"},T={class:"test-item"},I=["disabled"],S={class:"test-item"},P=["disabled"],D={class:"test-item"},C=["disabled"],k={class:"test-section"},x={class:"test-item"},w={class:"test-item"},E={class:"test-section"},$={class:"nav-buttons"},_={class:"test-section"},L={class:"test-log"},R={class:"log-time"},F={class:"log-message"},K=s({__name:"TestFunctionalities",setup(s){const K=a(),N=e(),O=t([]),V=t({assets:!1,dashboard:!1,full:!1}),j=t({assets:{message:"Não testado",class:"text-gray-500"},dashboard:{message:"Não testado",class:"text-gray-500"}}),B=t({message:"Não testado",class:"text-gray-500"}),M=(s,a="info")=>{O.value.unshift({id:Date.now(),time:new Date,message:s,type:a})},z=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s||0),G=async()=>{try{M("Testando Assets Store...","info"),await K.fetchAssets(),M(`Assets Store OK - ${K.totalAssets} ativos carregados`,"success")}catch(s){M(`Erro no Assets Store: ${s.message}`,"error")}},H=async()=>{var s;try{M("Testando Dashboard Store...","info"),await N.fetchDashboardData(),M(`Dashboard Store OK - ${(null==(s=N.recentActivities)?void 0:s.length)||0} atividades`,"success")}catch(a){M(`Erro no Dashboard Store: ${a.message}`,"error")}},U=async()=>{V.value.assets=!0;try{M("Testando Assets API...","info"),await K.fetchDashboardSummary(),K.dashboardSummary?(j.value.assets={message:"Conectado",class:"text-green-600"},M(`Assets API OK - ${K.dashboardSummary.totalAssets} ativos`,"success")):(j.value.assets={message:"Dados mock",class:"text-yellow-600"},M("Assets API usando dados mock","warning"))}catch(s){j.value.assets={message:"Erro",class:"text-red-600"},M(`Erro na Assets API: ${s.message}`,"error")}finally{V.value.assets=!1}},q=async()=>{var s;V.value.dashboard=!0;try{M("Testando Dashboard API...","info"),await N.fetchDashboardData(),(null==(s=N.recentActivities)?void 0:s.length)>0?(j.value.dashboard={message:"Conectado",class:"text-green-600"},M(`Dashboard API OK - ${N.recentActivities.length} atividades`,"success")):(j.value.dashboard={message:"Dados mock",class:"text-yellow-600"},M("Dashboard API usando dados mock","warning"))}catch(a){j.value.dashboard={message:"Erro",class:"text-red-600"},M(`Erro na Dashboard API: ${a.message}`,"error")}finally{V.value.dashboard=!1}},J=async()=>{V.value.full=!0,M("Iniciando teste completo da API...","info");try{await Promise.all([U(),q()]);const s="Erro"!==j.value.assets.message,a="Erro"!==j.value.dashboard.message;s&&a?(B.value={message:"Todas as APIs funcionando",class:"text-green-600"},M("Teste completo da API: SUCESSO","success")):(B.value={message:"Algumas APIs com problemas",class:"text-yellow-600"},M("Teste completo da API: PARCIAL","warning"))}catch(s){B.value={message:"Falha geral",class:"text-red-600"},M(`Teste completo da API: FALHA - ${s.message}`,"error")}finally{V.value.full=!1}};return l(()=>{M("Página de teste carregada","info"),G(),H()}),(s,a)=>{var e,t,l,M,Q,W,X,Y;const Z=g("router-link");return A(),o("div",p,[a[34]||(a[34]=n("div",{class:"page-header"},[n("h1",null,"Teste de Funcionalidades"),n("p",null,"Verificação das funcionalidades básicas da aplicação")],-1)),n("div",f,[n("div",y,[a[16]||(a[16]=n("h2",null,"Teste da Integração com API",-1)),n("div",T,[a[6]||(a[6]=n("h3",null,"Assets API",-1)),n("p",null,[a[0]||(a[0]=n("strong",null,"Status:",-1)),a[1]||(a[1]=d()),n("span",{class:c(j.value.assets.class)},i(j.value.assets.message),3)]),n("p",null,[a[2]||(a[2]=n("strong",null,"Total de Ativos:",-1)),d(" "+i((null==(e=u(K).dashboardSummary)?void 0:e.totalAssets)||0),1)]),n("p",null,[a[3]||(a[3]=n("strong",null,"Valor Total:",-1)),d(" "+i(z((null==(t=u(K).dashboardSummary)?void 0:t.totalValue)||0)),1)]),n("p",null,[a[4]||(a[4]=n("strong",null,"Ativos Ativos:",-1)),d(" "+i((null==(l=u(K).dashboardSummary)?void 0:l.activeCount)||0),1)]),n("p",null,[a[5]||(a[5]=n("strong",null,"Em Manutenção:",-1)),d(" "+i((null==(M=u(K).dashboardSummary)?void 0:M.maintenanceCount)||0),1)]),n("button",{onClick:U,class:"btn btn-primary",disabled:V.value.assets},i(V.value.assets?"Testando...":"Testar Assets API"),9,I)]),n("div",S,[a[12]||(a[12]=n("h3",null,"Dashboard API",-1)),n("p",null,[a[7]||(a[7]=n("strong",null,"Status:",-1)),a[8]||(a[8]=d()),n("span",{class:c(j.value.dashboard.class)},i(j.value.dashboard.message),3)]),n("p",null,[a[9]||(a[9]=n("strong",null,"Atividades Recentes:",-1)),d(" "+i((null==(Q=u(N).recentActivities)?void 0:Q.length)||0),1)]),n("p",null,[a[10]||(a[10]=n("strong",null,"Alertas:",-1)),d(" "+i((null==(W=u(N).alerts)?void 0:W.length)||0),1)]),n("p",null,[a[11]||(a[11]=n("strong",null,"Loading:",-1)),d(" "+i(u(N).loading),1)]),n("button",{onClick:q,class:"btn btn-primary",disabled:V.value.dashboard},i(V.value.dashboard?"Testando...":"Testar Dashboard API"),9,P)]),n("div",D,[a[15]||(a[15]=n("h3",null,"Teste Completo",-1)),n("p",null,[a[13]||(a[13]=n("strong",null,"Status Geral:",-1)),a[14]||(a[14]=d()),n("span",{class:c(B.value.class)},i(B.value.message),3)]),n("button",{onClick:J,class:"btn btn-success",disabled:V.value.full},i(V.value.full?"Executando Teste Completo...":"Executar Teste Completo da API"),9,C)])]),n("div",k,[a[26]||(a[26]=n("h2",null,"Teste dos Stores",-1)),n("div",x,[a[22]||(a[22]=n("h3",null,"Assets Store",-1)),n("p",null,[a[17]||(a[17]=n("strong",null,"Total de Ativos:",-1)),d(" "+i(u(K).totalAssets),1)]),n("p",null,[a[18]||(a[18]=n("strong",null,"Valor Total:",-1)),d(" "+i(z(u(K).totalValue)),1)]),n("p",null,[a[19]||(a[19]=n("strong",null,"Ativos Ativos:",-1)),d(" "+i(u(K).activeAssets),1)]),n("p",null,[a[20]||(a[20]=n("strong",null,"Ativos em Manutenção:",-1)),d(" "+i(u(K).maintenanceAssets),1)]),n("p",null,[a[21]||(a[21]=n("strong",null,"Categorias:",-1)),d(" "+i((null==(X=u(K).categories)?void 0:X.length)||0),1)]),n("button",{onClick:G,class:"btn btn-primary"},"Testar Assets Store")]),n("div",w,[a[25]||(a[25]=n("h3",null,"Dashboard Store",-1)),n("p",null,[a[23]||(a[23]=n("strong",null,"Atividades Recentes:",-1)),d(" "+i((null==(Y=u(N).recentActivities)?void 0:Y.length)||0),1)]),n("p",null,[a[24]||(a[24]=n("strong",null,"Loading:",-1)),d(" "+i(u(N).loading),1)]),n("button",{onClick:H,class:"btn btn-primary"},"Testar Dashboard Store")])]),n("div",E,[a[31]||(a[31]=n("h2",null,"Teste de Navegação",-1)),n("div",$,[v(Z,{to:"/",class:"btn btn-secondary"},{default:m(()=>[...a[27]||(a[27]=[d("Dashboard",-1)])]),_:1}),v(Z,{to:"/assets",class:"btn btn-secondary"},{default:m(()=>[...a[28]||(a[28]=[d("Ativos",-1)])]),_:1}),v(Z,{to:"/movements",class:"btn btn-secondary"},{default:m(()=>[...a[29]||(a[29]=[d("Movimentações",-1)])]),_:1}),v(Z,{to:"/reports",class:"btn btn-secondary"},{default:m(()=>[...a[30]||(a[30]=[d("Relatórios",-1)])]),_:1})])]),a[33]||(a[33]=r('<div class="test-section" data-v-1c443fa0><h2 data-v-1c443fa0>Teste de Componentes</h2><div class="component-tests" data-v-1c443fa0><div class="kpi-card" data-v-1c443fa0><div class="kpi-icon" data-v-1c443fa0><i class="fas fa-check" data-v-1c443fa0></i></div><div class="kpi-content" data-v-1c443fa0><h3 data-v-1c443fa0>123</h3><p data-v-1c443fa0>Teste KPI</p></div></div></div></div>',1)),n("div",_,[a[32]||(a[32]=n("h2",null,"Log de Testes",-1)),n("div",L,[(A(!0),o(h,null,b(O.value,s=>{return A(),o("div",{key:s.id,class:c(["log-item",s.type])},[n("span",R,i((a=s.time,new Date(a).toLocaleTimeString("pt-BR"))),1),n("span",F,i(s.message),1)],2);var a}),128))])])])])}}},[["__scopeId","data-v-1c443fa0"]]);export{K as default};
//# sourceMappingURL=TestFunctionalities-CVelwQGz.js.map
