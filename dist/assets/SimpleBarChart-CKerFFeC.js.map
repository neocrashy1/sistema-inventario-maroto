{"version":3,"file":"SimpleBarChart-CKerFFeC.js","sources":["../../src/components/charts/SimpleBarChart.vue"],"sourcesContent":["<template>\n  <div class=\"simple-bar-chart\">\n    <div class=\"chart-header\">\n      <h3 class=\"chart-title\">{{ title }}</h3>\n      <div v-if=\"datasets.length > 1\" class=\"chart-legend\">\n        <div v-for=\"dataset in datasets\" :key=\"dataset.label\" class=\"legend-item\">\n          <div class=\"legend-color\" :style=\"{ backgroundColor: dataset.color }\"></div>\n          <span class=\"legend-label\">{{ dataset.label }}</span>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"chart-container\" ref=\"chartContainer\">\n      <svg :width=\"chartWidth\" :height=\"chartHeight\" class=\"chart-svg\">\n        <!-- Grid lines -->\n        <g class=\"grid\">\n          <!-- Horizontal grid lines -->\n          <line\n            v-for=\"(line, index) in horizontalGridLines\"\n            :key=\"`h-${index}`\"\n            :x1=\"padding.left\"\n            :y1=\"line.y\"\n            :x2=\"chartWidth - padding.right\"\n            :y2=\"line.y\"\n            class=\"grid-line\"\n          />\n        </g>\n        \n        <!-- Bars -->\n        <g class=\"bars\">\n          <rect\n            v-for=\"bar in bars\"\n            :key=\"bar.key\"\n            :x=\"bar.x\"\n            :y=\"bar.y\"\n            :width=\"bar.width\"\n            :height=\"bar.height\"\n            :fill=\"bar.color\"\n            class=\"bar\"\n            @mouseover=\"showTooltip($event, bar)\"\n            @mouseout=\"hideTooltip\"\n          />\n        </g>\n        \n        <!-- Axes -->\n        <g class=\"axes\">\n          <!-- X-axis -->\n          <line\n            :x1=\"padding.left\"\n            :y1=\"chartHeight - padding.bottom\"\n            :x2=\"chartWidth - padding.right\"\n            :y2=\"chartHeight - padding.bottom\"\n            class=\"axis-line\"\n          />\n          <!-- Y-axis -->\n          <line\n            :x1=\"padding.left\"\n            :y1=\"padding.top\"\n            :x2=\"padding.left\"\n            :y2=\"chartHeight - padding.bottom\"\n            class=\"axis-line\"\n          />\n        </g>\n        \n        <!-- Axis labels -->\n        <g class=\"axis-labels\">\n          <!-- X-axis labels -->\n          <text\n            v-for=\"(label, index) in xAxisLabels\"\n            :key=\"`x-${index}`\"\n            :x=\"label.x\"\n            :y=\"chartHeight - padding.bottom + 20\"\n            class=\"axis-label\"\n            text-anchor=\"middle\"\n          >\n            {{ label.text }}\n          </text>\n          <!-- Y-axis labels -->\n          <text\n            v-for=\"(label, index) in yAxisLabels\"\n            :key=\"`y-${index}`\"\n            :x=\"padding.left - 10\"\n            :y=\"label.y\"\n            class=\"axis-label\"\n            text-anchor=\"end\"\n            dominant-baseline=\"middle\"\n          >\n            {{ label.text }}\n          </text>\n        </g>\n      </svg>\n      \n      <!-- Tooltip -->\n      <div\n        v-if=\"tooltip.visible\"\n        class=\"chart-tooltip\"\n        :style=\"{ left: tooltip.x + 'px', top: tooltip.y + 'px' }\"\n      >\n        <div class=\"tooltip-title\">{{ tooltip.label }}</div>\n        <div class=\"tooltip-value\">{{ tooltip.value }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\n\n// Props\nconst props = defineProps({\n  title: {\n    type: String,\n    default: 'GrÃ¡fico de Barras'\n  },\n  datasets: {\n    type: Array,\n    required: true,\n    validator: (datasets) => {\n      return datasets.every(dataset => \n        dataset.label && \n        dataset.data && \n        Array.isArray(dataset.data) &&\n        dataset.color\n      )\n    }\n  },\n  labels: {\n    type: Array,\n    required: true\n  },\n  width: {\n    type: Number,\n    default: 600\n  },\n  height: {\n    type: Number,\n    default: 300\n  },\n  horizontal: {\n    type: Boolean,\n    default: false\n  }\n})\n\n// Refs\nconst chartContainer = ref(null)\n\n// State\nconst chartWidth = ref(props.width)\nconst chartHeight = ref(props.height)\nconst padding = ref({\n  top: 20,\n  right: 20,\n  bottom: 40,\n  left: 60\n})\n\nconst tooltip = ref({\n  visible: false,\n  x: 0,\n  y: 0,\n  label: '',\n  value: ''\n})\n\n// Computed properties\nconst dataRange = computed(() => {\n  const allValues = props.datasets.flatMap(dataset => dataset.data)\n  return {\n    min: Math.min(0, ...allValues),\n    max: Math.max(...allValues)\n  }\n})\n\nconst categoryWidth = computed(() => {\n  const availableWidth = chartWidth.value - padding.value.left - padding.value.right\n  return availableWidth / props.labels.length\n})\n\nconst barWidth = computed(() => {\n  const totalBars = props.datasets.length\n  const barGroupWidth = categoryWidth.value * 0.8\n  return barGroupWidth / totalBars\n})\n\nconst yScale = computed(() => {\n  const availableHeight = chartHeight.value - padding.value.top - padding.value.bottom\n  const range = dataRange.value.max - dataRange.value.min\n  return availableHeight / range\n})\n\nconst horizontalGridLines = computed(() => {\n  const lines = []\n  const steps = 5\n  const stepValue = (dataRange.value.max - dataRange.value.min) / steps\n  \n  for (let i = 0; i <= steps; i++) {\n    const value = dataRange.value.min + (stepValue * i)\n    const y = chartHeight.value - padding.value.bottom - ((value - dataRange.value.min) * yScale.value)\n    lines.push({ y, value })\n  }\n  \n  return lines\n})\n\nconst xAxisLabels = computed(() => {\n  return props.labels.map((label, index) => ({\n    x: padding.value.left + (index * categoryWidth.value) + (categoryWidth.value / 2),\n    text: label\n  }))\n})\n\nconst yAxisLabels = computed(() => {\n  return horizontalGridLines.value.map(line => ({\n    y: line.y,\n    text: Math.round(line.value).toLocaleString()\n  }))\n})\n\nconst bars = computed(() => {\n  const allBars = []\n  \n  props.datasets.forEach((dataset, datasetIndex) => {\n    dataset.data.forEach((value, categoryIndex) => {\n      const categoryX = padding.value.left + (categoryIndex * categoryWidth.value)\n      const barGroupOffset = (categoryWidth.value - (props.datasets.length * barWidth.value)) / 2\n      const barX = categoryX + barGroupOffset + (datasetIndex * barWidth.value)\n      \n      const barHeight = Math.abs(value - dataRange.value.min) * yScale.value\n      const barY = chartHeight.value - padding.value.bottom - barHeight\n      \n      allBars.push({\n        key: `${datasetIndex}-${categoryIndex}`,\n        x: barX,\n        y: barY,\n        width: barWidth.value,\n        height: barHeight,\n        color: dataset.color,\n        value,\n        label: props.labels[categoryIndex],\n        datasetLabel: dataset.label\n      })\n    })\n  })\n  \n  return allBars\n})\n\n// Methods\nconst showTooltip = (event, bar) => {\n  const rect = chartContainer.value.getBoundingClientRect()\n  tooltip.value = {\n    visible: true,\n    x: event.clientX - rect.left + 10,\n    y: event.clientY - rect.top - 10,\n    label: `${bar.datasetLabel} - ${bar.label}`,\n    value: bar.value.toLocaleString()\n  }\n}\n\nconst hideTooltip = () => {\n  tooltip.value.visible = false\n}\n\nconst handleResize = () => {\n  if (chartContainer.value) {\n    const rect = chartContainer.value.getBoundingClientRect()\n    chartWidth.value = Math.max(300, rect.width)\n  }\n}\n\n// Lifecycle\nonMounted(() => {\n  handleResize()\n  window.addEventListener('resize', handleResize)\n})\n\nonUnmounted(() => {\n  window.removeEventListener('resize', handleResize)\n})\n</script>\n\n<style scoped>\n.simple-bar-chart {\n  background-color: var(--bg-primary);\n  border-radius: var(--radius-lg);\n  padding: var(--spacing-lg);\n  box-shadow: var(--shadow-sm);\n}\n\n.chart-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--spacing-lg);\n}\n\n.chart-title {\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  margin: 0;\n}\n\n.chart-legend {\n  display: flex;\n  gap: var(--spacing-md);\n}\n\n.legend-item {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n}\n\n.legend-color {\n  width: 12px;\n  height: 12px;\n  border-radius: 2px;\n}\n\n.legend-label {\n  font-size: 0.875rem;\n  color: var(--text-secondary);\n}\n\n.chart-container {\n  position: relative;\n  width: 100%;\n  overflow: hidden;\n}\n\n.chart-svg {\n  width: 100%;\n  height: auto;\n}\n\n.grid-line {\n  stroke: var(--border-light);\n  stroke-width: 1;\n}\n\n.axis-line {\n  stroke: var(--border-dark);\n  stroke-width: 2;\n}\n\n.axis-label {\n  font-size: 0.75rem;\n  fill: var(--text-secondary);\n  font-family: inherit;\n}\n\n.bar {\n  cursor: pointer;\n  transition: opacity 0.2s ease;\n}\n\n.bar:hover {\n  opacity: 0.8;\n}\n\n.chart-tooltip {\n  position: absolute;\n  background-color: var(--bg-dark);\n  color: white;\n  padding: var(--spacing-sm);\n  border-radius: var(--radius-md);\n  font-size: 0.75rem;\n  pointer-events: none;\n  z-index: 1000;\n  box-shadow: var(--shadow-lg);\n}\n\n.tooltip-title {\n  font-weight: 600;\n  margin-bottom: var(--spacing-xs);\n}\n\n.tooltip-value {\n  font-size: 0.875rem;\n}\n\n@media (max-width: 768px) {\n  .chart-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: var(--spacing-sm);\n  }\n  \n  .chart-legend {\n    flex-wrap: wrap;\n  }\n}\n</style>"],"names":["props","__props","chartContainer","ref","chartWidth","width","chartHeight","height","padding","top","right","bottom","left","tooltip","visible","x","y","label","value","dataRange","computed","allValues","datasets","flatMap","dataset","data","min","Math","max","categoryWidth","labels","length","barWidth","totalBars","yScale","horizontalGridLines","lines","stepValue","i","push","xAxisLabels","map","index","text","yAxisLabels","line","round","toLocaleString","bars","allBars","forEach","datasetIndex","categoryIndex","barX","barHeight","abs","barY","key","color","datasetLabel","hideTooltip","handleResize","rect","getBoundingClientRect","onMounted","window","addEventListener","onUnmounted","removeEventListener","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","title","_hoisted_4","_Fragment","_renderList","class","style","_normalizeStyle","backgroundColor","_hoisted_5","_hoisted_7","x1","y1","x2","y2","_hoisted_9","bar","fill","onMouseover","$event","event","clientX","clientY","showTooltip","onMouseout","_hoisted_11","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18"],"mappings":"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"}