import{e as a,f as e,x as t,D as s,B as l,m as n,K as o,an as i,a9 as r,F as c,C as d,ao as u,y as v,L as p,u as m,ap as g,r as y,c as b,w as f,o as I,k as w}from"./vue-vendor-BY5hdAT7.js";import{u as C}from"./physicalInventory-DJKBk5BT.js";import{_ as h,u as D,l as k}from"./index-Dur0lEaU.js";import{i as x,d as S}from"./dateUtils-uLrYVFEP.js";import"./utils-vendor-COuxBHZ0.js";const A="active",M="expiring",P="expired",V="none";function E(a,e=30){if(!a||!x(a))return V;const t=new Date;t.setHours(0,0,0,0);const s="string"==typeof a?new Date(a):a;if(s.setHours(0,0,0,0),s<t)return P;return S(s,t)<=e?M:A}function U(a,e=30){const t=E(a,e),s=function(a){if(!a||!x(a))return 0;const e=new Date;e.setHours(0,0,0,0);const t="string"==typeof a?new Date(a):a;return t.setHours(0,0,0,0),S(t,e)}(a);switch(t){case A:return`Garantia ativa por mais ${s} dias`;case M:return`Garantia expira em ${s} dias`;case P:return`Garantia expirada há ${Math.abs(s)} dias`;case V:return"Sem informações de garantia";default:return"Status desconhecido"}}const N={class:"physical-inventory"},L={class:"page-header"},F={class:"header-content"},R={class:"header-actions"},T=["disabled"],G={class:"stats-grid"},_={class:"stat-card"},j={class:"stat-content"},B={class:"stat-number"},W={class:"stat-card"},q={class:"stat-content"},z={class:"stat-number"},O={class:"stat-card"},$={class:"stat-content"},H={class:"stat-number"},Q={class:"stat-card"},J={class:"stat-content"},K={class:"stat-number"},X={class:"stat-card"},Y={class:"stat-content"},Z={class:"stat-number"},aa={class:"stat-card"},ea={class:"stat-content"},ta={class:"stat-number"},sa={class:"stat-card"},la={class:"stat-content"},na={class:"stat-number"},oa={class:"stat-card"},ia={class:"stat-content"},ra={class:"stat-number"},ca={class:"filters-section"},da={class:"filters-grid"},ua={class:"filter-group"},va={class:"filter-group"},pa={class:"filter-group"},ma=["value"],ga={class:"filter-group"},ya={class:"date-range"},ba={class:"filter-actions"},fa={class:"results-info"},Ia={class:"table-container"},wa={class:"data-table"},Ca=["value"],ha={class:"code"},Da={class:"inventory-info"},ka={class:"description"},xa={class:"type"},Sa={class:"location-info"},Aa={class:"name"},Ma={class:"code"},Pa={class:"responsible-info"},Va={class:"name"},Ea={class:"email"},Ua={class:"progress-container"},Na={class:"progress-bar"},La={class:"progress-text"},Fa={class:"action-buttons"},Ra=["onClick"],Ta=["onClick"],Ga=["onClick"],_a={class:"pagination-container"},ja={class:"pagination-info"},Ba={class:"pagination"},Wa=["disabled"],qa={class:"page-info"},za=["disabled"],Oa={class:"modal-header"},$a={class:"modal-body"},Ha={class:"form-grid"},Qa={class:"form-group"},Ja={class:"form-group"},Ka={class:"form-group"},Xa=["value"],Ya={class:"form-group"},Za=["value"],ae={class:"form-group"},ee={class:"form-group"},te={class:"form-group full-width"},se={class:"modal-actions"},le=["disabled"],ne={class:"modal-header"},oe={class:"modal-body"},ie={class:"counting-section"},re={class:"section-header"},ce={class:"counting-stats"},de={class:"stat"},ue={class:"assets-list"},ve={class:"asset-info"},pe={class:"asset-header"},me={class:"asset-code"},ge={class:"asset-name"},ye={class:"asset-details"},be={class:"detail-row"},fe={class:"value"},Ie={class:"detail-row"},we={class:"value"},Ce={class:"detail-row"},he={class:"value"},De={class:"detail-row"},ke={class:"value"},xe={class:"detail-row"},Se={key:0},Ae={class:"detail-row"},Me={class:"value"},Pe={class:"counting-controls"},Ve={class:"form-group"},Ee=["onUpdate:modelValue","onChange"],Ue={key:0,class:"form-group"},Ne=["onUpdate:modelValue"],Le={class:"form-group"},Fe=["onUpdate:modelValue"],Re={class:"counting-status"},Te={key:1,class:"fas fa-clock text-muted"},Ge={class:"modal-actions"},_e=["disabled"],je={key:2,class:"alert alert-success"},Be={key:3,class:"alert alert-error"};const We=h({name:"PhysicalInventory",setup(){const a=C(),e=D(),{inventories:t,locations:s,responsibles:l,loading:n,error:o}=g(a),{totalInventories:i,inventoriesInProgress:r,totalAssetsCount:c,totalDiscrepancies:d}=a,{assetsByWarrantyStatus:u,totalValue:v,totalAssets:p}=e,m=y(""),w=y(""),h=y(""),x=y(""),S=y(""),N=y(1),L=y(10),F=y([]),R=y(!1),T=y(!1),G=y(!1),_=y(null),j=y({description:"",type:"",locationId:"",responsibleId:"",startDate:"",endDate:"",notes:""}),B=y([]),W=y(""),q=y(""),z=b(()=>{let a=t.value||[];if(m.value){const e=m.value.toLowerCase();a=a.filter(a=>{var t,s,l,n;return a.code.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)||(null==(s=null==(t=a.responsible)?void 0:t.name)?void 0:s.toLowerCase().includes(e))||(null==(n=null==(l=a.location)?void 0:l.name)?void 0:n.toLowerCase().includes(e))})}if(w.value){const e={Planejado:"planned","Em Andamento":"in_progress","Concluído":"completed",Cancelado:"cancelled"};a=a.filter(a=>a.status===e[w.value])}return h.value&&(a=a.filter(a=>{var e;return String(null==(e=a.location)?void 0:e.id)===String(h.value)})),(x.value||S.value)&&(a=a.filter(a=>{const e=new Date(a.startDate),t=x.value?new Date(x.value):new Date("1900-01-01"),s=S.value?new Date(S.value):new Date("2100-12-31");return e>=t&&e<=s})),a}),O=b(()=>{var a;return Math.ceil(((null==(a=z.value)?void 0:a.length)||0)/L.value)}),$=b(()=>(N.value-1)*L.value),H=b(()=>{var a;return Math.min($.value+L.value,(null==(a=z.value)?void 0:a.length)||0)}),Q=b(()=>(z.value||[]).slice($.value,H.value)),J=()=>{T.value=!1,K()},K=()=>{j.value={description:"",type:"",locationId:"",responsibleId:"",startDate:"",endDate:"",notes:""}},X=()=>{G.value=!1,_.value=null,B.value=[]};return f([m,w,h,x,S],()=>{N.value=1}),f(o,e=>{e&&(q.value=e,setTimeout(()=>{a.clearError(),q.value=""},5e3))}),I(()=>{var t;a.fetchInventories(),null==(t=e.fetchAssets)||t.call(e)}),{searchQuery:m,statusFilter:w,locationFilter:h,dateRangeStart:x,dateRangeEnd:S,currentPage:N,selectedInventories:F,selectAll:R,showNewInventoryModal:T,showCountingModal:G,selectedInventory:_,newInventory:j,countingAssets:B,successMessage:W,errorMessage:q,loading:n,totalInventories:i,inventoriesInProgress:r,totalAssetsCount:c,totalDiscrepancies:d,locations:s,responsibles:l,assetsByWarrantyStatus:u,totalAssetsValue:v,totalAssets:p,filteredInventories:z,totalPages:O,startIndex:$,endIndex:H,paginatedInventories:Q,formatDate:a=>a?new Date(a).toLocaleDateString("pt-BR"):"-",formatCurrency:a=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a):"R$ 0,00",getStatusClass:a=>({Planejado:"status-planned","Em Andamento":"status-active","Concluído":"status-completed",Cancelado:"status-cancelled"}[a]||""),getWarrantyStatusClass:a=>{if(!a||!a.endDate)return"warranty-none";return`warranty-${E(a.endDate)}`},getWarrantyMessage:a=>a&&a.endDate?U(a.endDate):"Sem garantia",formatWarrantyStatusDisplay:a=>{if(!a||!a.endDate)return"Sem Garantia";return function(a){return{[A]:"Ativa",[M]:"Expirando",[P]:"Expirada",[V]:"Sem Garantia"}[a]||"Desconhecido"}(E(a.endDate))},clearFilters:()=>{m.value="",w.value="",h.value="",x.value="",S.value="",N.value=1},toggleSelectAll:()=>{R.value?F.value=Q.value.map(a=>a.id):F.value=[]},closeNewInventoryModal:J,createInventory:async()=>{try{await a.createInventory(j.value),W.value="Inventário criado com sucesso!",J(),setTimeout(()=>{W.value=""},3e3)}catch(e){q.value=e.message,setTimeout(()=>{q.value=""},5e3)}},viewInventoryDetails:a=>{k.info("Ver detalhes do inventário",{inventoryId:null==a?void 0:a.id,code:null==a?void 0:a.code})},editInventory:a=>{k.info("Editar inventário",{inventoryId:null==a?void 0:a.id,code:null==a?void 0:a.code})},openCountingModal:async e=>{_.value=e,G.value=!0;try{B.value=await a.getInventoryAssets(e.id)}catch(t){q.value="Erro ao carregar ativos para contagem",setTimeout(()=>{q.value=""},5e3)}},closeCountingModal:X,updateAssetCount:a=>{a.counted="not_counted"!==a.countStatus,a.hasDiscrepancy=["not_found","damaged","wrong_location"].includes(a.countStatus)},saveCountingProgress:async()=>{try{await a.updateInventoryCounting(_.value.id,B.value),W.value="Progresso da contagem salvo com sucesso!",X(),setTimeout(()=>{W.value=""},3e3)}catch(e){q.value="Erro ao salvar progresso da contagem",setTimeout(()=>{q.value=""},5e3)}},exportInventories:async()=>{try{await a.exportInventories("csv",{status:w.value,location:h.value,startDate:x.value,endDate:S.value}),W.value="Relatório exportado com sucesso!",setTimeout(()=>{W.value=""},3e3)}catch(e){q.value="Erro ao exportar relatório",setTimeout(()=>{q.value=""},5e3)}},store:a}}},[["render",function(g,y,b,f,I,C){var h;return w(),a("div",N,[e("div",L,[e("div",F,[y[32]||(y[32]=e("div",{class:"header-text"},[e("h1",{class:"page-title"},"Inventário Físico"),e("p",{class:"page-subtitle"},"Gerencie contagens e verificações físicas de ativos")],-1)),e("div",R,[e("button",{class:"btn btn-outline",onClick:y[0]||(y[0]=(...a)=>f.exportInventories&&f.exportInventories(...a)),disabled:f.loading},[...y[30]||(y[30]=[e("i",{class:"fas fa-download"},null,-1),s(" Exportar ",-1)])],8,T),e("button",{class:"btn btn-primary",onClick:y[1]||(y[1]=a=>f.showNewInventoryModal=!0)},[...y[31]||(y[31]=[e("i",{class:"fas fa-plus"},null,-1),s(" Novo Inventário ",-1)])])])])]),e("div",G,[e("div",_,[y[34]||(y[34]=e("div",{class:"stat-icon"},[e("i",{class:"fas fa-clipboard-list"})],-1)),e("div",j,[e("div",B,l(f.totalInventories),1),y[33]||(y[33]=e("div",{class:"stat-label"},"Total de Inventários",-1))])]),e("div",W,[y[36]||(y[36]=e("div",{class:"stat-icon active"},[e("i",{class:"fas fa-play-circle"})],-1)),e("div",q,[e("div",z,l(f.inventoriesInProgress),1),y[35]||(y[35]=e("div",{class:"stat-label"},"Em Andamento",-1))])]),e("div",O,[y[38]||(y[38]=e("div",{class:"stat-icon counted"},[e("i",{class:"fas fa-check-circle"})],-1)),e("div",$,[e("div",H,l(f.totalAssetsCount),1),y[37]||(y[37]=e("div",{class:"stat-label"},"Ativos Contados",-1))])]),e("div",Q,[y[40]||(y[40]=e("div",{class:"stat-icon discrepancy"},[e("i",{class:"fas fa-exclamation-triangle"})],-1)),e("div",J,[e("div",K,l(f.totalDiscrepancies),1),y[39]||(y[39]=e("div",{class:"stat-label"},"Discrepâncias",-1))])]),e("div",X,[y[42]||(y[42]=e("div",{class:"stat-icon assets"},[e("i",{class:"fas fa-boxes"})],-1)),e("div",Y,[e("div",Z,l(f.totalAssets),1),y[41]||(y[41]=e("div",{class:"stat-label"},"Ativos Disponíveis",-1))])]),e("div",aa,[y[44]||(y[44]=e("div",{class:"stat-icon warranty-active"},[e("i",{class:"fas fa-shield-alt"})],-1)),e("div",ea,[e("div",ta,l(f.assetsByWarrantyStatus.Ativa||0),1),y[43]||(y[43]=e("div",{class:"stat-label"},"Garantias Ativas",-1))])]),e("div",sa,[y[46]||(y[46]=e("div",{class:"stat-icon warranty-expiring"},[e("i",{class:"fas fa-clock"})],-1)),e("div",la,[e("div",na,l(f.assetsByWarrantyStatus["Próxima ao Vencimento"]||0),1),y[45]||(y[45]=e("div",{class:"stat-label"},"Garantias Expirando",-1))])]),e("div",oa,[y[48]||(y[48]=e("div",{class:"stat-icon value"},[e("i",{class:"fas fa-dollar-sign"})],-1)),e("div",ia,[e("div",ra,l(f.formatCurrency(f.totalAssetsValue)),1),y[47]||(y[47]=e("div",{class:"stat-label"},"Valor Total",-1))])])]),e("div",ca,[e("div",da,[e("div",ua,[y[49]||(y[49]=e("label",null,"Buscar",-1)),n(e("input",{type:"text","onUpdate:modelValue":y[2]||(y[2]=a=>f.searchQuery=a),placeholder:"Código, descrição, responsável...",class:"form-input"},null,512),[[o,f.searchQuery]])]),e("div",va,[y[51]||(y[51]=e("label",null,"Status",-1)),n(e("select",{"onUpdate:modelValue":y[3]||(y[3]=a=>f.statusFilter=a),class:"form-select"},[...y[50]||(y[50]=[r('<option value="" data-v-dcee9a73>Todos os Status</option><option value="Planejado" data-v-dcee9a73>Planejado</option><option value="Em Andamento" data-v-dcee9a73>Em Andamento</option><option value="Concluído" data-v-dcee9a73>Concluído</option><option value="Cancelado" data-v-dcee9a73>Cancelado</option>',5)])],512),[[i,f.statusFilter]])]),e("div",pa,[y[53]||(y[53]=e("label",null,"Localização",-1)),n(e("select",{"onUpdate:modelValue":y[4]||(y[4]=a=>f.locationFilter=a),class:"form-select"},[y[52]||(y[52]=e("option",{value:""},"Todas as Localizações",-1)),(w(!0),a(c,null,d(f.locations,e=>(w(),a("option",{key:e.id,value:e.id},l(e.name),9,ma))),128))],512),[[i,f.locationFilter]])]),e("div",ga,[y[55]||(y[55]=e("label",null,"Período",-1)),e("div",ya,[n(e("input",{type:"date","onUpdate:modelValue":y[5]||(y[5]=a=>f.dateRangeStart=a),class:"form-input"},null,512),[[o,f.dateRangeStart]]),y[54]||(y[54]=e("span",null,"até",-1)),n(e("input",{type:"date","onUpdate:modelValue":y[6]||(y[6]=a=>f.dateRangeEnd=a),class:"form-input"},null,512),[[o,f.dateRangeEnd]])])]),e("div",ba,[e("button",{class:"btn btn-outline btn-sm",onClick:y[7]||(y[7]=(...a)=>f.clearFilters&&f.clearFilters(...a))}," Limpar Filtros ")])])]),e("div",fa,[e("span",null,l(f.filteredInventories.length)+" inventário(s) encontrado(s)",1)]),e("div",Ia,[e("table",wa,[e("thead",null,[e("tr",null,[e("th",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":y[8]||(y[8]=a=>f.selectAll=a),onChange:y[9]||(y[9]=(...a)=>f.toggleSelectAll&&f.toggleSelectAll(...a))},null,544),[[u,f.selectAll]])]),y[56]||(y[56]=e("th",null,"Código",-1)),y[57]||(y[57]=e("th",null,"Descrição",-1)),y[58]||(y[58]=e("th",null,"Localização",-1)),y[59]||(y[59]=e("th",null,"Responsável",-1)),y[60]||(y[60]=e("th",null,"Data Início",-1)),y[61]||(y[61]=e("th",null,"Data Fim",-1)),y[62]||(y[62]=e("th",null,"Status",-1)),y[63]||(y[63]=e("th",null,"Progresso",-1)),y[64]||(y[64]=e("th",null,"Discrepâncias",-1)),y[65]||(y[65]=e("th",null,"Ações",-1))])]),e("tbody",null,[(w(!0),a(c,null,d(f.paginatedInventories,s=>(w(),a("tr",{key:s.id},[e("td",null,[n(e("input",{type:"checkbox","onUpdate:modelValue":y[10]||(y[10]=a=>f.selectedInventories=a),value:s.id},null,8,Ca),[[u,f.selectedInventories]])]),e("td",null,[e("span",ha,l(s.code),1)]),e("td",null,[e("div",Da,[e("div",ka,l(s.description),1),e("div",xa,l(s.type),1)])]),e("td",null,[e("div",Sa,[e("div",Aa,l(s.location.name),1),e("div",Ma,l(s.location.code),1)])]),e("td",null,[e("div",Pa,[e("div",Va,l(s.responsible.name),1),e("div",Ea,l(s.responsible.email),1)])]),e("td",null,l(f.formatDate(s.startDate)),1),e("td",null,l(f.formatDate(s.endDate)),1),e("td",null,[e("span",{class:v(["status-badge",f.getStatusClass(s.status)])},l(s.status),3)]),e("td",null,[e("div",Ua,[e("div",Na,[e("div",{class:"progress-fill",style:p({width:s.progress+"%"})},null,4)]),e("span",La,l(s.progress)+"%",1)])]),e("td",null,[e("span",{class:v(["discrepancy-badge",s.discrepancies>0?"has-discrepancy":"no-discrepancy"])},l(s.discrepancies),3)]),e("td",null,[e("div",Fa,[e("button",{class:"btn btn-sm btn-primary",onClick:a=>f.viewInventoryDetails(s),title:"Ver Detalhes"},[...y[66]||(y[66]=[e("i",{class:"fas fa-eye"},null,-1)])],8,Ra),"Em Andamento"===s.status?(w(),a("button",{key:0,class:"btn btn-sm btn-success",onClick:a=>f.openCountingModal(s),title:"Registrar Contagem"},[...y[67]||(y[67]=[e("i",{class:"fas fa-calculator"},null,-1)])],8,Ta)):t("",!0),"Concluído"!==s.status?(w(),a("button",{key:1,class:"btn btn-sm btn-outline",onClick:a=>f.editInventory(s),title:"Editar"},[...y[68]||(y[68]=[e("i",{class:"fas fa-edit"},null,-1)])],8,Ga)):t("",!0)])])]))),128))])])]),e("div",_a,[e("div",ja," Mostrando "+l(f.startIndex+1)+" a "+l(f.endIndex)+" de "+l(f.filteredInventories.length)+" registros ",1),e("div",Ba,[e("button",{class:"btn btn-sm btn-outline",onClick:y[11]||(y[11]=a=>f.currentPage--),disabled:1===f.currentPage}," Anterior ",8,Wa),e("span",qa,l(f.currentPage)+" de "+l(f.totalPages),1),e("button",{class:"btn btn-sm btn-outline",onClick:y[12]||(y[12]=a=>f.currentPage++),disabled:f.currentPage===f.totalPages}," Próxima ",8,za)])]),f.showNewInventoryModal?(w(),a("div",{key:0,class:"modal-overlay",onClick:y[24]||(y[24]=(...a)=>f.closeNewInventoryModal&&f.closeNewInventoryModal(...a))},[e("div",{class:"modal",onClick:y[23]||(y[23]=m(()=>{},["stop"]))},[e("div",Oa,[y[70]||(y[70]=e("h3",null,"Novo Inventário Físico",-1)),e("button",{class:"modal-close",onClick:y[13]||(y[13]=(...a)=>f.closeNewInventoryModal&&f.closeNewInventoryModal(...a))},[...y[69]||(y[69]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",$a,[e("form",{onSubmit:y[22]||(y[22]=m((...a)=>f.createInventory&&f.createInventory(...a),["prevent"]))},[e("div",Ha,[e("div",Qa,[y[71]||(y[71]=e("label",null,"Descrição *",-1)),n(e("input",{type:"text","onUpdate:modelValue":y[14]||(y[14]=a=>f.newInventory.description=a),class:"form-input",required:"",placeholder:"Descrição do inventário"},null,512),[[o,f.newInventory.description]])]),e("div",Ja,[y[73]||(y[73]=e("label",null,"Tipo *",-1)),n(e("select",{"onUpdate:modelValue":y[15]||(y[15]=a=>f.newInventory.type=a),class:"form-select",required:""},[...y[72]||(y[72]=[r('<option value="" data-v-dcee9a73>Selecione o tipo</option><option value="Geral" data-v-dcee9a73>Inventário Geral</option><option value="Parcial" data-v-dcee9a73>Inventário Parcial</option><option value="Cíclico" data-v-dcee9a73>Inventário Cíclico</option><option value="Emergencial" data-v-dcee9a73>Inventário Emergencial</option>',5)])],512),[[i,f.newInventory.type]])]),e("div",Ka,[y[75]||(y[75]=e("label",null,"Localização *",-1)),n(e("select",{"onUpdate:modelValue":y[16]||(y[16]=a=>f.newInventory.locationId=a),class:"form-select",required:""},[y[74]||(y[74]=e("option",{value:""},"Selecione a localização",-1)),(w(!0),a(c,null,d(f.locations,e=>(w(),a("option",{key:e.id,value:e.id},l(e.name),9,Xa))),128))],512),[[i,f.newInventory.locationId]])]),e("div",Ya,[y[77]||(y[77]=e("label",null,"Responsável *",-1)),n(e("select",{"onUpdate:modelValue":y[17]||(y[17]=a=>f.newInventory.responsibleId=a),class:"form-select",required:""},[y[76]||(y[76]=e("option",{value:""},"Selecione o responsável",-1)),(w(!0),a(c,null,d(f.responsibles,e=>(w(),a("option",{key:e.id,value:e.id},l(e.name),9,Za))),128))],512),[[i,f.newInventory.responsibleId]])]),e("div",ae,[y[78]||(y[78]=e("label",null,"Data de Início *",-1)),n(e("input",{type:"date","onUpdate:modelValue":y[18]||(y[18]=a=>f.newInventory.startDate=a),class:"form-input",required:""},null,512),[[o,f.newInventory.startDate]])]),e("div",ee,[y[79]||(y[79]=e("label",null,"Data de Fim *",-1)),n(e("input",{type:"date","onUpdate:modelValue":y[19]||(y[19]=a=>f.newInventory.endDate=a),class:"form-input",required:""},null,512),[[o,f.newInventory.endDate]])]),e("div",te,[y[80]||(y[80]=e("label",null,"Observações",-1)),n(e("textarea",{"onUpdate:modelValue":y[20]||(y[20]=a=>f.newInventory.notes=a),class:"form-textarea",rows:"3",placeholder:"Observações sobre o inventário..."},null,512),[[o,f.newInventory.notes]])])]),e("div",se,[e("button",{type:"button",class:"btn btn-outline",onClick:y[21]||(y[21]=(...a)=>f.closeNewInventoryModal&&f.closeNewInventoryModal(...a))}," Cancelar "),e("button",{type:"submit",class:"btn btn-primary",disabled:f.loading},l(f.loading?"Criando...":"Criar Inventário"),9,le)])],32)])])])):t("",!0),f.showCountingModal?(w(),a("div",{key:1,class:"modal-overlay",onClick:y[29]||(y[29]=(...a)=>f.closeCountingModal&&f.closeCountingModal(...a))},[e("div",{class:"modal large",onClick:y[28]||(y[28]=m(()=>{},["stop"]))},[e("div",ne,[e("h3",null,"Registrar Contagem - "+l(null==(h=f.selectedInventory)?void 0:h.code),1),e("button",{class:"modal-close",onClick:y[25]||(y[25]=(...a)=>f.closeCountingModal&&f.closeCountingModal(...a))},[...y[81]||(y[81]=[e("i",{class:"fas fa-times"},null,-1)])])]),e("div",oe,[e("div",ie,[e("div",re,[y[82]||(y[82]=e("h4",null,"Ativos para Contagem",-1)),e("div",ce,[e("span",de,[e("strong",null,l(f.countingAssets.filter(a=>a.counted).length),1),s(" / "+l(f.countingAssets.length)+" contados ",1)])])]),e("div",ue,[(w(!0),a(c,null,d(f.countingAssets,c=>{var d,u;return w(),a("div",{key:c.id,class:v(["asset-item",{counted:c.counted,discrepancy:c.hasDiscrepancy}])},[e("div",ve,[e("div",pe,[e("div",me,l(c.tag),1),e("div",ge,l(c.name),1)]),e("div",ye,[e("div",be,[y[83]||(y[83]=e("span",{class:"label"},"Marca/Modelo:",-1)),e("span",fe,l(c.brand)+" "+l(c.model),1)]),e("div",Ie,[y[84]||(y[84]=e("span",{class:"label"},"Série:",-1)),e("span",we,l(c.serialNumber),1)]),e("div",Ce,[y[85]||(y[85]=e("span",{class:"label"},"Localização:",-1)),e("span",he,l(c.location),1)]),e("div",De,[y[86]||(y[86]=e("span",{class:"label"},"Departamento:",-1)),e("span",ke,l(c.department),1)]),e("div",xe,[y[87]||(y[87]=e("span",{class:"label"},"Garantia:",-1)),e("span",{class:v(["warranty-status",f.getWarrantyStatusClass(c.warranty)])},[s(l((null==(d=c.warranty)?void 0:d.status)||"N/A")+" ",1),(null==(u=c.warranty)?void 0:u.endDate)?(w(),a("small",Se," - "+l(f.formatDate(c.warranty.endDate)),1)):t("",!0)],2)]),e("div",Ae,[y[88]||(y[88]=e("span",{class:"label"},"Valor:",-1)),e("span",Me,l(f.formatCurrency(c.value)),1)])])]),e("div",Pe,[e("div",Ve,[y[90]||(y[90]=e("label",null,"Status",-1)),n(e("select",{"onUpdate:modelValue":a=>c.countStatus=a,class:"form-select",onChange:a=>f.updateAssetCount(c)},[...y[89]||(y[89]=[r('<option value="not_counted" data-v-dcee9a73>Não Contado</option><option value="found" data-v-dcee9a73>Encontrado</option><option value="not_found" data-v-dcee9a73>Não Encontrado</option><option value="damaged" data-v-dcee9a73>Danificado</option><option value="wrong_location" data-v-dcee9a73>Local Incorreto</option>',5)])],40,Ee),[[i,c.countStatus]])]),"wrong_location"===c.countStatus?(w(),a("div",Ue,[y[91]||(y[91]=e("label",null,"Local Atual",-1)),n(e("input",{type:"text","onUpdate:modelValue":a=>c.actualLocation=a,class:"form-input",placeholder:"Onde foi encontrado"},null,8,Ne),[[o,c.actualLocation]])])):t("",!0),e("div",Le,[y[92]||(y[92]=e("label",null,"Observações",-1)),n(e("input",{type:"text","onUpdate:modelValue":a=>c.countNotes=a,class:"form-input",placeholder:"Observações da contagem"},null,8,Fe),[[o,c.countNotes]])])]),e("div",Re,[c.counted?(w(),a("i",{key:0,class:v(["fas fa-check-circle",c.hasDiscrepancy?"text-warning":"text-success"])},null,2)):(w(),a("i",Te))])],2)}),128))])]),e("div",Ge,[e("button",{type:"button",class:"btn btn-outline",onClick:y[26]||(y[26]=(...a)=>f.closeCountingModal&&f.closeCountingModal(...a))}," Fechar "),e("button",{type:"button",class:"btn btn-success",onClick:y[27]||(y[27]=(...a)=>f.saveCountingProgress&&f.saveCountingProgress(...a)),disabled:f.loading},l(f.loading?"Salvando...":"Salvar Progresso"),9,_e)])])])])):t("",!0),f.successMessage?(w(),a("div",je,l(f.successMessage),1)):t("",!0),f.errorMessage?(w(),a("div",Be,l(f.errorMessage),1)):t("",!0)])}],["__scopeId","data-v-dcee9a73"]]);export{We as default};
//# sourceMappingURL=PhysicalInventory-dmVb69Hr.js.map
