import{_ as a}from"./index-Dur0lEaU.js";import{j as e,I as s,k as t,l,g as i,f as c,D as n,B as o,e as d,x as r,F as v,C as m,L as u}from"./vue-vendor-BY5hdAT7.js";import"./utils-vendor-COuxBHZ0.js";const f={class:"metrics-content"},p={class:"traffic-summary"},_={class:"traffic-item download"},b={class:"traffic-icon"},w={class:"traffic-info"},h={class:"traffic-value"},y={class:"traffic-total"},k={class:"traffic-item upload"},g={class:"traffic-icon"},D={class:"traffic-info"},x={class:"traffic-value"},z={class:"traffic-total"},M={class:"activity-chart"},B={class:"activity-bars"},A={class:"bars-container"},C={class:"bar-pair"},$={class:"network-interfaces"},j={class:"interfaces-header"},E={class:"interfaces-list"},I={class:"interface-header"},R={class:"interface-info"},F={class:"interface-name"},T={key:0,class:"interface-speed"},G={class:"text-caption"},L={key:0,class:"interface-details"},N={key:0,class:"interface-addresses"},W={class:"address-value"},U={key:1,class:"interface-stats"},K={class:"stat-item"},O={class:"stat-value"},P={class:"stat-item"},S={class:"stat-value"},q={key:0,class:"connection-stats"},H={class:"connections-header"},J={class:"connection-item"},Q={class:"connection-value"},V={class:"connection-item"},X={class:"connection-value"},Y={class:"connection-item"},Z={class:"connection-value"},aa={class:"connection-item"},ea={class:"connection-value"},sa={class:"timestamp mt-3"},ta={class:"text-caption"},la=a({__name:"NetworkMetricsCard",props:{networkData:{type:Object,default:()=>({download_mbps:0,upload_mbps:0,total_received_gb:0,total_sent_gb:0,interfaces:[],connections:null,timestamp:null})},activityData:{type:Array,default:()=>Array(20).fill().map(()=>({download:0,upload:0}))},loading:{type:Boolean,default:!1}},emits:["refresh","test-connection","view-details"],setup(a,{emit:la}){const ia=a,ca=()=>{var a;const e=(null==(a=ia.networkData.interfaces)?void 0:a.filter(a=>a.is_up))||[];return 0===e.length?"Desconectado":e.some(a=>"ethernet"===a.type)?"Ethernet":e.some(a=>"wireless"===a.type)?"Wi-Fi":"Conectado"},na=()=>{const a=ca();return"Desconectado"===a?"error":"Ethernet"===a?"success":"Wi-Fi"===a?"info":"success"},oa=a=>{if(!a)return"mdi-ethernet";const e=a.toLowerCase();return e.includes("wireless")||e.includes("wifi")?"mdi-wifi":e.includes("ethernet")||e.includes("wired")?"mdi-ethernet":e.includes("loopback")?"mdi-repeat":e.includes("vpn")?"mdi-vpn":e.includes("bluetooth")?"mdi-bluetooth":"mdi-ethernet"},da=a=>{const e=Math.max(...ia.activityData.map(a=>Math.max(a.download,a.upload)));return 0===e?0:Math.min(a/e*100,100)},ra=a=>{if(!a||0===a)return"0 B";const e=Math.floor(Math.log(a)/Math.log(1024));return`${(a/Math.pow(1024,e)).toFixed(1)} ${["B","KB","MB","GB","TB"][e]}`},va=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(e){return"N/A"}};return(la,ia)=>{const ma=e("v-icon"),ua=e("v-spacer"),fa=e("v-chip"),pa=e("v-card-title"),_a=e("v-col"),ba=e("v-row"),wa=e("v-divider"),ha=e("v-card-text"),ya=e("v-btn"),ka=e("v-card-actions"),ga=e("v-card");return t(),s(ga,{class:"network-metrics-card",elevation:"2"},{default:l(()=>[i(pa,{class:"d-flex align-center"},{default:l(()=>[i(ma,{icon:"mdi-network",color:"secondary",class:"mr-2"}),ia[3]||(ia[3]=c("span",null,"Rede",-1)),i(ua),i(fa,{color:na(),size:"small",variant:"flat"},{default:l(()=>[n(o(ca()),1)]),_:1},8,["color"])]),_:1}),i(ha,null,{default:l(()=>[c("div",f,[c("div",p,[i(ba,{dense:""},{default:l(()=>[i(_a,{cols:"6"},{default:l(()=>[c("div",_,[c("div",b,[i(ma,{icon:"mdi-download",color:"success"})]),c("div",w,[c("div",h,o(a.networkData.download_mbps)+" Mbps",1),ia[4]||(ia[4]=c("div",{class:"traffic-label"},"Download",-1)),c("div",y,o(a.networkData.total_received_gb)+" GB total",1)])])]),_:1}),i(_a,{cols:"6"},{default:l(()=>[c("div",k,[c("div",g,[i(ma,{icon:"mdi-upload",color:"info"})]),c("div",D,[c("div",x,o(a.networkData.upload_mbps)+" Mbps",1),ia[5]||(ia[5]=c("div",{class:"traffic-label"},"Upload",-1)),c("div",z,o(a.networkData.total_sent_gb)+" GB total",1)])])]),_:1})]),_:1})]),c("div",M,[ia[7]||(ia[7]=c("div",{class:"chart-header"},[c("span",{class:"chart-title"},"Atividade de Rede"),c("span",{class:"chart-subtitle"},"Últimos minutos")],-1)),c("div",B,[ia[6]||(ia[6]=c("div",{class:"activity-legend"},[c("div",{class:"legend-item"},[c("div",{class:"legend-color download-color"}),c("span",{class:"legend-label"},"Download")]),c("div",{class:"legend-item"},[c("div",{class:"legend-color upload-color"}),c("span",{class:"legend-label"},"Upload")])],-1)),c("div",A,[(t(!0),d(v,null,m(a.activityData,(a,e)=>(t(),d("div",{key:e,class:"bar-group"},[c("div",C,[c("div",{class:"activity-bar download-bar",style:u({height:`${da(a.download)}%`})},null,4),c("div",{class:"activity-bar upload-bar",style:u({height:`${da(a.upload)}%`})},null,4)])]))),128))])])]),i(wa,{class:"my-3"}),c("div",$,[c("div",j,[i(ma,{icon:"mdi-ethernet",size:"small",class:"mr-1"}),ia[8]||(ia[8]=c("span",{class:"interfaces-title"},"Interfaces de Rede",-1))]),c("div",E,[(t(!0),d(v,null,m(a.networkData.interfaces,(e,u)=>(t(),d("div",{key:e.name||u,class:"interface-item"},[c("div",I,[c("div",R,[i(ma,{icon:oa(e.type),size:"small",class:"mr-2"},null,8,["icon"]),c("span",F,o(e.name),1),i(fa,{color:e.is_up?"success":"error",size:"x-small",variant:"flat",class:"ml-2"},{default:l(()=>[n(o(e.is_up?"Ativo":"Inativo"),1)]),_:2},1032,["color"])]),e.speed_mbps?(t(),d("div",T,[c("span",G,o(e.speed_mbps)+" Mbps",1)])):r("",!0)]),e.is_up?(t(),d("div",L,[e.addresses&&e.addresses.length>0?(t(),d("div",N,[(t(!0),d(v,null,m(e.addresses,(a,e)=>(t(),d("div",{key:e,class:"address-item"},[i(ma,{icon:"IPv4"===a.family?"mdi-ip":"mdi-ipv6",size:"x-small",class:"mr-1"},null,8,["icon"]),c("span",W,o(a.address),1),i(fa,{size:"x-small",variant:"outlined",class:"ml-1"},{default:l(()=>[n(o(a.family),1)]),_:2},1024)]))),128))])):r("",!0),e.bytes_sent||e.bytes_recv?(t(),d("div",U,[i(ba,{dense:""},{default:l(()=>[i(_a,{cols:"6"},{default:l(()=>[c("div",K,[ia[9]||(ia[9]=c("span",{class:"stat-label"},"Enviado:",-1)),c("span",O,o(ra(e.bytes_sent)),1)])]),_:2},1024),i(_a,{cols:"6"},{default:l(()=>[c("div",P,[ia[10]||(ia[10]=c("span",{class:"stat-label"},"Recebido:",-1)),c("span",S,o(ra(e.bytes_recv)),1)])]),_:2},1024)]),_:2},1024)])):r("",!0)])):r("",!0),u<a.networkData.interfaces.length-1?(t(),s(wa,{key:1,class:"my-2"})):r("",!0)]))),128))])]),a.networkData.connections?(t(),d("div",q,[i(wa,{class:"my-3"}),c("div",H,[i(ma,{icon:"mdi-connection",size:"small",class:"mr-1"}),ia[11]||(ia[11]=c("span",{class:"connections-title"},"Conexões Ativas",-1))]),i(ba,{dense:"",class:"mt-2"},{default:l(()=>[i(_a,{cols:"3"},{default:l(()=>[c("div",J,[c("div",Q,o(a.networkData.connections.established||0),1),ia[12]||(ia[12]=c("div",{class:"connection-label"},"Estabelecidas",-1))])]),_:1}),i(_a,{cols:"3"},{default:l(()=>[c("div",V,[c("div",X,o(a.networkData.connections.listening||0),1),ia[13]||(ia[13]=c("div",{class:"connection-label"},"Escutando",-1))])]),_:1}),i(_a,{cols:"3"},{default:l(()=>[c("div",Y,[c("div",Z,o(a.networkData.connections.time_wait||0),1),ia[14]||(ia[14]=c("div",{class:"connection-label"},"Time Wait",-1))])]),_:1}),i(_a,{cols:"3"},{default:l(()=>[c("div",aa,[c("div",ea,o(a.networkData.connections.total||0),1),ia[15]||(ia[15]=c("div",{class:"connection-label"},"Total",-1))])]),_:1})]),_:1})])):r("",!0),c("div",sa,[i(ma,{icon:"mdi-clock-outline",size:"small",class:"mr-1"}),c("span",ta," Atualizado: "+o(va(a.networkData.timestamp)),1)])])]),_:1}),i(ka,null,{default:l(()=>[i(ya,{variant:"text",size:"small",onClick:ia[0]||(ia[0]=a=>la.$emit("refresh")),loading:a.loading},{default:l(()=>[i(ma,{icon:"mdi-refresh",class:"mr-1"}),ia[16]||(ia[16]=n(" Atualizar ",-1))]),_:1},8,["loading"]),i(ua),i(ya,{variant:"text",size:"small",onClick:ia[1]||(ia[1]=a=>la.$emit("test-connection"))},{default:l(()=>[i(ma,{icon:"mdi-network-outline",class:"mr-1"}),ia[17]||(ia[17]=n(" Testar ",-1))]),_:1}),i(ya,{variant:"text",size:"small",onClick:ia[2]||(ia[2]=a=>la.$emit("view-details"))},{default:l(()=>[i(ma,{icon:"mdi-chart-line",class:"mr-1"}),ia[18]||(ia[18]=n(" Detalhes ",-1))]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-5d87f4a5"]]);export{la as default};
//# sourceMappingURL=NetworkMetricsCard-DOAuq6QP.js.map
