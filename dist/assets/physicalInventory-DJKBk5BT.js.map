{"version":3,"file":"physicalInventory-DJKBk5BT.js","sources":["../../src/stores/physicalInventory.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { auditorsAPI, handleAPIError } from '@/services/api'\r\n\r\nexport const usePhysicalInventoryStore = defineStore('physicalInventory', {\r\n  state: () => ({\r\n    inventories: [\r\n      {\r\n        id: 1,\r\n        code: 'INV-2024-001',\r\n        description: 'Inventário Anual - Sede Principal',\r\n        location: { id: 1, name: 'Sede Principal', code: 'SEDE' },\r\n        responsible: { id: 1, name: 'João Silva', email: 'joao.silva@empresa.com' },\r\n        startDate: '2024-01-15',\r\n        endDate: '2024-01-30',\r\n        status: 'completed',\r\n        totalAssets: 150,\r\n        countedAssets: 150,\r\n        discrepancies: 3,\r\n        progress: 100,\r\n        createdAt: '2024-01-10T08:00:00Z',\r\n        updatedAt: '2024-01-30T17:30:00Z',\r\n        notes: 'Inventário concluído com sucesso. Pequenas discrepâncias identificadas e corrigidas.',\r\n        assets: [\r\n          {\r\n            id: 1,\r\n            assetCode: 'NB-001',\r\n            assetName: 'Notebook Dell Latitude',\r\n            expectedLocation: 'Sala 101',\r\n            actualLocation: 'Sala 101',\r\n            status: 'found',\r\n            condition: 'good',\r\n            notes: 'Ativo encontrado em bom estado'\r\n          },\r\n          {\r\n            id: 2,\r\n            assetCode: 'MON-015',\r\n            assetName: 'Monitor Samsung 24\"',\r\n            expectedLocation: 'Sala 102',\r\n            actualLocation: 'Sala 103',\r\n            status: 'moved',\r\n            condition: 'good',\r\n            notes: 'Ativo encontrado em localização diferente'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 2,\r\n        code: 'INV-2024-002',\r\n        description: 'Inventário Trimestral - Filial Norte',\r\n        location: { id: 2, name: 'Filial Norte', code: 'FIL-N' },\r\n        responsible: { id: 2, name: 'Maria Santos', email: 'maria.santos@empresa.com' },\r\n        startDate: '2024-02-01',\r\n        endDate: '2024-02-15',\r\n        status: 'in_progress',\r\n        totalAssets: 85,\r\n        countedAssets: 62,\r\n        discrepancies: 1,\r\n        progress: 73,\r\n        createdAt: '2024-01-25T09:00:00Z',\r\n        updatedAt: '2024-02-10T14:20:00Z',\r\n        notes: 'Inventário em andamento. Progresso dentro do cronograma.',\r\n        assets: [\r\n          {\r\n            id: 3,\r\n            assetCode: 'CPU-025',\r\n            assetName: 'Desktop HP ProDesk',\r\n            expectedLocation: 'Sala 201',\r\n            actualLocation: 'Sala 201',\r\n            status: 'found',\r\n            condition: 'good',\r\n            notes: 'Ativo encontrado conforme esperado'\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 3,\r\n        code: 'INV-2024-003',\r\n        description: 'Inventário Especial - Equipamentos TI',\r\n        location: { id: 4, name: 'Data Center', code: 'DC' },\r\n        responsible: { id: 3, name: 'Carlos Oliveira', email: 'carlos.oliveira@empresa.com' },\r\n        startDate: '2024-03-01',\r\n        endDate: '2024-03-10',\r\n        status: 'planned',\r\n        totalAssets: 45,\r\n        countedAssets: 0,\r\n        discrepancies: 0,\r\n        progress: 0,\r\n        createdAt: '2024-02-20T10:00:00Z',\r\n        updatedAt: '2024-02-20T10:00:00Z',\r\n        notes: 'Inventário planejado para equipamentos críticos do data center.',\r\n        assets: []\r\n      }\r\n    ],\r\n    locations: [\r\n      { id: 1, name: 'Sede Principal', code: 'SEDE' },\r\n      { id: 2, name: 'Filial Norte', code: 'FIL-N' },\r\n      { id: 3, name: 'Filial Sul', code: 'FIL-S' },\r\n      { id: 4, name: 'Data Center', code: 'DC' },\r\n      { id: 5, name: 'Almoxarifado', code: 'ALM' }\r\n    ],\r\n    responsibles: [\r\n      { id: 1, name: 'João Silva', department: 'TI' },\r\n      { id: 2, name: 'Maria Santos', department: 'Administração' },\r\n      { id: 3, name: 'Carlos Oliveira', department: 'TI' },\r\n      { id: 4, name: 'Ana Costa', department: 'Patrimônio' }\r\n    ],\r\n    availableAssets: [\r\n      {\r\n        id: 1,\r\n        tag: 'LVT-001',\r\n        name: 'Notebook Dell Latitude 5520',\r\n        brand: 'Dell',\r\n        model: 'Latitude 5520',\r\n        serialNumber: 'DL5520-2023-001',\r\n        category: 'Informática',\r\n        subcategory: 'Notebooks',\r\n        status: 'Ativo',\r\n        location: 'TI - Sala 101',\r\n        department: 'Tecnologia da Informação',\r\n        value: 3500.00,\r\n        acquisitionDate: '2023-01-15',\r\n        entryDate: '2023-01-20',\r\n        warranty: {\r\n          startDate: '2023-01-15',\r\n          endDate: '2025-01-15',\r\n          provider: 'Dell Brasil',\r\n          type: 'Garantia do Fabricante',\r\n          status: 'Ativa'\r\n        },\r\n        responsible: 'João Silva',\r\n        condition: 'Novo',\r\n        lastInventoryDate: '2023-12-01',\r\n        inventoryStatus: 'Contado',\r\n        specifications: {\r\n          processor: 'Intel Core i7-1165G7',\r\n          memory: '16GB DDR4',\r\n          storage: '512GB SSD',\r\n          screen: '15.6\" Full HD'\r\n        }\r\n      },\r\n      {\r\n        id: 2,\r\n        tag: 'LVT-002',\r\n        name: 'Monitor LG 24\"',\r\n        brand: 'LG',\r\n        model: '24MK430H-B',\r\n        serialNumber: 'LG24-2023-002',\r\n        category: 'Informática',\r\n        subcategory: 'Monitores',\r\n        status: 'Ativo',\r\n        location: 'TI - Sala 101',\r\n        department: 'Tecnologia da Informação',\r\n        value: 800.00,\r\n        acquisitionDate: '2023-02-10',\r\n        entryDate: '2023-02-12',\r\n        warranty: {\r\n          startDate: '2023-02-10',\r\n          endDate: '2026-02-10',\r\n          provider: 'LG Electronics',\r\n          type: 'Garantia Estendida',\r\n          status: 'Ativa'\r\n        },\r\n        responsible: 'Maria Santos',\r\n        condition: 'Novo',\r\n        lastInventoryDate: '2023-12-01',\r\n        inventoryStatus: 'Contado',\r\n        specifications: {\r\n          size: '24 polegadas',\r\n          resolution: '1920x1080',\r\n          panel: 'IPS',\r\n          connectivity: 'HDMI, VGA'\r\n        }\r\n      },\r\n      {\r\n        id: 3,\r\n        tag: 'LVT-003',\r\n        name: 'Impressora HP LaserJet Pro M404dn',\r\n        brand: 'HP',\r\n        model: 'LaserJet Pro M404dn',\r\n        serialNumber: 'HP404-2022-003',\r\n        category: 'Equipamentos',\r\n        subcategory: 'Impressoras',\r\n        status: 'Manutenção',\r\n        location: 'Administrativo',\r\n        department: 'Administrativo',\r\n        value: 1200.00,\r\n        acquisitionDate: '2022-08-20',\r\n        entryDate: '2022-08-25',\r\n        warranty: {\r\n          startDate: '2022-08-20',\r\n          endDate: '2024-08-20',\r\n          provider: 'HP Brasil',\r\n          type: 'Garantia do Fabricante',\r\n          status: 'Expirada'\r\n        },\r\n        responsible: 'Carlos Oliveira',\r\n        condition: 'Usado',\r\n        lastInventoryDate: '2023-11-15',\r\n        inventoryStatus: 'Discrepância',\r\n        specifications: {\r\n          type: 'Laser Monocromática',\r\n          speed: '38 ppm',\r\n          resolution: '1200 x 1200 dpi',\r\n          connectivity: 'Ethernet, USB'\r\n        }\r\n      },\r\n      {\r\n        id: 4,\r\n        tag: 'LVT-004',\r\n        name: 'Smartphone Samsung Galaxy A54',\r\n        brand: 'Samsung',\r\n        model: 'Galaxy A54 5G',\r\n        serialNumber: 'SM-A546B-2023-004',\r\n        category: 'Telefonia',\r\n        subcategory: 'Smartphones',\r\n        status: 'Ativo',\r\n        location: 'Vendas - Sala 201',\r\n        department: 'Comercial',\r\n        value: 1800.00,\r\n        acquisitionDate: '2023-06-15',\r\n        entryDate: '2023-06-18',\r\n        warranty: {\r\n          startDate: '2023-06-15',\r\n          endDate: '2024-06-15',\r\n          provider: 'Samsung Brasil',\r\n          type: 'Garantia do Fabricante',\r\n          status: 'Ativa'\r\n        },\r\n        responsible: 'Ana Costa',\r\n        condition: 'Novo',\r\n        lastInventoryDate: null,\r\n        inventoryStatus: 'Não Contado',\r\n        specifications: {\r\n          storage: '256GB',\r\n          memory: '8GB RAM',\r\n          screen: '6.4\" Super AMOLED',\r\n          camera: '50MP + 12MP + 5MP'\r\n        }\r\n      },\r\n      {\r\n        id: 5,\r\n        tag: 'LVT-005',\r\n        name: 'Mesa de Escritório Executive',\r\n        brand: 'Móveis Office',\r\n        model: 'Executive 160x80',\r\n        serialNumber: 'MO-EX-160-005',\r\n        category: 'Mobiliário',\r\n        subcategory: 'Mesas',\r\n        status: 'Ativo',\r\n        location: 'Diretoria - Sala 301',\r\n        department: 'Diretoria',\r\n        value: 2500.00,\r\n        acquisitionDate: '2023-03-10',\r\n        entryDate: '2023-03-15',\r\n        warranty: {\r\n          startDate: '2023-03-10',\r\n          endDate: '2028-03-10',\r\n          provider: 'Móveis Office Ltda',\r\n          type: 'Garantia do Fabricante',\r\n          status: 'Ativa'\r\n        },\r\n        responsible: 'Roberto Silva',\r\n        condition: 'Novo',\r\n        lastInventoryDate: '2023-12-01',\r\n        inventoryStatus: 'Contado',\r\n        specifications: {\r\n          material: 'MDF com acabamento em laminado',\r\n          dimensions: '160cm x 80cm x 75cm',\r\n          color: 'Mogno',\r\n          drawers: '3 gavetas com fechadura'\r\n        }\r\n      }\r\n    ],\r\n    loading: false,\r\n    error: null,\r\n    searchTerm: '',\r\n    filters: {\r\n      status: '',\r\n      location: '',\r\n      responsible: '',\r\n      dateRange: { start: '', end: '' }\r\n    }\r\n  }),\r\n\r\n  getters: {\r\n    // Estatísticas gerais\r\n    totalInventories: (state) => state.inventories.length,\r\n    \r\n    inventoriesInProgress: (state) => \r\n      state.inventories.filter(inv => inv.status === 'in_progress').length,\r\n    \r\n    totalAssetsCount: (state) => \r\n      state.inventories.reduce((total, inv) => total + inv.countedAssets, 0),\r\n    \r\n    totalDiscrepancies: (state) => \r\n      state.inventories.reduce((total, inv) => total + inv.discrepancies, 0),\r\n\r\n    // Inventários por status\r\n    inventoriesByStatus: (state) => {\r\n      return state.inventories.reduce((acc, inventory) => {\r\n        acc[inventory.status] = (acc[inventory.status] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Inventários por localização\r\n    inventoriesByLocation: (state) => {\r\n      return state.inventories.reduce((acc, inventory) => {\r\n        acc[inventory.location] = (acc[inventory.location] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Inventários por responsável\r\n    inventoriesByResponsible: (state) => {\r\n      return state.inventories.reduce((acc, inventory) => {\r\n        acc[inventory.responsible] = (acc[inventory.responsible] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Progresso médio dos inventários\r\n    averageProgress: (state) => {\r\n      const activeInventories = state.inventories.filter(inv => \r\n        inv.status === 'in_progress' || inv.status === 'completed'\r\n      )\r\n      if (activeInventories.length === 0) return 0\r\n      \r\n      const totalProgress = activeInventories.reduce((sum, inv) => sum + inv.progress, 0)\r\n      return Math.round(totalProgress / activeInventories.length)\r\n    },\r\n\r\n    // Inventários filtrados\r\n    filteredInventories: (state) => {\r\n      let filtered = [...state.inventories]\r\n\r\n      // Filtro por termo de busca\r\n      if (state.searchTerm) {\r\n        const term = state.searchTerm.toLowerCase()\r\n        filtered = filtered.filter(inventory =>\r\n          inventory.code.toLowerCase().includes(term) ||\r\n          inventory.description.toLowerCase().includes(term) ||\r\n          inventory.responsible.toLowerCase().includes(term) ||\r\n          inventory.location.toLowerCase().includes(term)\r\n        )\r\n      }\r\n\r\n      // Filtro por status\r\n      if (state.filters.status) {\r\n        filtered = filtered.filter(inventory => inventory.status === state.filters.status)\r\n      }\r\n\r\n      // Filtro por localização\r\n      if (state.filters.location) {\r\n        filtered = filtered.filter(inventory => inventory.location === state.filters.location)\r\n      }\r\n\r\n      // Filtro por responsável\r\n      if (state.filters.responsible) {\r\n        filtered = filtered.filter(inventory => inventory.responsible === state.filters.responsible)\r\n      }\r\n\r\n      // Filtro por período\r\n      if (state.filters.dateRange.start && state.filters.dateRange.end) {\r\n        filtered = filtered.filter(inventory => {\r\n          const startDate = new Date(inventory.startDate)\r\n          const filterStart = new Date(state.filters.dateRange.start)\r\n          const filterEnd = new Date(state.filters.dateRange.end)\r\n          return startDate >= filterStart && startDate <= filterEnd\r\n        })\r\n      }\r\n\r\n      return filtered\r\n    },\r\n\r\n    // Estatísticas dos ativos disponíveis\r\n    totalAvailableAssets: (state) => state.availableAssets.length,\r\n\r\n    // Ativos por status de inventário\r\n    assetsByInventoryStatus: (state) => {\r\n      return state.availableAssets.reduce((acc, asset) => {\r\n        const status = asset.inventoryStatus || 'Não Contado'\r\n        acc[status] = (acc[status] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Ativos por status de garantia\r\n    assetsByWarrantyStatus: (state) => {\r\n      const now = new Date()\r\n      const thirtyDaysFromNow = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000))\r\n      \r\n      return state.availableAssets.reduce((acc, asset) => {\r\n        if (!asset.warranty) {\r\n          acc['Sem Garantia'] = (acc['Sem Garantia'] || 0) + 1\r\n          return acc\r\n        }\r\n\r\n        const endDate = new Date(asset.warranty.endDate)\r\n        \r\n        if (endDate < now) {\r\n          acc['Expirada'] = (acc['Expirada'] || 0) + 1\r\n        } else if (endDate <= thirtyDaysFromNow) {\r\n          acc['Expirando'] = (acc['Expirando'] || 0) + 1\r\n        } else {\r\n          acc['Ativa'] = (acc['Ativa'] || 0) + 1\r\n        }\r\n        \r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Ativos por categoria\r\n    assetsByCategory: (state) => {\r\n      return state.availableAssets.reduce((acc, asset) => {\r\n        acc[asset.category] = (acc[asset.category] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Ativos por departamento\r\n    assetsByDepartment: (state) => {\r\n      return state.availableAssets.reduce((acc, asset) => {\r\n        acc[asset.department] = (acc[asset.department] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    },\r\n\r\n    // Valor total dos ativos disponíveis\r\n    totalAssetsValue: (state) => {\r\n      return state.availableAssets.reduce((total, asset) => total + (asset.value || 0), 0)\r\n    },\r\n\r\n    // Ativos com garantia expirada\r\n    expiredWarrantyAssets: (state) => {\r\n      const now = new Date()\r\n      return state.availableAssets.filter(asset => {\r\n        if (!asset.warranty) return false\r\n        const endDate = new Date(asset.warranty.endDate)\r\n        return endDate < now\r\n      })\r\n    },\r\n\r\n    // Ativos com garantia expirando em 30 dias\r\n    expiringWarrantyAssets: (state) => {\r\n      const now = new Date()\r\n      const thirtyDaysFromNow = new Date(now.getTime() + (30 * 24 * 60 * 60 * 1000))\r\n      \r\n      return state.availableAssets.filter(asset => {\r\n        if (!asset.warranty) return false\r\n        const endDate = new Date(asset.warranty.endDate)\r\n        return endDate >= now && endDate <= thirtyDaysFromNow\r\n      })\r\n    },\r\n\r\n    // Ativos não contados no último inventário\r\n    uncountedAssets: (state) => {\r\n      return state.availableAssets.filter(asset => \r\n        !asset.inventoryStatus || asset.inventoryStatus === 'Não Contado'\r\n      )\r\n    },\r\n\r\n    // Ativos com discrepâncias\r\n    discrepancyAssets: (state) => {\r\n      return state.availableAssets.filter(asset => \r\n        asset.inventoryStatus === 'Discrepância'\r\n      )\r\n    },\r\n\r\n    // Ativos por condição\r\n    assetsByCondition: (state) => {\r\n      return state.availableAssets.reduce((acc, asset) => {\r\n        const condition = asset.condition || 'Não Informado'\r\n        acc[condition] = (acc[condition] || 0) + 1\r\n        return acc\r\n      }, {})\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    // Buscar inventários\r\n    async fetchInventories() {\r\n      this.loading = true\r\n      this.error = null\r\n\r\n      try {\r\n        const { data } = await auditorsAPI.getAll({ skip: 0, limit: 100 })\r\n        const items = Array.isArray(data?.items) ? data.items : (Array.isArray(data) ? data : [])\r\n        this.inventories = items.map((a) => this.mapAuditoriaToInventory(a))\r\n        this.loading = false\r\n      } catch (error) {\r\n        const err = handleAPIError(error)\r\n        this.error = err.message || 'Erro ao carregar inventários'\r\n        this.loading = false\r\n        throw error\r\n      }\r\n    },\r\n\r\n    // Iniciar inventário\r\n    async startInventory(id) {\r\n      this.loading = true\r\n      this.error = null\r\n\r\n      try {\r\n        await auditorsAPI.start(id)\r\n        await this.updateInventory(id, { \r\n          status: 'in_progress',\r\n          startDate: new Date().toISOString().split('T')[0]\r\n        })\r\n        this.loading = false\r\n      } catch (error) {\r\n        const err = handleAPIError(error)\r\n        this.error = err.message || 'Erro ao iniciar inventário'\r\n        this.loading = false\r\n        throw error\r\n      }\r\n    },\r\n\r\n    // Registrar contagem de ativo\r\n    async recordAssetCount(inventoryId, assetData) {\r\n      this.loading = true\r\n      this.error = null\r\n\r\n      try {\r\n        const coletaPayload = Array.isArray(assetData) ? assetData.map(a => ({\r\n          item_id: a.itemId || a.id,\r\n          codigo_lido: a.assetCode || a.codigo_lido || a.tag,\r\n          local_encontrado_id: a.local_encontrado_id || a.actualLocationId || null,\r\n          estado_encontrado: a.condition || a.estado_encontrado || null,\r\n          observacoes: a.notes || a.observacoes || '',\r\n          foto_url: a.foto_url || a.photoUrl || null\r\n        })) : [{\r\n          item_id: assetData.itemId || assetData.id,\r\n          codigo_lido: assetData.assetCode || assetData.codigo_lido || assetData.tag,\r\n          local_encontrado_id: assetData.local_encontrado_id || assetData.actualLocationId || null,\r\n          estado_encontrado: assetData.condition || assetData.estado_encontrado || null,\r\n          observacoes: assetData.notes || assetData.observacoes || '',\r\n          foto_url: assetData.foto_url || assetData.photoUrl || null\r\n        }]\r\n\r\n        await auditorsAPI.registerCollection(inventoryId, coletaPayload)\r\n\r\n        const inventory = this.inventories.find(inv => inv.id === inventoryId)\r\n        if (inventory) {\r\n          const normalize = (a) => ({\r\n            id: a.item_id || a.id || Date.now(),\r\n            assetCode: a.codigo_lido || a.assetCode || a.tag || '',\r\n            assetName: a.assetName || a.descricao || '',\r\n            expectedLocation: a.expectedLocation || '',\r\n            actualLocation: a.actualLocation || '',\r\n            status: this.mapCountStatusToAssetStatus(a.countStatus || 'found'),\r\n            condition: a.estado_encontrado || a.condition || 'good',\r\n            notes: a.observacoes || a.notes || ''\r\n          })\r\n\r\n          const payloadAssets = Array.isArray(assetData) ? assetData.map(normalize) : [normalize(assetData)]\r\n          payloadAssets.forEach(asset => {\r\n            const existingAssetIndex = inventory.assets.findIndex(a => a.assetCode === asset.assetCode)\r\n            if (existingAssetIndex !== -1) {\r\n              inventory.assets[existingAssetIndex] = { ...inventory.assets[existingAssetIndex], ...asset }\r\n            } else {\r\n              inventory.assets.push({ id: Date.now(), ...asset })\r\n            }\r\n          })\r\n\r\n          inventory.countedAssets = inventory.assets.length\r\n          inventory.discrepancies = inventory.assets.filter(asset => \r\n            asset.status === 'moved' || asset.status === 'missing' || asset.status === 'damaged'\r\n          ).length\r\n          inventory.progress = inventory.totalAssets > 0\r\n            ? Math.round((inventory.countedAssets / inventory.totalAssets) * 100)\r\n            : 0\r\n          inventory.updatedAt = new Date().toISOString()\r\n        }\r\n\r\n        this.loading = false\r\n      } catch (error) {\r\n        const err = handleAPIError(error)\r\n        this.error = err.message || 'Erro ao registrar contagem'\r\n        this.loading = false\r\n        throw error\r\n      }\r\n    },\r\n\r\n    // Buscar ativos para inventário\r\n    async getInventoryAssets(inventoryId) {\r\n      this.loading = true\r\n      this.error = null\r\n\r\n      try {\r\n        const { data } = await auditorsAPI.getCountList(inventoryId)\r\n        const items = Array.isArray(data?.itens) ? data.itens : []\r\n        const assets = items.map((item) => this.mapAPIItemToAsset(item))\r\n        this.loading = false\r\n        return assets\r\n      } catch (error) {\r\n        const err = handleAPIError(error)\r\n        this.error = err.message || 'Erro ao buscar ativos para inventário'\r\n        this.loading = false\r\n        throw error\r\n      }\r\n    },\r\n\r\n    // Utilitário: mapear Auditoria (API) -> Inventory (Store)\r\n    mapAuditoriaToInventory(a) {\r\n      const totalAssets = a.total_itens ?? a.total_itens_esperados ?? 0\r\n      const countedAssets = (a.itens_conformes || 0) + (a.itens_divergentes || 0) + (a.itens_nao_encontrados || 0) + (a.itens_extras || 0)\r\n      const progress = totalAssets > 0 ? Math.round((countedAssets / totalAssets) * 100) : 0\r\n      const statusMap = {\r\n        'PLANEJADA': 'planned',\r\n        'EM_ANDAMENTO': 'in_progress',\r\n        'RECONCILIACAO': 'in_progress',\r\n        'FINALIZADA': 'completed',\r\n        'CANCELADA': 'cancelled'\r\n      }\r\n\r\n      return {\r\n        id: a.id,\r\n        code: a.nome || `AUD-${a.id}`,\r\n        description: a.descricao || '',\r\n        location: a.escopo_locais || '',\r\n        responsible: '',\r\n        startDate: a.data_inicio ? String(a.data_inicio).split('T')[0] : '',\r\n        endDate: a.data_fim ? String(a.data_fim).split('T')[0] : '',\r\n        status: statusMap[a.status] || a.status || 'planned',\r\n        totalAssets,\r\n        countedAssets,\r\n        discrepancies: (a.itens_divergentes || 0) + (a.itens_nao_encontrados || 0) + (a.itens_extras || 0),\r\n        progress,\r\n        createdAt: a.criado_em || '',\r\n        updatedAt: a.atualizado_em || '',\r\n        notes: a.observacoes_finais || '',\r\n        assets: []\r\n      }\r\n    },\r\n\r\n    // Utilitário: mapear item da API -> asset da store\r\n    mapAPIItemToAsset(item) {\r\n      return {\r\n        id: item.id || item.item_id || Date.now(),\r\n        assetCode: item.codigo || item.patrimonio || item.tag || '',\r\n        assetName: item.descricao || item.nome || '',\r\n        expectedLocation: item.local_esperado || item.local_esperado_nome || '',\r\n        actualLocation: item.local_encontrado || item.local_encontrado_nome || item.expectedLocation || '',\r\n        status: this.mapCountStatusToAssetStatus(item.countStatus || (item.resultado === 'conforme' ? 'found' : 'not_counted')),\r\n        condition: item.estado_encontrado || 'good',\r\n        notes: item.observacoes || ''\r\n      }\r\n    }\r\n  },\r\n\r\n  // Atualizar inventário (utilizado por startInventory)\r\n  async updateInventory(id, updates) {\r\n    this.loading = true\r\n    this.error = null\r\n  \r\n    try {\r\n      // Simular chamada à API\r\n      await new Promise(resolve => setTimeout(resolve, 500))\r\n  \r\n      const index = this.inventories.findIndex(inv => inv.id === id)\r\n      if (index !== -1) {\r\n        this.inventories[index] = {\r\n          ...this.inventories[index],\r\n          ...updates,\r\n          updatedAt: new Date().toISOString()\r\n        }\r\n      }\r\n  \r\n      this.loading = false\r\n    } catch (error) {\r\n      this.error = 'Erro ao atualizar inventário'\r\n      this.loading = false\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Mapear status de contagem para status de ativo\r\n  mapCountStatusToAssetStatus(countStatus) {\r\n    const statusMap = {\r\n      found: 'found',\r\n      not_found: 'missing',\r\n      damaged: 'damaged',\r\n      wrong_location: 'moved',\r\n      not_counted: 'pending'\r\n    }\r\n    return statusMap[countStatus] || 'pending'\r\n  },\r\n\r\n  // Criar novo inventário (mock local)\r\n  async createInventory(inventoryData) {\r\n    this.loading = true\r\n    this.error = null\r\n  \r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 500))\r\n  \r\n      const newInventory = {\r\n        id: Date.now(),\r\n        code: `INV-${new Date().getFullYear()}-${String(this.inventories.length + 1).padStart(3, '0')}`,\r\n        ...inventoryData,\r\n        status: 'planned',\r\n        totalAssets: 0,\r\n        countedAssets: 0,\r\n        discrepancies: 0,\r\n        progress: 0,\r\n        assets: [],\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      }\r\n  \r\n      this.inventories.unshift(newInventory)\r\n      this.loading = false\r\n      return newInventory\r\n    } catch (error) {\r\n      this.error = 'Erro ao criar inventário'\r\n      this.loading = false\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Finalizar inventário (mock local)\r\n  async completeInventory(id) {\r\n    await this.updateInventory(id, {\r\n      status: 'completed',\r\n      endDate: new Date().toISOString().split('T')[0],\r\n      progress: 100\r\n    })\r\n  },\r\n\r\n  // Cancelar inventário (mock local)\r\n  async cancelInventory(id) {\r\n    await this.updateInventory(id, { status: 'cancelled' })\r\n  },\r\n\r\n  // Atualizar contagem do inventário (mock local)\r\n  async updateInventoryCounting(inventoryId, countingAssets) {\r\n    this.loading = true\r\n    this.error = null\r\n  \r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 500))\r\n  \r\n      const inventory = this.inventories.find(inv => inv.id === inventoryId)\r\n      if (inventory) {\r\n        inventory.assets = countingAssets.map(asset => ({\r\n          id: asset.id,\r\n          assetCode: asset.tag,\r\n          assetName: asset.name,\r\n          expectedLocation: asset.location,\r\n          actualLocation: asset.actualLocation || asset.location,\r\n          status: this.mapCountStatusToAssetStatus(asset.countStatus),\r\n          condition: asset.condition || 'good',\r\n          notes: asset.countNotes || '',\r\n          counted: asset.counted || false,\r\n          hasDiscrepancy: asset.hasDiscrepancy || false\r\n        }))\r\n  \r\n        inventory.countedAssets = countingAssets.filter(asset => asset.counted).length\r\n        inventory.discrepancies = countingAssets.filter(asset => asset.hasDiscrepancy).length\r\n        inventory.totalAssets = countingAssets.length\r\n  \r\n        inventory.progress = inventory.totalAssets > 0\r\n          ? Math.round((inventory.countedAssets / inventory.totalAssets) * 100)\r\n          : 0\r\n  \r\n        if (inventory.progress === 100) {\r\n          inventory.status = 'completed'\r\n          inventory.endDate = new Date().toISOString().split('T')[0]\r\n        } else if (inventory.progress > 0 && inventory.status === 'planned') {\r\n          inventory.status = 'in_progress'\r\n        }\r\n  \r\n        inventory.updatedAt = new Date().toISOString()\r\n      }\r\n  \r\n      this.loading = false\r\n    } catch (error) {\r\n      this.error = 'Erro ao atualizar contagem do inventário'\r\n      this.loading = false\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Reconciliação de leituras offline de QR\r\n  async reconcileScans(scansQueue) {\r\n    if (!Array.isArray(scansQueue) || scansQueue.length === 0) {\r\n      return { processed: 0, failed: 0 }\r\n    }\r\n\r\n    this.loading = true\r\n    this.error = null\r\n\r\n    const grouped = scansQueue.reduce((acc, item) => {\r\n      const invId = item.inventoryId\r\n      if (!invId) return acc\r\n      if (!acc[invId]) acc[invId] = []\r\n      acc[invId].push(item)\r\n      return acc\r\n    }, {})\r\n\r\n    let processed = 0\r\n    let failed = 0\r\n\r\n    for (const [inventoryId, items] of Object.entries(grouped)) {\r\n      const payload = items.map(it => ({\r\n        itemId: it.assetId || it.itemId || null,\r\n        assetCode: it.code || it.assetCode || '',\r\n        condition: it.condition || 'good',\r\n        notes: (it.notes || '') + (it.notes ? ' ' : '') + '[Reconciliação Offline]',\r\n        countStatus: it.status || 'found'\r\n      }))\r\n\r\n      if (!payload.length) continue\r\n\r\n      try {\r\n        await this.recordAssetCount(parseInt(inventoryId, 10), payload)\r\n        processed += items.length\r\n      } catch (error) {\r\n        failed += items.length\r\n        const err = handleAPIError ? handleAPIError(error) : null\r\n        this.error = (err && err.message) || 'Erro ao reconciliar leituras offline'\r\n      }\r\n    }\r\n\r\n    this.loading = false\r\n    return { processed, failed }\r\n  },\r\n  // Limpar erro\r\n  clearError() {\r\n    this.error = null\r\n  },\r\n\r\n  // Deletar inventário (mock local)\r\n  async deleteInventory(id) {\r\n    this.loading = true\r\n    this.error = null\r\n  \r\n    try {\r\n      await new Promise(resolve => setTimeout(resolve, 500))\r\n  \r\n      const index = this.inventories.findIndex(inv => inv.id === id)\r\n      if (index !== -1) {\r\n        this.inventories.splice(index, 1)\r\n      }\r\n  \r\n      this.loading = false\r\n    } catch (error) {\r\n      this.error = 'Erro ao deletar inventário'\r\n      this.loading = false\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Buscar\r\n  setSearchTerm(term) {\r\n    this.searchTerm = term\r\n  },\r\n\r\n  // Filtros\r\n  setFilters(filters) {\r\n    this.filters = { ...this.filters, ...filters }\r\n  },\r\n\r\n  clearFilters() {\r\n    this.filters = {\r\n      status: '',\r\n      location: '',\r\n      responsible: '',\r\n      dateRange: { start: '', end: '' }\r\n    }\r\n    this.searchTerm = ''\r\n  },\r\n\r\n  // Exportar dados\r\n  async exportInventories(format = 'csv') {\r\n    try {\r\n      const inventories = this.filteredInventories\r\n  \r\n      if (format === 'csv') {\r\n        const csvContent = this.generateCSV(inventories)\r\n        this.downloadFile(csvContent, `inventarios_${new Date().toISOString().split('T')[0]}.csv`, 'text/csv')\r\n      }\r\n  \r\n      return true\r\n    } catch (error) {\r\n      this.error = 'Erro ao exportar dados'\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Gerar CSV\r\n  generateCSV(inventories) {\r\n    const headers = [\r\n      'Código',\r\n      'Descrição',\r\n      'Localização',\r\n      'Responsável',\r\n      'Status',\r\n      'Data Início',\r\n      'Data Fim',\r\n      'Total Ativos',\r\n      'Ativos Contados',\r\n      'Discrepâncias',\r\n      'Progresso (%)',\r\n      'Observações'\r\n    ]\r\n  \r\n    const rows = inventories.map(inventory => [\r\n      inventory.code,\r\n      inventory.description,\r\n      inventory.location,\r\n      inventory.responsible,\r\n      this.getStatusLabel(inventory.status),\r\n      inventory.startDate,\r\n      inventory.endDate || '',\r\n      inventory.totalAssets,\r\n      inventory.countedAssets,\r\n      inventory.discrepancies,\r\n      inventory.progress,\r\n      inventory.notes || ''\r\n    ])\r\n  \r\n    return [headers, ...rows]\r\n      .map(row => row.map(field => `\"${field}\"`).join(','))\r\n      .join('\\n')\r\n  },\r\n\r\n  // Download de arquivo\r\n  downloadFile(content, filename, contentType) {\r\n    const blob = new Blob([content], { type: contentType })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    link.download = filename\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n    window.URL.revokeObjectURL(url)\r\n  },\r\n\r\n  // Obter label do status\r\n  getStatusLabel(status) {\r\n    const statusLabels = {\r\n      planned: 'Planejado',\r\n      in_progress: 'Em Andamento',\r\n      completed: 'Concluído',\r\n      cancelled: 'Cancelado'\r\n    }\r\n    return statusLabels[status] || status\r\n  },\r\n\r\n  // Obter cor do status\r\n  getStatusColor(status) {\r\n    const statusColors = {\r\n      planned: 'blue',\r\n      in_progress: 'orange',\r\n      completed: 'green',\r\n      cancelled: 'red'\r\n    }\r\n    return statusColors[status] || 'gray'\r\n  }\r\n})"],"names":["usePhysicalInventoryStore","defineStore","state","inventories","id","code","description","location","name","responsible","email","startDate","endDate","status","totalAssets","countedAssets","discrepancies","progress","createdAt","updatedAt","notes","assets","assetCode","assetName","expectedLocation","actualLocation","condition","locations","responsibles","department","availableAssets","tag","brand","model","serialNumber","category","subcategory","value","acquisitionDate","entryDate","warranty","provider","type","lastInventoryDate","inventoryStatus","specifications","processor","memory","storage","screen","size","resolution","panel","connectivity","speed","camera","material","dimensions","color","drawers","loading","error","searchTerm","filters","dateRange","start","end","getters","totalInventories","length","inventoriesInProgress","filter","inv","totalAssetsCount","reduce","total","totalDiscrepancies","inventoriesByStatus","acc","inventory","inventoriesByLocation","inventoriesByResponsible","averageProgress","activeInventories","totalProgress","sum","Math","round","filteredInventories","filtered","term","toLowerCase","includes","Date","filterStart","filterEnd","totalAvailableAssets","assetsByInventoryStatus","asset","assetsByWarrantyStatus","now","thirtyDaysFromNow","getTime","assetsByCategory","assetsByDepartment","totalAssetsValue","expiredWarrantyAssets","expiringWarrantyAssets","uncountedAssets","discrepancyAssets","assetsByCondition","actions","fetchInventories","this","data","auditorsAPI","getAll","skip","limit","items","Array","isArray","map","a","mapAuditoriaToInventory","err","handleAPIError","message","startInventory","updateInventory","toISOString","split","recordAssetCount","inventoryId","assetData","coletaPayload","item_id","itemId","codigo_lido","local_encontrado_id","actualLocationId","estado_encontrado","observacoes","foto_url","photoUrl","registerCollection","find","normalize","descricao","mapCountStatusToAssetStatus","countStatus","forEach","existingAssetIndex","findIndex","push","getInventoryAssets","getCountList","itens","item","mapAPIItemToAsset","total_itens","total_itens_esperados","itens_conformes","itens_divergentes","itens_nao_encontrados","itens_extras","nome","escopo_locais","data_inicio","String","data_fim","PLANEJADA","EM_ANDAMENTO","RECONCILIACAO","FINALIZADA","CANCELADA","criado_em","atualizado_em","observacoes_finais","codigo","patrimonio","local_esperado","local_esperado_nome","local_encontrado","local_encontrado_nome","resultado","updates","Promise","resolve","setTimeout","index","found","not_found","damaged","wrong_location","not_counted","createInventory","inventoryData","newInventory","getFullYear","padStart","unshift","completeInventory","cancelInventory","updateInventoryCounting","countingAssets","countNotes","counted","hasDiscrepancy","reconcileScans","scansQueue","processed","failed","grouped","invId","Object","entries","payload","it","assetId","parseInt","clearError","deleteInventory","splice","setSearchTerm","setFilters","clearFilters","exportInventories","format","csvContent","generateCSV","downloadFile","getStatusLabel","row","field","join","content","filename","contentType","blob","Blob","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","planned","in_progress","completed","cancelled","getStatusColor"],"mappings":"4FAGY,MAACA,EAA4BC,EAAY,oBAAqB,CACxEC,MAAO,KAAA,CACLC,YAAa,CACX,CACEC,GAAI,EACJC,KAAM,eACNC,YAAa,oCACbC,SAAU,CAAEH,GAAI,EAAGI,KAAM,iBAAkBH,KAAM,QACjDI,YAAa,CAAEL,GAAI,EAAGI,KAAM,aAAcE,MAAO,0BACjDC,UAAW,aACXC,QAAS,aACTC,OAAQ,YACRC,YAAa,IACbC,cAAe,IACfC,cAAe,EACfC,SAAU,IACVC,UAAW,uBACXC,UAAW,uBACXC,MAAO,uFACPC,OAAQ,CACN,CACEjB,GAAI,EACJkB,UAAW,SACXC,UAAW,yBACXC,iBAAkB,WAClBC,eAAgB,WAChBZ,OAAQ,QACRa,UAAW,OACXN,MAAO,kCAET,CACEhB,GAAI,EACJkB,UAAW,UACXC,UAAW,sBACXC,iBAAkB,WAClBC,eAAgB,WAChBZ,OAAQ,QACRa,UAAW,OACXN,MAAO,+CAIb,CACEhB,GAAI,EACJC,KAAM,eACNC,YAAa,uCACbC,SAAU,CAAEH,GAAI,EAAGI,KAAM,eAAgBH,KAAM,SAC/CI,YAAa,CAAEL,GAAI,EAAGI,KAAM,eAAgBE,MAAO,4BACnDC,UAAW,aACXC,QAAS,aACTC,OAAQ,cACRC,YAAa,GACbC,cAAe,GACfC,cAAe,EACfC,SAAU,GACVC,UAAW,uBACXC,UAAW,uBACXC,MAAO,2DACPC,OAAQ,CACN,CACEjB,GAAI,EACJkB,UAAW,UACXC,UAAW,qBACXC,iBAAkB,WAClBC,eAAgB,WAChBZ,OAAQ,QACRa,UAAW,OACXN,MAAO,wCAIb,CACEhB,GAAI,EACJC,KAAM,eACNC,YAAa,wCACbC,SAAU,CAAEH,GAAI,EAAGI,KAAM,cAAeH,KAAM,MAC9CI,YAAa,CAAEL,GAAI,EAAGI,KAAM,kBAAmBE,MAAO,+BACtDC,UAAW,aACXC,QAAS,aACTC,OAAQ,UACRC,YAAa,GACbC,cAAe,EACfC,cAAe,EACfC,SAAU,EACVC,UAAW,uBACXC,UAAW,uBACXC,MAAO,kEACPC,OAAQ,KAGZM,UAAW,CACT,CAAEvB,GAAI,EAAGI,KAAM,iBAAkBH,KAAM,QACvC,CAAED,GAAI,EAAGI,KAAM,eAAgBH,KAAM,SACrC,CAAED,GAAI,EAAGI,KAAM,aAAcH,KAAM,SACnC,CAAED,GAAI,EAAGI,KAAM,cAAeH,KAAM,MACpC,CAAED,GAAI,EAAGI,KAAM,eAAgBH,KAAM,QAEvCuB,aAAc,CACZ,CAAExB,GAAI,EAAGI,KAAM,aAAcqB,WAAY,MACzC,CAAEzB,GAAI,EAAGI,KAAM,eAAgBqB,WAAY,iBAC3C,CAAEzB,GAAI,EAAGI,KAAM,kBAAmBqB,WAAY,MAC9C,CAAEzB,GAAI,EAAGI,KAAM,YAAaqB,WAAY,eAE1CC,gBAAiB,CACf,CACE1B,GAAI,EACJ2B,IAAK,UACLvB,KAAM,8BACNwB,MAAO,OACPC,MAAO,gBACPC,aAAc,kBACdC,SAAU,cACVC,YAAa,YACbvB,OAAQ,QACRN,SAAU,gBACVsB,WAAY,2BACZQ,MAAO,KACPC,gBAAiB,aACjBC,UAAW,aACXC,SAAU,CACR7B,UAAW,aACXC,QAAS,aACT6B,SAAU,cACVC,KAAM,yBACN7B,OAAQ,SAEVJ,YAAa,aACbiB,UAAW,OACXiB,kBAAmB,aACnBC,gBAAiB,UACjBC,eAAgB,CACdC,UAAW,uBACXC,OAAQ,YACRC,QAAS,YACTC,OAAQ,kBAGZ,CACE7C,GAAI,EACJ2B,IAAK,UACLvB,KAAM,iBACNwB,MAAO,KACPC,MAAO,aACPC,aAAc,gBACdC,SAAU,cACVC,YAAa,YACbvB,OAAQ,QACRN,SAAU,gBACVsB,WAAY,2BACZQ,MAAO,IACPC,gBAAiB,aACjBC,UAAW,aACXC,SAAU,CACR7B,UAAW,aACXC,QAAS,aACT6B,SAAU,iBACVC,KAAM,qBACN7B,OAAQ,SAEVJ,YAAa,eACbiB,UAAW,OACXiB,kBAAmB,aACnBC,gBAAiB,UACjBC,eAAgB,CACdK,KAAM,eACNC,WAAY,YACZC,MAAO,MACPC,aAAc,cAGlB,CACEjD,GAAI,EACJ2B,IAAK,UACLvB,KAAM,oCACNwB,MAAO,KACPC,MAAO,sBACPC,aAAc,iBACdC,SAAU,eACVC,YAAa,cACbvB,OAAQ,aACRN,SAAU,iBACVsB,WAAY,iBACZQ,MAAO,KACPC,gBAAiB,aACjBC,UAAW,aACXC,SAAU,CACR7B,UAAW,aACXC,QAAS,aACT6B,SAAU,YACVC,KAAM,yBACN7B,OAAQ,YAEVJ,YAAa,kBACbiB,UAAW,QACXiB,kBAAmB,aACnBC,gBAAiB,eACjBC,eAAgB,CACdH,KAAM,sBACNY,MAAO,SACPH,WAAY,kBACZE,aAAc,kBAGlB,CACEjD,GAAI,EACJ2B,IAAK,UACLvB,KAAM,gCACNwB,MAAO,UACPC,MAAO,gBACPC,aAAc,oBACdC,SAAU,YACVC,YAAa,cACbvB,OAAQ,QACRN,SAAU,oBACVsB,WAAY,YACZQ,MAAO,KACPC,gBAAiB,aACjBC,UAAW,aACXC,SAAU,CACR7B,UAAW,aACXC,QAAS,aACT6B,SAAU,iBACVC,KAAM,yBACN7B,OAAQ,SAEVJ,YAAa,YACbiB,UAAW,OACXiB,kBAAmB,KACnBC,gBAAiB,cACjBC,eAAgB,CACdG,QAAS,QACTD,OAAQ,UACRE,OAAQ,oBACRM,OAAQ,sBAGZ,CACEnD,GAAI,EACJ2B,IAAK,UACLvB,KAAM,+BACNwB,MAAO,gBACPC,MAAO,mBACPC,aAAc,gBACdC,SAAU,aACVC,YAAa,QACbvB,OAAQ,QACRN,SAAU,uBACVsB,WAAY,YACZQ,MAAO,KACPC,gBAAiB,aACjBC,UAAW,aACXC,SAAU,CACR7B,UAAW,aACXC,QAAS,aACT6B,SAAU,qBACVC,KAAM,yBACN7B,OAAQ,SAEVJ,YAAa,gBACbiB,UAAW,OACXiB,kBAAmB,aACnBC,gBAAiB,UACjBC,eAAgB,CACdW,SAAU,iCACVC,WAAY,sBACZC,MAAO,QACPC,QAAS,6BAIfC,SAAS,EACTC,MAAO,KACPC,WAAY,GACZC,QAAS,CACPlD,OAAQ,GACRN,SAAU,GACVE,YAAa,GACbuD,UAAW,CAAEC,MAAO,GAAIC,IAAK,OAIjCC,QAAS,CAEPC,iBAAmBlE,GAAUA,EAAMC,YAAYkE,OAE/CC,sBAAwBpE,GACtBA,EAAMC,YAAYoE,OAAOC,GAAsB,gBAAfA,EAAI3D,QAA0BwD,OAEhEI,iBAAmBvE,GACjBA,EAAMC,YAAYuE,OAAO,CAACC,EAAOH,IAAQG,EAAQH,EAAIzD,cAAe,GAEtE6D,mBAAqB1E,GACnBA,EAAMC,YAAYuE,OAAO,CAACC,EAAOH,IAAQG,EAAQH,EAAIxD,cAAe,GAGtE6D,oBAAsB3E,GACbA,EAAMC,YAAYuE,OAAO,CAACI,EAAKC,KACpCD,EAAIC,EAAUlE,SAAWiE,EAAIC,EAAUlE,SAAW,GAAK,EAChDiE,GACN,CAAA,GAILE,sBAAwB9E,GACfA,EAAMC,YAAYuE,OAAO,CAACI,EAAKC,KACpCD,EAAIC,EAAUxE,WAAauE,EAAIC,EAAUxE,WAAa,GAAK,EACpDuE,GACN,CAAA,GAILG,yBAA2B/E,GAClBA,EAAMC,YAAYuE,OAAO,CAACI,EAAKC,KACpCD,EAAIC,EAAUtE,cAAgBqE,EAAIC,EAAUtE,cAAgB,GAAK,EAC1DqE,GACN,CAAA,GAILI,gBAAkBhF,IAChB,MAAMiF,EAAoBjF,EAAMC,YAAYoE,OAAOC,GAClC,gBAAfA,EAAI3D,QAA2C,cAAf2D,EAAI3D,QAEtC,GAAiC,IAA7BsE,EAAkBd,OAAc,OAAO,EAE3C,MAAMe,EAAgBD,EAAkBT,OAAO,CAACW,EAAKb,IAAQa,EAAMb,EAAIvD,SAAU,GACjF,OAAOqE,KAAKC,MAAMH,EAAgBD,EAAkBd,SAItDmB,oBAAsBtF,IACpB,IAAIuF,EAAW,IAAIvF,EAAMC,aAGzB,GAAID,EAAM4D,WAAY,CACpB,MAAM4B,EAAOxF,EAAM4D,WAAW6B,cAC9BF,EAAWA,EAASlB,OAAOQ,GACzBA,EAAU1E,KAAKsF,cAAcC,SAASF,IACtCX,EAAUzE,YAAYqF,cAAcC,SAASF,IAC7CX,EAAUtE,YAAYkF,cAAcC,SAASF,IAC7CX,EAAUxE,SAASoF,cAAcC,SAASF,GAE9C,CA2BA,OAxBIxF,EAAM6D,QAAQlD,SAChB4E,EAAWA,EAASlB,OAAOQ,GAAaA,EAAUlE,SAAWX,EAAM6D,QAAQlD,SAIzEX,EAAM6D,QAAQxD,WAChBkF,EAAWA,EAASlB,OAAOQ,GAAaA,EAAUxE,WAAaL,EAAM6D,QAAQxD,WAI3EL,EAAM6D,QAAQtD,cAChBgF,EAAWA,EAASlB,OAAOQ,GAAaA,EAAUtE,cAAgBP,EAAM6D,QAAQtD,cAI9EP,EAAM6D,QAAQC,UAAUC,OAAS/D,EAAM6D,QAAQC,UAAUE,MAC3DuB,EAAWA,EAASlB,OAAOQ,IACzB,MAAMpE,EAAY,IAAIkF,KAAKd,EAAUpE,WAC/BmF,EAAc,IAAID,KAAK3F,EAAM6D,QAAQC,UAAUC,OAC/C8B,EAAY,IAAIF,KAAK3F,EAAM6D,QAAQC,UAAUE,KACnD,OAAOvD,GAAamF,GAAenF,GAAaoF,KAI7CN,GAITO,qBAAuB9F,GAAUA,EAAM4B,gBAAgBuC,OAGvD4B,wBAA0B/F,GACjBA,EAAM4B,gBAAgB4C,OAAO,CAACI,EAAKoB,KACxC,MAAMrF,EAASqF,EAAMtD,iBAAmB,cAExC,OADAkC,EAAIjE,IAAWiE,EAAIjE,IAAW,GAAK,EAC5BiE,GACN,CAAA,GAILqB,uBAAyBjG,IACvB,MAAMkG,MAAUP,KACVQ,EAAoB,IAAIR,KAAKO,EAAIE,UAAa,QAEpD,OAAOpG,EAAM4B,gBAAgB4C,OAAO,CAACI,EAAKoB,KACxC,IAAKA,EAAM1D,SAET,OADAsC,EAAI,iBAAmBA,EAAI,iBAAmB,GAAK,EAC5CA,EAGT,MAAMlE,EAAU,IAAIiF,KAAKK,EAAM1D,SAAS5B,SAUxC,OARIA,EAAUwF,EACZtB,EAAc,UAAKA,EAAc,UAAK,GAAK,EAClClE,GAAWyF,EACpBvB,EAAe,WAAKA,EAAe,WAAK,GAAK,EAE7CA,EAAW,OAAKA,EAAW,OAAK,GAAK,EAGhCA,GACN,CAAA,IAILyB,iBAAmBrG,GACVA,EAAM4B,gBAAgB4C,OAAO,CAACI,EAAKoB,KACxCpB,EAAIoB,EAAM/D,WAAa2C,EAAIoB,EAAM/D,WAAa,GAAK,EAC5C2C,GACN,CAAA,GAIL0B,mBAAqBtG,GACZA,EAAM4B,gBAAgB4C,OAAO,CAACI,EAAKoB,KACxCpB,EAAIoB,EAAMrE,aAAeiD,EAAIoB,EAAMrE,aAAe,GAAK,EAChDiD,GACN,CAAA,GAIL2B,iBAAmBvG,GACVA,EAAM4B,gBAAgB4C,OAAO,CAACC,EAAOuB,IAAUvB,GAASuB,EAAM7D,OAAS,GAAI,GAIpFqE,sBAAwBxG,IACtB,MAAMkG,MAAUP,KAChB,OAAO3F,EAAM4B,gBAAgByC,OAAO2B,IAClC,IAAKA,EAAM1D,SAAU,OAAO,EAE5B,OADgB,IAAIqD,KAAKK,EAAM1D,SAAS5B,SACvBwF,KAKrBO,uBAAyBzG,IACvB,MAAMkG,MAAUP,KACVQ,EAAoB,IAAIR,KAAKO,EAAIE,UAAa,QAEpD,OAAOpG,EAAM4B,gBAAgByC,OAAO2B,IAClC,IAAKA,EAAM1D,SAAU,OAAO,EAC5B,MAAM5B,EAAU,IAAIiF,KAAKK,EAAM1D,SAAS5B,SACxC,OAAOA,GAAWwF,GAAOxF,GAAWyF,KAKxCO,gBAAkB1G,GACTA,EAAM4B,gBAAgByC,OAAO2B,IACjCA,EAAMtD,iBAA6C,gBAA1BsD,EAAMtD,iBAKpCiE,kBAAoB3G,GACXA,EAAM4B,gBAAgByC,OAAO2B,GACR,iBAA1BA,EAAMtD,iBAKVkE,kBAAoB5G,GACXA,EAAM4B,gBAAgB4C,OAAO,CAACI,EAAKoB,KACxC,MAAMxE,EAAYwE,EAAMxE,WAAa,gBAErC,OADAoD,EAAIpD,IAAcoD,EAAIpD,IAAc,GAAK,EAClCoD,GACN,CAAA,IAIPiC,QAAS,CAEP,sBAAMC,GACJC,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,IACE,MAAMqD,KAAEA,SAAeC,EAAYC,OAAO,CAAEC,KAAM,EAAGC,MAAO,MACtDC,EAAQC,MAAMC,QAAQ,MAAAP,OAAA,EAAAA,EAAMK,OAASL,EAAKK,MAASC,MAAMC,QAAQP,GAAQA,EAAO,GACtFD,KAAK9G,YAAcoH,EAAMG,IAAKC,GAAMV,KAAKW,wBAAwBD,IACjEV,KAAKrD,SAAU,CACjB,OAASC,GACP,MAAMgE,EAAMC,EAAejE,GAG3B,MAFAoD,KAAKpD,MAAQgE,EAAIE,SAAW,+BAC5Bd,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,oBAAMmE,CAAe5H,GACnB6G,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,UACQsD,EAAYlD,MAAM7D,SAClB6G,KAAKgB,gBAAgB7H,EAAI,CAC7BS,OAAQ,cACRF,WAAA,IAAekF,MAAOqC,cAAcC,MAAM,KAAK,KAEjDlB,KAAKrD,SAAU,CACjB,OAASC,GACP,MAAMgE,EAAMC,EAAejE,GAG3B,MAFAoD,KAAKpD,MAAQgE,EAAIE,SAAW,6BAC5Bd,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,sBAAMuE,CAAiBC,EAAaC,GAClCrB,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,IACE,MAAM0E,EAAgBf,MAAMC,QAAQa,GAAaA,EAAUZ,IAAIC,IAAA,CAC7Da,QAASb,EAAEc,QAAUd,EAAEvH,GACvBsI,YAAaf,EAAErG,WAAaqG,EAAEe,aAAef,EAAE5F,IAC/C4G,oBAAqBhB,EAAEgB,qBAAuBhB,EAAEiB,kBAAoB,KACpEC,kBAAmBlB,EAAEjG,WAAaiG,EAAEkB,mBAAqB,KACzDC,YAAanB,EAAEvG,OAASuG,EAAEmB,aAAe,GACzCC,SAAUpB,EAAEoB,UAAYpB,EAAEqB,UAAY,QAClC,CAAC,CACLR,QAASF,EAAUG,QAAUH,EAAUlI,GACvCsI,YAAaJ,EAAUhH,WAAagH,EAAUI,aAAeJ,EAAUvG,IACvE4G,oBAAqBL,EAAUK,qBAAuBL,EAAUM,kBAAoB,KACpFC,kBAAmBP,EAAU5G,WAAa4G,EAAUO,mBAAqB,KACzEC,YAAaR,EAAUlH,OAASkH,EAAUQ,aAAe,GACzDC,SAAUT,EAAUS,UAAYT,EAAUU,UAAY,aAGlD7B,EAAY8B,mBAAmBZ,EAAaE,GAElD,MAAMxD,EAAYkC,KAAK9G,YAAY+I,KAAK1E,GAAOA,EAAIpE,KAAOiI,GAC1D,GAAItD,EAAW,CACb,MAAMoE,EAAaxB,IAAA,CACjBvH,GAAIuH,EAAEa,SAAWb,EAAEvH,IAAMyF,KAAKO,MAC9B9E,UAAWqG,EAAEe,aAAef,EAAErG,WAAaqG,EAAE5F,KAAO,GACpDR,UAAWoG,EAAEpG,WAAaoG,EAAEyB,WAAa,GACzC5H,iBAAkBmG,EAAEnG,kBAAoB,GACxCC,eAAgBkG,EAAElG,gBAAkB,GACpCZ,OAAQoG,KAAKoC,4BAA4B1B,EAAE2B,aAAe,SAC1D5H,UAAWiG,EAAEkB,mBAAqBlB,EAAEjG,WAAa,OACjDN,MAAOuG,EAAEmB,aAAenB,EAAEvG,OAAS,MAGfoG,MAAMC,QAAQa,GAAaA,EAAUZ,IAAIyB,GAAa,CAACA,EAAUb,KACzEiB,QAAQrD,IACpB,MAAMsD,EAAqBzE,EAAU1D,OAAOoI,aAAe9B,EAAErG,YAAc4E,EAAM5E,YACtD,IAAvBkI,EACFzE,EAAU1D,OAAOmI,GAAsB,IAAKzE,EAAU1D,OAAOmI,MAAwBtD,GAErFnB,EAAU1D,OAAOqI,KAAK,CAAEtJ,GAAIyF,KAAKO,SAAUF,MAI/CnB,EAAUhE,cAAgBgE,EAAU1D,OAAOgD,OAC3CU,EAAU/D,cAAgB+D,EAAU1D,OAAOkD,OAAO2B,GAC/B,UAAjBA,EAAMrF,QAAuC,YAAjBqF,EAAMrF,QAAyC,YAAjBqF,EAAMrF,QAChEwD,OACFU,EAAU9D,SAAW8D,EAAUjE,YAAc,EACzCwE,KAAKC,MAAOR,EAAUhE,cAAgBgE,EAAUjE,YAAe,KAC/D,EACJiE,EAAU5D,WAAA,IAAgB0E,MAAOqC,aACnC,CAEAjB,KAAKrD,SAAU,CACjB,OAASC,GACP,MAAMgE,EAAMC,EAAejE,GAG3B,MAFAoD,KAAKpD,MAAQgE,EAAIE,SAAW,6BAC5Bd,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,wBAAM8F,CAAmBtB,GACvBpB,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,IACE,MAAMqD,KAAEA,SAAeC,EAAYyC,aAAavB,GAE1ChH,GADQmG,MAAMC,QAAQ,MAAAP,OAAA,EAAAA,EAAM2C,OAAS3C,EAAK2C,MAAQ,IACnCnC,IAAKoC,GAAS7C,KAAK8C,kBAAkBD,IAE1D,OADA7C,KAAKrD,SAAU,EACRvC,CACT,OAASwC,GACP,MAAMgE,EAAMC,EAAejE,GAG3B,MAFAoD,KAAKpD,MAAQgE,EAAIE,SAAW,wCAC5Bd,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,uBAAA+D,CAAwBD,GACtB,MAAM7G,EAAc6G,EAAEqC,aAAerC,EAAEsC,uBAAyB,EAC1DlJ,GAAiB4G,EAAEuC,iBAAmB,IAAMvC,EAAEwC,mBAAqB,IAAMxC,EAAEyC,uBAAyB,IAAMzC,EAAE0C,cAAgB,GAC5HpJ,EAAWH,EAAc,EAAIwE,KAAKC,MAAOxE,EAAgBD,EAAe,KAAO,EASrF,MAAO,CACLV,GAAIuH,EAAEvH,GACNC,KAAMsH,EAAE2C,MAAQ,OAAO3C,EAAEvH,KACzBE,YAAaqH,EAAEyB,WAAa,GAC5B7I,SAAUoH,EAAE4C,eAAiB,GAC7B9J,YAAa,GACbE,UAAWgH,EAAE6C,YAAcC,OAAO9C,EAAE6C,aAAarC,MAAM,KAAK,GAAK,GACjEvH,QAAS+G,EAAE+C,SAAWD,OAAO9C,EAAE+C,UAAUvC,MAAM,KAAK,GAAK,GACzDtH,OAhBgB,CAChB8J,UAAa,UACbC,aAAgB,cAChBC,cAAiB,cACjBC,WAAc,YACdC,UAAa,aAWKpD,EAAE9G,SAAW8G,EAAE9G,QAAU,UAC3CC,cACAC,gBACAC,eAAgB2G,EAAEwC,mBAAqB,IAAMxC,EAAEyC,uBAAyB,IAAMzC,EAAE0C,cAAgB,GAChGpJ,WACAC,UAAWyG,EAAEqD,WAAa,GAC1B7J,UAAWwG,EAAEsD,eAAiB,GAC9B7J,MAAOuG,EAAEuD,oBAAsB,GAC/B7J,OAAQ,GAEZ,EAGA,iBAAA0I,CAAkBD,GAChB,MAAO,CACL1J,GAAI0J,EAAK1J,IAAM0J,EAAKtB,SAAW3C,KAAKO,MACpC9E,UAAWwI,EAAKqB,QAAUrB,EAAKsB,YAActB,EAAK/H,KAAO,GACzDR,UAAWuI,EAAKV,WAAaU,EAAKQ,MAAQ,GAC1C9I,iBAAkBsI,EAAKuB,gBAAkBvB,EAAKwB,qBAAuB,GACrE7J,eAAgBqI,EAAKyB,kBAAoBzB,EAAK0B,uBAAyB1B,EAAKtI,kBAAoB,GAChGX,OAAQoG,KAAKoC,4BAA4BS,EAAKR,cAAmC,aAAnBQ,EAAK2B,UAA2B,QAAU,gBACxG/J,UAAWoI,EAAKjB,mBAAqB,OACrCzH,MAAO0I,EAAKhB,aAAe,GAE/B,GAIF,qBAAMb,CAAgB7H,EAAIsL,GACxBzE,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,UAEQ,IAAI8H,QAAQC,GAAWC,WAAWD,EAAS,MAEjD,MAAME,EAAQ7E,KAAK9G,YAAYsJ,UAAUjF,GAAOA,EAAIpE,KAAOA,IAC7C,IAAV0L,IACF7E,KAAK9G,YAAY2L,GAAS,IACrB7E,KAAK9G,YAAY2L,MACjBJ,EACHvK,WAAA,IAAe0E,MAAOqC,gBAI1BjB,KAAKrD,SAAU,CACjB,OAASC,GAGP,MAFAoD,KAAKpD,MAAQ,+BACboD,KAAKrD,SAAU,EACTC,CACR,CACF,EAGAwF,4BAA4BC,IACR,CAChByC,MAAO,QACPC,UAAW,UACXC,QAAS,UACTC,eAAgB,QAChBC,YAAa,WAEE7C,IAAgB,WAInC,qBAAM8C,CAAgBC,GACpBpF,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,UACQ,IAAI8H,QAAQC,GAAWC,WAAWD,EAAS,MAEjD,MAAMU,EAAe,CACnBlM,GAAIyF,KAAKO,MACT/F,KAAM,QAAA,IAAWwF,MAAO0G,iBAAiB9B,OAAOxD,KAAK9G,YAAYkE,OAAS,GAAGmI,SAAS,EAAG,UACtFH,EACHxL,OAAQ,UACRC,YAAa,EACbC,cAAe,EACfC,cAAe,EACfC,SAAU,EACVI,OAAQ,GACRH,WAAA,IAAe2E,MAAOqC,cACtB/G,WAAA,IAAe0E,MAAOqC,eAKxB,OAFAjB,KAAK9G,YAAYsM,QAAQH,GACzBrF,KAAKrD,SAAU,EACR0I,CACT,OAASzI,GAGP,MAFAoD,KAAKpD,MAAQ,2BACboD,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,uBAAM6I,CAAkBtM,SAChB6G,KAAKgB,gBAAgB7H,EAAI,CAC7BS,OAAQ,YACRD,SAAA,IAAaiF,MAAOqC,cAAcC,MAAM,KAAK,GAC7ClH,SAAU,KAEd,EAGA,qBAAM0L,CAAgBvM,SACd6G,KAAKgB,gBAAgB7H,EAAI,CAAES,OAAQ,aAC3C,EAGA,6BAAM+L,CAAwBvE,EAAawE,GACzC5F,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,UACQ,IAAI8H,QAAQC,GAAWC,WAAWD,EAAS,MAEjD,MAAM7G,EAAYkC,KAAK9G,YAAY+I,KAAK1E,GAAOA,EAAIpE,KAAOiI,GACtDtD,IACFA,EAAU1D,OAASwL,EAAenF,IAAIxB,IAAA,CACpC9F,GAAI8F,EAAM9F,GACVkB,UAAW4E,EAAMnE,IACjBR,UAAW2E,EAAM1F,KACjBgB,iBAAkB0E,EAAM3F,SACxBkB,eAAgByE,EAAMzE,gBAAkByE,EAAM3F,SAC9CM,OAAQoG,KAAKoC,4BAA4BnD,EAAMoD,aAC/C5H,UAAWwE,EAAMxE,WAAa,OAC9BN,MAAO8E,EAAM4G,YAAc,GAC3BC,QAAS7G,EAAM6G,UAAW,EAC1BC,eAAgB9G,EAAM8G,iBAAkB,KAG1CjI,EAAUhE,cAAgB8L,EAAetI,OAAO2B,GAASA,EAAM6G,SAAS1I,OACxEU,EAAU/D,cAAgB6L,EAAetI,OAAO2B,GAASA,EAAM8G,gBAAgB3I,OAC/EU,EAAUjE,YAAc+L,EAAexI,OAEvCU,EAAU9D,SAAW8D,EAAUjE,YAAc,EACzCwE,KAAKC,MAAOR,EAAUhE,cAAgBgE,EAAUjE,YAAe,KAC/D,EAEuB,MAAvBiE,EAAU9D,UACZ8D,EAAUlE,OAAS,YACnBkE,EAAUnE,SAAA,IAAciF,MAAOqC,cAAcC,MAAM,KAAK,IAC/CpD,EAAU9D,SAAW,GAA0B,YAArB8D,EAAUlE,SAC7CkE,EAAUlE,OAAS,eAGrBkE,EAAU5D,WAAA,IAAgB0E,MAAOqC,eAGnCjB,KAAKrD,SAAU,CACjB,OAASC,GAGP,MAFAoD,KAAKpD,MAAQ,2CACboD,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,oBAAMoJ,CAAeC,GACnB,IAAK1F,MAAMC,QAAQyF,IAAqC,IAAtBA,EAAW7I,OAC3C,MAAO,CAAE8I,UAAW,EAAGC,OAAQ,GAGjCnG,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,MAAMwJ,EAAUH,EAAWxI,OAAO,CAACI,EAAKgF,KACtC,MAAMwD,EAAQxD,EAAKzB,YACnB,OAAKiF,GACAxI,EAAIwI,KAAQxI,EAAIwI,GAAS,IAC9BxI,EAAIwI,GAAO5D,KAAKI,GACThF,GAHYA,GAIlB,CAAA,GAEH,IAAIqI,EAAY,EACZC,EAAS,EAEb,IAAA,MAAY/E,EAAad,KAAUgG,OAAOC,QAAQH,GAAU,CAC1D,MAAMI,EAAUlG,EAAMG,IAAIgG,IAAA,CACxBjF,OAAQiF,EAAGC,SAAWD,EAAGjF,QAAU,KACnCnH,UAAWoM,EAAGrN,MAAQqN,EAAGpM,WAAa,GACtCI,UAAWgM,EAAGhM,WAAa,OAC3BN,OAAQsM,EAAGtM,OAAS,KAAOsM,EAAGtM,MAAQ,IAAM,IAAM,0BAClDkI,YAAaoE,EAAG7M,QAAU,WAG5B,GAAK4M,EAAQpJ,OAEb,UACQ4C,KAAKmB,iBAAiBwF,SAASvF,EAAa,IAAKoF,GACvDN,GAAa5F,EAAMlD,MACrB,OAASR,GACPuJ,GAAU7F,EAAMlD,OAChB,MAAMwD,EAAMC,EAAiBA,EAAejE,GAAS,KACrDoD,KAAKpD,MAASgE,GAAOA,EAAIE,SAAY,sCACvC,CACF,CAGA,OADAd,KAAKrD,SAAU,EACR,CAAEuJ,YAAWC,SACtB,EAEA,UAAAS,GACE5G,KAAKpD,MAAQ,IACf,EAGA,qBAAMiK,CAAgB1N,GACpB6G,KAAKrD,SAAU,EACfqD,KAAKpD,MAAQ,KAEb,UACQ,IAAI8H,QAAQC,GAAWC,WAAWD,EAAS,MAEjD,MAAME,EAAQ7E,KAAK9G,YAAYsJ,UAAUjF,GAAOA,EAAIpE,KAAOA,IAC7C,IAAV0L,GACF7E,KAAK9G,YAAY4N,OAAOjC,EAAO,GAGjC7E,KAAKrD,SAAU,CACjB,OAASC,GAGP,MAFAoD,KAAKpD,MAAQ,6BACboD,KAAKrD,SAAU,EACTC,CACR,CACF,EAGA,aAAAmK,CAActI,GACZuB,KAAKnD,WAAa4B,CACpB,EAGA,UAAAuI,CAAWlK,GACTkD,KAAKlD,QAAU,IAAKkD,KAAKlD,WAAYA,EACvC,EAEA,YAAAmK,GACEjH,KAAKlD,QAAU,CACblD,OAAQ,GACRN,SAAU,GACVE,YAAa,GACbuD,UAAW,CAAEC,MAAO,GAAIC,IAAK,KAE/B+C,KAAKnD,WAAa,EACpB,EAGA,uBAAMqK,CAAkBC,EAAS,OAC/B,IACE,MAAMjO,EAAc8G,KAAKzB,oBAEzB,GAAe,QAAX4I,EAAkB,CACpB,MAAMC,EAAapH,KAAKqH,YAAYnO,GACpC8G,KAAKsH,aAAaF,EAAY,gBAAA,IAAmBxI,MAAOqC,cAAcC,MAAM,KAAK,SAAU,WAC7F,CAEA,OAAO,CACT,OAAStE,GAEP,MADAoD,KAAKpD,MAAQ,yBACPA,CACR,CACF,EAGA,WAAAyK,CAAYnO,GA+BV,MAAO,CA9BS,CACd,SACA,YACA,cACA,cACA,SACA,cACA,WACA,eACA,kBACA,gBACA,gBACA,kBAGWA,EAAYuH,IAAI3C,GAAa,CACxCA,EAAU1E,KACV0E,EAAUzE,YACVyE,EAAUxE,SACVwE,EAAUtE,YACVwG,KAAKuH,eAAezJ,EAAUlE,QAC9BkE,EAAUpE,UACVoE,EAAUnE,SAAW,GACrBmE,EAAUjE,YACViE,EAAUhE,cACVgE,EAAU/D,cACV+D,EAAU9D,SACV8D,EAAU3D,OAAS,MAIlBsG,OAAW+G,EAAI/G,OAAa,IAAIgH,MAAUC,KAAK,MAC/CA,KAAK,KACV,EAGA,YAAAJ,CAAaK,EAASC,EAAUC,GAC9B,MAAMC,EAAO,IAAIC,KAAK,CAACJ,GAAU,CAAElM,KAAMoM,IACnCG,EAAMC,OAAOC,IAAIC,gBAAgBL,GACjCM,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAOP,EACZI,EAAKI,SAAWZ,EAChBS,SAASI,KAAKC,YAAYN,GAC1BA,EAAKO,QACLN,SAASI,KAAKG,YAAYR,GAC1BH,OAAOC,IAAIW,gBAAgBb,EAC7B,EAGAT,eAAe3N,IACQ,CACnBkP,QAAS,YACTC,YAAa,eACbC,UAAW,YACXC,UAAW,aAEOrP,IAAWA,GAIjCsP,eAAetP,IACQ,CACnBkP,QAAS,OACTC,YAAa,SACbC,UAAW,QACXC,UAAW,OAEOrP,IAAW"}