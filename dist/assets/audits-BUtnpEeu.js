import{b as e}from"./vue-vendor-BY5hdAT7.js";const t=e("audits",{state:()=>({audits:[{id:1,code:"AUD-2024-001",title:"Auditoria Anual de Inventário",description:"Auditoria completa do inventário de ativos da empresa",type:"inventory",status:"in_progress",priority:"high",progress:65,auditor:{id:1,name:"Ana Silva",email:"ana.silva@empresa.com"},team:[{id:1,name:"Ana Silva",role:"Auditor Principal"},{id:2,name:"João Santos",role:"Auditor Assistente"}],location:{id:1,name:"Sede Principal",address:"Av. Paulista, 1000"},startDate:"2024-01-15",endDate:"2024-02-15",plannedHours:120,actualHours:78,objectives:["Verificar a precisão do inventário de ativos","Identificar discrepâncias entre sistema e físico","Avaliar controles de movimentação de ativos"],scope:"Todos os ativos de TI da sede principal",methodology:"Contagem física e reconciliação com sistema",findings:[{id:1,type:"discrepancy",title:"Notebooks não localizados",description:"5 notebooks não foram encontrados no setor de TI",severity:"high",status:"open",assignedTo:"João Santos",dueDate:"2024-02-01",createdAt:"2024-01-18T10:30:00Z"},{id:2,type:"control_weakness",title:"Controle de acesso inadequado",description:"Almoxarifado sem controle adequado de entrada e saída",severity:"medium",status:"in_progress",assignedTo:"Ana Silva",dueDate:"2024-01-30",createdAt:"2024-01-20T14:15:00Z"}],recommendations:["Implementar sistema de rastreamento RFID","Melhorar controles de acesso ao almoxarifado","Realizar inventários trimestrais"],attachments:[{id:1,name:"checklist_auditoria.pdf",size:"2.5 MB"},{id:2,name:"fotos_evidencias.zip",size:"15.2 MB"}],createdAt:"2024-01-10T10:00:00Z",updatedAt:"2024-01-20T15:30:00Z"},{id:2,code:"AUD-2024-002",title:"Auditoria de Conformidade SOX",description:"Verificação de conformidade com regulamentações SOX",type:"compliance",status:"planned",priority:"high",progress:0,auditor:{id:2,name:"Carlos Santos",email:"carlos.santos@empresa.com"},team:[{id:2,name:"Carlos Santos",role:"Auditor Principal"},{id:3,name:"Maria Oliveira",role:"Especialista SOX"}],location:{id:2,name:"Filial São Paulo",address:"Rua Augusta, 500"},startDate:"2024-02-01",endDate:"2024-02-28",plannedHours:200,actualHours:0,objectives:["Garantir conformidade com controles internos SOX","Avaliar eficácia dos controles financeiros","Identificar gaps de conformidade"],scope:"Controles financeiros e de TI relacionados ao SOX",methodology:"Testes de controles e revisão documental",findings:[],recommendations:[],attachments:[],createdAt:"2024-01-05T09:00:00Z",updatedAt:"2024-01-05T09:00:00Z"},{id:3,code:"AUD-2023-015",title:"Auditoria de Segurança da Informação",description:"Avaliação dos controles de segurança da informação",type:"security",status:"completed",priority:"high",progress:100,auditor:{id:3,name:"Maria Oliveira",email:"maria.oliveira@empresa.com"},team:[{id:3,name:"Maria Oliveira",role:"Auditor Principal"},{id:4,name:"Pedro Costa",role:"Especialista Segurança"}],location:{id:1,name:"Sede Principal",address:"Av. Paulista, 1000"},startDate:"2023-12-01",endDate:"2023-12-31",plannedHours:160,actualHours:155,objectives:["Avaliar eficácia dos controles de segurança","Verificar conformidade com políticas de segurança","Identificar vulnerabilidades"],scope:"Infraestrutura de TI e políticas de segurança",methodology:"Testes de penetração e revisão de políticas",findings:[{id:3,type:"vulnerability",title:"Senhas fracas em sistemas",description:"Identificadas senhas fracas em alguns sistemas críticos",severity:"medium",status:"resolved",assignedTo:"Pedro Costa",dueDate:"2023-12-20",createdAt:"2023-12-10T09:00:00Z"},{id:4,type:"non_compliance",title:"Backup não testado",description:"Backup não foi testado nos últimos 6 meses",severity:"high",status:"resolved",assignedTo:"Maria Oliveira",dueDate:"2023-12-25",createdAt:"2023-12-12T14:30:00Z"}],recommendations:["Implementar política de senhas mais rigorosa","Estabelecer cronograma regular de testes de backup","Realizar treinamentos de segurança"],attachments:[{id:3,name:"relatorio_seguranca.pdf",size:"5.8 MB"},{id:4,name:"evidencias_testes.zip",size:"25.1 MB"}],createdAt:"2023-11-15T14:00:00Z",updatedAt:"2024-01-05T16:45:00Z"},{id:4,code:"AUD-2024-003",title:"Auditoria de Processos Operacionais",description:"Revisão dos processos operacionais da empresa",type:"operational",status:"draft",priority:"medium",progress:0,auditor:{id:4,name:"Roberto Lima",email:"roberto.lima@empresa.com"},team:[{id:4,name:"Roberto Lima",role:"Auditor Principal"}],location:{id:3,name:"Filial Rio de Janeiro",address:"Av. Copacabana, 200"},startDate:"2024-03-01",endDate:"2024-03-31",plannedHours:100,actualHours:0,objectives:["Avaliar eficiência dos processos operacionais","Identificar oportunidades de melhoria","Verificar aderência aos procedimentos"],scope:"Processos de produção e logística",methodology:"Observação direta e entrevistas",findings:[],recommendations:[],attachments:[],createdAt:"2024-01-25T11:00:00Z",updatedAt:"2024-01-25T11:00:00Z"}],filters:{search:"",type:"",status:"",priority:"",auditor:"",location:""},loading:!1,error:null}),getters:{filteredAudits:e=>{let t=[...e.audits];if(e.filters.search){const a=e.filters.search.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(a)||e.code.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.auditor.name.toLowerCase().includes(a))}return e.filters.type&&(t=t.filter(t=>t.type===e.filters.type)),e.filters.status&&(t=t.filter(t=>t.status===e.filters.status)),e.filters.priority&&(t=t.filter(t=>t.priority===e.filters.priority)),e.filters.auditor&&(t=t.filter(t=>t.auditor.id===parseInt(e.filters.auditor))),e.filters.location&&(t=t.filter(t=>t.location.id===parseInt(e.filters.location))),t},totalAudits:e=>e.audits.length,auditsByStatus:e=>{const t={};return e.audits.forEach(e=>{t[e.status]=(t[e.status]||0)+1}),t},activeAudits:e=>e.audits.filter(e=>"in_progress"===e.status),completedAudits:e=>e.audits.filter(e=>"completed"===e.status),plannedAudits:e=>e.audits.filter(e=>"planned"===e.status),draftAudits:e=>e.audits.filter(e=>"draft"===e.status),auditsByType:e=>{const t={};return e.audits.forEach(e=>{t[e.type]=(t[e.type]||0)+1}),t},auditsByPriority:e=>{const t={};return e.audits.forEach(e=>{t[e.priority]=(t[e.priority]||0)+1}),t},auditsWithIssues:e=>e.audits.filter(e=>e.findings.some(e=>"open"===e.status&&"high"===e.severity)),averageProgress:e=>{if(0===e.audits.length)return 0;const t=e.audits.reduce((e,t)=>e+t.progress,0);return Math.round(t/e.audits.length)},uniqueAuditors:e=>e.audits.map(e=>e.auditor).filter((e,t,a)=>t===a.findIndex(t=>t.id===e.id)),uniqueLocations:e=>e.audits.map(e=>e.location).filter((e,t,a)=>t===a.findIndex(t=>t.id===e.id)),availableTypes:()=>[{value:"inventory",label:"Inventário"},{value:"compliance",label:"Conformidade"},{value:"security",label:"Segurança"},{value:"operational",label:"Operacional"},{value:"financial",label:"Financeira"},{value:"quality",label:"Qualidade"}],availableStatuses:()=>[{value:"draft",label:"Rascunho"},{value:"planned",label:"Planejada"},{value:"in_progress",label:"Em Andamento"},{value:"completed",label:"Concluída"},{value:"cancelled",label:"Cancelada"}],availablePriorities:()=>[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"},{value:"critical",label:"Crítica"}]},actions:{addAudit(e){const t={id:Math.max(...this.audits.map(e=>e.id),0)+1,code:this.generateAuditCode(),...e,progress:0,findings:[],recommendations:[],attachments:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};return this.audits.push(t),t},updateAudit(e,t){const a=this.audits.findIndex(t=>t.id===e);return-1!==a?(this.audits[a]={...this.audits[a],...t,updatedAt:(new Date).toISOString()},this.audits[a]):null},deleteAudit(e){const t=this.audits.findIndex(t=>t.id===e);return-1!==t&&(this.audits.splice(t,1),!0)},findAuditById(e){return this.audits.find(t=>t.id===e)},startAudit(e){const t=this.findAuditById(e);return t&&"planned"===t.status?(t.status="in_progress",t.updatedAt=(new Date).toISOString(),t):null},completeAudit(e){const t=this.findAuditById(e);return t&&"in_progress"===t.status?(t.status="completed",t.progress=100,t.updatedAt=(new Date).toISOString(),t):null},cancelAudit(e){const t=this.findAuditById(e);return t&&["planned","in_progress"].includes(t.status)?(t.status="cancelled",t.updatedAt=(new Date).toISOString(),t):null},updateProgress(e,t){const a=this.findAuditById(e);return a?(a.progress=Math.min(100,Math.max(0,t)),a.updatedAt=(new Date).toISOString(),a):null},addFinding(e,t){const a=this.findAuditById(e);if(a){const e={id:Math.max(...a.findings.map(e=>e.id),0)+1,...t,createdAt:(new Date).toISOString()};return a.findings.push(e),a.updatedAt=(new Date).toISOString(),e}return null},updateFinding(e,t,a){const i=this.findAuditById(e);if(i){const e=i.findings.findIndex(e=>e.id===t);if(-1!==e)return i.findings[e]={...i.findings[e],...a},i.updatedAt=(new Date).toISOString(),i.findings[e]}return null},generateAuditCode(){const e=(new Date).getFullYear(),t=this.audits.filter(t=>t.code.includes(e.toString())).length+1;return`AUD-${e}-${t.toString().padStart(3,"0")}`},setSearchFilter(e){this.filters.search=e},setTypeFilter(e){this.filters.type=e},setStatusFilter(e){this.filters.status=e},setPriorityFilter(e){this.filters.priority=e},setAuditorFilter(e){this.filters.auditor=e},setLocationFilter(e){this.filters.location=e},clearFilters(){this.filters={search:"",type:"",status:"",priority:"",auditor:"",location:""}},exportAudits(){return this.filteredAudits.map(e=>{var t,a,i;return{"Código":e.code,"Título":e.title,Tipo:(null==(t=this.availableTypes.find(t=>t.value===e.type))?void 0:t.label)||e.type,Status:(null==(a=this.availableStatuses.find(t=>t.value===e.status))?void 0:a.label)||e.status,Prioridade:(null==(i=this.availablePriorities.find(t=>t.value===e.priority))?void 0:i.label)||e.priority,Auditor:e.auditor.name,"Localização":e.location.name,"Data Início":e.startDate,"Data Fim":e.endDate,"Progresso (%)":e.progress,Achados:e.findings.length,"Data Criação":new Date(e.createdAt).toLocaleDateString("pt-BR")}})}}});export{t as u};
//# sourceMappingURL=audits-BUtnpEeu.js.map
