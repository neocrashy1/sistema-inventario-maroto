import{r as e,H as a,o as s,e as i,f as l,x as r,D as n,a9 as o,B as t,z as d,u as c,m as u,K as p,ao as m,F as f,C as v,y as b,k as h}from"./vue-vendor-BY5hdAT7.js";import{_ as w,f as y,l as g}from"./index-Dur0lEaU.js";import{b as P}from"./utils-vendor-COuxBHZ0.js";import{p as S}from"./pt-BR-DyUPfqrK.js";const N={class:"profile-page"},k={class:"profile-content"},U={class:"profile-card"},x={class:"card-header"},V={class:"profile-avatar-section"},C={class:"avatar-info"},D={class:"form-row"},A={class:"form-group"},j=["disabled"],E={class:"form-group"},I=["disabled"],R={class:"form-row"},T={class:"form-group"},q=["disabled"],_={class:"form-group"},O=["disabled"],z={key:0,class:"form-actions"},B={class:"profile-card"},J={class:"form-group"},F={class:"form-row"},H={class:"form-group"},G={class:"form-group"},K={class:"profile-card"},L={class:"preferences-section"},M={class:"preference-item"},Q={class:"switch"},W={class:"preference-item"},X={class:"switch"},Y={class:"preference-item"},Z={class:"switch"},$={class:"profile-card"},ee={class:"activity-list"},ae={class:"activity-icon"},se={class:"activity-content"},ie={class:"activity-description"},le={class:"activity-time"},re=w({__name:"Profile",setup(w){const re=y(),ne=e(!1),oe=a({name:"",email:"",phone:"",department:""}),te=a({currentPassword:"",newPassword:"",confirmPassword:""}),de=a({emailNotifications:!0,pushNotifications:!1,darkTheme:!1}),ce=e([{id:1,description:"Login realizado com sucesso",icon:"fas fa-sign-in-alt text-success",time:new Date(Date.now()-18e5)},{id:2,description:"Perfil atualizado",icon:"fas fa-user-edit text-primary",time:new Date(Date.now()-72e5)},{id:3,description:"Senha alterada",icon:"fas fa-key text-warning",time:new Date(Date.now()-864e5)}]),ue=()=>{re.user&&(oe.name=re.user.name||"",oe.email=re.user.email||"",oe.phone=re.user.phone||"",oe.department=re.user.department||"")},pe=()=>{g.debug("Salvando informações básicas:",oe),ne.value=!1,re.user&&(re.user.name=oe.name,re.user.email=oe.email,re.user.phone=oe.phone,re.user.department=oe.department,localStorage.setItem("user",JSON.stringify(re.user)))},me=()=>{ne.value=!1,ue()},fe=()=>{te.newPassword===te.confirmPassword?(g.debug("Alterando senha..."),alert("Senha alterada com sucesso!"),te.currentPassword="",te.newPassword="",te.confirmPassword=""):alert("As senhas não coincidem!")},ve=()=>{g.debug("Salvando preferências:",de),localStorage.setItem("userPreferences",JSON.stringify(de))};return s(()=>{ue(),s(()=>{loadUser(),(()=>{const e=localStorage.getItem("userPreferences");if(e)try{const a=JSON.parse(e);a&&"object"==typeof a&&Object.assign(de,a)}catch{}})()})}),(e,a)=>(h(),i("div",N,[a[32]||(a[32]=l("div",{class:"page-header"},[l("h1",null,"Perfil do Usuário"),l("p",null,"Gerencie suas informações pessoais e configurações de conta")],-1)),l("div",k,[l("div",U,[l("div",x,[a[12]||(a[12]=l("h2",null,"Informações Básicas",-1)),ne.value?r("",!0):(h(),i("button",{key:0,onClick:a[0]||(a[0]=e=>ne.value=!0),class:"btn btn-outline"},[...a[11]||(a[11]=[l("i",{class:"fas fa-edit"},null,-1),n(" Editar ",-1)])]))]),l("div",V,[a[13]||(a[13]=o('<div class="avatar-container" data-v-9b507bac><div class="user-avatar" data-v-9b507bac><i class="fas fa-user" data-v-9b507bac></i></div><button class="change-avatar-btn" data-v-9b507bac><i class="fas fa-camera" data-v-9b507bac></i></button></div>',1)),l("div",C,[l("h3",null,t(d(re).userName),1),l("p",null,t("admin"===d(re).userRole?"Administrador":"Usuário"),1)])]),l("form",{onSubmit:c(pe,["prevent"]),class:"profile-form"},[l("div",D,[l("div",A,[a[14]||(a[14]=l("label",{for:"name"},"Nome Completo",-1)),u(l("input",{id:"name","onUpdate:modelValue":a[1]||(a[1]=e=>oe.name=e),type:"text",disabled:!ne.value,required:""},null,8,j),[[p,oe.name]])]),l("div",E,[a[15]||(a[15]=l("label",{for:"email"},"E-mail",-1)),u(l("input",{id:"email","onUpdate:modelValue":a[2]||(a[2]=e=>oe.email=e),type:"email",disabled:!ne.value,required:""},null,8,I),[[p,oe.email]])])]),l("div",R,[l("div",T,[a[16]||(a[16]=l("label",{for:"phone"},"Telefone",-1)),u(l("input",{id:"phone","onUpdate:modelValue":a[3]||(a[3]=e=>oe.phone=e),type:"tel",disabled:!ne.value,placeholder:"(11) 99999-9999"},null,8,q),[[p,oe.phone]])]),l("div",_,[a[17]||(a[17]=l("label",{for:"department"},"Departamento",-1)),u(l("input",{id:"department","onUpdate:modelValue":a[4]||(a[4]=e=>oe.department=e),type:"text",disabled:!ne.value,placeholder:"Ex: TI, RH, Financeiro"},null,8,O),[[p,oe.department]])])]),ne.value?(h(),i("div",z,[a[18]||(a[18]=l("button",{type:"submit",class:"btn btn-primary"},[l("i",{class:"fas fa-save"}),n(" Salvar Alterações ")],-1)),l("button",{type:"button",onClick:me,class:"btn btn-outline"}," Cancelar ")])):r("",!0)],32)]),l("div",B,[a[23]||(a[23]=l("div",{class:"card-header"},[l("h2",null,"Segurança")],-1)),l("form",{onSubmit:c(fe,["prevent"]),class:"profile-form"},[l("div",J,[a[19]||(a[19]=l("label",{for:"currentPassword"},"Senha Atual",-1)),u(l("input",{id:"currentPassword","onUpdate:modelValue":a[5]||(a[5]=e=>te.currentPassword=e),type:"password",required:""},null,512),[[p,te.currentPassword]])]),l("div",F,[l("div",H,[a[20]||(a[20]=l("label",{for:"newPassword"},"Nova Senha",-1)),u(l("input",{id:"newPassword","onUpdate:modelValue":a[6]||(a[6]=e=>te.newPassword=e),type:"password",required:"",minlength:"6"},null,512),[[p,te.newPassword]])]),l("div",G,[a[21]||(a[21]=l("label",{for:"confirmPassword"},"Confirmar Nova Senha",-1)),u(l("input",{id:"confirmPassword","onUpdate:modelValue":a[7]||(a[7]=e=>te.confirmPassword=e),type:"password",required:"",minlength:"6"},null,512),[[p,te.confirmPassword]])])]),a[22]||(a[22]=l("div",{class:"form-actions"},[l("button",{type:"submit",class:"btn btn-primary"},[l("i",{class:"fas fa-key"}),n(" Alterar Senha ")])],-1))],32)]),l("div",K,[a[30]||(a[30]=l("div",{class:"card-header"},[l("h2",null,"Preferências")],-1)),l("div",L,[l("div",M,[a[25]||(a[25]=l("div",{class:"preference-info"},[l("h4",null,"Notificações por E-mail"),l("p",null,"Receber notificações sobre atividades do sistema")],-1)),l("label",Q,[u(l("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>de.emailNotifications=e),onChange:ve},null,544),[[m,de.emailNotifications]]),a[24]||(a[24]=l("span",{class:"slider"},null,-1))])]),l("div",W,[a[27]||(a[27]=l("div",{class:"preference-info"},[l("h4",null,"Notificações Push"),l("p",null,"Receber notificações em tempo real no navegador")],-1)),l("label",X,[u(l("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=e=>de.pushNotifications=e),onChange:ve},null,544),[[m,de.pushNotifications]]),a[26]||(a[26]=l("span",{class:"slider"},null,-1))])]),l("div",Y,[a[29]||(a[29]=l("div",{class:"preference-info"},[l("h4",null,"Tema Escuro"),l("p",null,"Usar tema escuro na interface")],-1)),l("label",Z,[u(l("input",{type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=e=>de.darkTheme=e),onChange:ve},null,544),[[m,de.darkTheme]]),a[28]||(a[28]=l("span",{class:"slider"},null,-1))])])])]),l("div",$,[a[31]||(a[31]=l("div",{class:"card-header"},[l("h2",null,"Atividade Recente")],-1)),l("div",ee,[(h(!0),i(f,null,v(ce.value,e=>{return h(),i("div",{key:e.id,class:"activity-item"},[l("div",ae,[l("i",{class:b(e.icon)},null,2)]),l("div",se,[l("p",ie,t(e.description),1),l("span",le,t((a=e.time,P(a,{addSuffix:!0,locale:S}))),1)])]);var a}),128))])])])]))}},[["__scopeId","data-v-9b507bac"]]);export{re as default};
//# sourceMappingURL=Profile-E0CUrRJ8.js.map
