<svg width="1100" height="700" viewBox="0 0 1100 700" xmlns="http://www.w3.org/2000/svg">
  <style>
    .box { fill: #0ea5e9; stroke: #0369a1; stroke-width: 2; rx: 12; }
    .box-secondary { fill: #f97316; stroke: #c2410c; stroke-width: 2; rx: 12; }
    .box-muted { fill: #e5e7eb; stroke: #9ca3af; stroke-width: 2; rx: 12; }
    .text { font-family: Arial, Helvetica, sans-serif; font-size: 16px; fill: #111827; }
    .title { font-size: 20px; font-weight: bold; }
    .link { stroke: #111827; stroke-width: 2; marker-end: url(#arrow); }
    .link-secure { stroke: #16a34a; stroke-width: 2; marker-end: url(#arrow); }
    .caption { font-family: Arial, Helvetica, sans-serif; font-size: 12px; fill: #374151; }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L6,3 L0,6" fill="#111827" />
    </marker>
  </defs>

  <!-- Titles -->
  <text x="30" y="40" class="text title">Arquitetura: Agente Python → API REST → Banco → Dashboard React</text>
  <text x="30" y="65" class="caption">TLS, Auth Bearer (JWT/Token), RBAC</text>

  <!-- Agent Python -->
  <rect x="40" y="120" width="280" height="120" class="box" />
  <text x="60" y="150" class="text title">Agente Python</text>
  <text x="60" y="175" class="text">• Coleta métricas (CPU/Mem/Disk)</text>
  <text x="60" y="195" class="text">• Envia /machines/status</text>
  <text x="60" y="215" class="text">• Dispara /alerts/send</text>

  <!-- API REST (FastAPI) -->
  <rect x="380" y="100" width="340" height="160" class="box-secondary" />
  <text x="400" y="130" class="text title">API REST (FastAPI)</text>
  <text x="400" y="155" class="text">• Endpoints v1</text>
  <text x="400" y="175" class="text">/machines/register</text>
  <text x="400" y="195" class="text">/machines/status</text>
  <text x="400" y="215" class="text">/tickets/create</text>
  <text x="400" y="235" class="text">/alerts/send</text>

  <!-- DB -->
  <rect x="780" y="100" width="280" height="160" class="box-muted" />
  <text x="800" y="130" class="text title">Banco de Dados</text>
  <text x="800" y="155" class="text">• PostgreSQL (preferido)</text>
  <text x="800" y="175" class="text">• Compatível SQL Server</text>
  <text x="800" y="195" class="text">• SQLAlchemy + Alembic</text>

  <!-- Dashboard React -->
  <rect x="380" y="320" width="340" height="160" class="box" />
  <text x="400" y="350" class="text title">Dashboard React</text>
  <text x="400" y="375" class="text">• Vite + React + Tailwind</text>
  <text x="400" y="395" class="text">• Visualiza métricas e alertas</text>
  <text x="400" y="415" class="text">• Gestão de tickets</text>

  <!-- Links -->
  <line x1="320" y1="180" x2="380" y2="180" class="link-secure" />
  <text x="330" y="170" class="caption">HTTPS + Bearer</text>

  <line x1="720" y1="180" x2="780" y2="180" class="link-secure" />
  <text x="730" y="170" class="caption">SQL/TLS</text>

  <line x1="550" y1="260" x2="550" y2="320" class="link-secure" />
  <text x="560" y="290" class="caption">HTTPS + Token</text>

  <!-- Security & Observability -->
  <rect x="780" y="320" width="280" height="160" class="box-muted" />
  <text x="800" y="350" class="text title">Segurança & Observabilidade</text>
  <text x="800" y="375" class="text">• TLS obrigatório</text>
  <text x="800" y="395" class="text">• Auth Bearer (JWT/OAuth2)</text>
  <text x="800" y="415" class="text">• Logs (structlog)</text>
  <text x="800" y="435" class="text">• RBAC por escopos</text>

  <!-- Notes -->
  <text x="40" y="530" class="caption">Fluxo: Agente envia métricas → API valida e persiste → Dashboard consulta e visualiza.</text>
  <text x="40" y="550" class="caption">Cross-cutting: Notificações e automações (criação de ticket em alertas críticos).</text>
</svg>